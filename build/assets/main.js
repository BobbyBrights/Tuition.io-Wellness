"use strict";function optimizer(){$optItem=$(".opt-options__item"),$optItem.on("click",function(){$optItem.removeClass("active"),$(this).addClass("active"),$("#opt-2 .button").removeClass("inactive")}),$optCheck=$(".optimizations-item input"),$optCheck.change(function(){$("#opt-4 .button").removeClass("inactive")})}function forms(){var t=!1;$(".about-form-input").each(function(){""===$(this).val()&&(t=!0)}),t?$("#opt-3 .button").addClass("inactive"):$("#opt-3 .button").removeClass("inactive")}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t,e,i,s){var n,a={raw:{}};s=s||{};for(n in s)s.hasOwnProperty(n)&&("classes"===t?(a.raw[s[n]]=e+"-"+s[n],a[s[n]]="."+e+"-"+s[n]):(a.raw[n]=s[n],a[n]=s[n]+"."+e));for(n in i)i.hasOwnProperty(n)&&("classes"===t?(a.raw[n]=i[n].replace(/{ns}/g,e),a[n]=i[n].replace(/{ns}/g,"."+e)):(a.raw[n]=i[n].replace(/.{ns}/g,""),a[n]=i[n].replace(/{ns}/g,e)));return a}function i(){p.windowWidth=p.$window.width(),p.windowHeight=p.$window.height(),v=u.startTimer(v,b,s)}function s(){for(var t in p.ResizeHandlers)p.ResizeHandlers.hasOwnProperty(t)&&p.ResizeHandlers[t].callback.call(window,p.windowWidth,p.windowHeight)}function n(){if(p.support.raf){p.window.requestAnimationFrame(n);for(var t in p.RAFHandlers)p.RAFHandlers.hasOwnProperty(t)&&p.RAFHandlers[t].callback.call(window)}}function a(t,e){return parseInt(t.priority)-parseInt(e.priority)}var o,r,l,h="undefined"!=typeof window?window:this,d=h.document,c=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=h,this.$window=t(h),this.document=d,this.$document=t(d),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},u={killEvent:function(t,e){try{t.preventDefault(),t.stopPropagation(),e&&t.stopImmediatePropagation()}catch(t){}},killGesture:function(t){try{t.preventDefault()}catch(t){}},lockViewport:function(e){y[e]=!0,t.isEmptyObject(y)||w||(o.length?o.attr("content",l):o=t("head").append('<meta name="viewport" content="'+l+'">'),p.$body.on(f.gestureChange,u.killGesture).on(f.gestureStart,u.killGesture).on(f.gestureEnd,u.killGesture),w=!0)},unlockViewport:function(e){"undefined"!==t.type(y[e])&&delete y[e],t.isEmptyObject(y)&&w&&(o.length&&(r?o.attr("content",r):o.remove()),p.$body.off(f.gestureChange).off(f.gestureStart).off(f.gestureEnd),w=!1)},startTimer:function(t,e,i,s){return u.clearTimer(t),s?setInterval(i,e):setTimeout(i,e)},clearTimer:function(t,e){t&&(e?clearInterval(t):clearTimeout(t),t=null)},sortAsc:function(t,e){return parseInt(t,10)-parseInt(e,10)},sortDesc:function(t,e){return parseInt(e,10)-parseInt(t,10)},decodeEntities:function(t){var e=p.document.createElement("textarea");return e.innerHTML=t,e.value},parseQueryString:function(t){for(var e={},i=t.slice(t.indexOf("?")+1).split("&"),s=0;s<i.length;s++){var n=i[s].split("=");e[n[0]]=n[1]}return e}},p=new c,m=t.Deferred(),g={base:"{ns}",element:"{ns}-element"},f={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},v=null,b=20,y=[],w=!1;return c.prototype.NoConflict=function(){p.DontConflict=!0;for(var e in p.Plugins)p.Plugins.hasOwnProperty(e)&&(t[e]=p.Conflicts[e],t.fn[e]=p.Conflicts.fn[e])},c.prototype.Ready=function(t){"complete"===p.document.readyState||"loading"!==p.document.readyState&&!p.document.documentElement.doScroll?t():p.document.addEventListener("DOMContentLoaded",t)},c.prototype.Plugin=function(i,s){return p.Plugins[i]=function(i,s){function n(e){var n,a,r,h="object"===t.type(e),d=Array.prototype.slice.call(arguments,h?1:0),c=this,u=t();for(e=t.extend(!0,{},s.defaults||{},h?e:{}),a=0,r=c.length;a<r;a++)if(n=c.eq(a),!o(n)){s.guid++;var p="__"+s.guid,m=s.classes.raw.base+p,g=n.data(i+"-options"),f=t.extend(!0,{$el:n,guid:p,numGuid:s.guid,rawGuid:m,dotGuid:"."+m},e,"object"===t.type(g)?g:{});n.addClass(s.classes.raw.element).data(l,f),s.methods._construct.apply(n,[f].concat(d)),u=u.add(n)}for(a=0,r=u.length;a<r;a++)n=u.eq(a),s.methods._postConstruct.apply(n,[o(n)]);return c}function o(t){return t.data(l)}var r="fs-"+i,l="fs"+i.replace(/(^|\s)([a-z])/g,function(t,e,i){return e+i.toUpperCase()});return s.initialized=!1,s.priority=s.priority||10,s.classes=e("classes",r,g,s.classes),s.events=e("events",i,f,s.events),s.functions=t.extend({getData:o,iterate:function(e){for(var i=this,s=Array.prototype.slice.call(arguments,1),n=0,a=i.length;n<a;n++){var r=i.eq(n),l=o(r)||{};"undefined"!==t.type(l.$el)&&e.apply(r,[l].concat(s))}return i}},u,s.functions),s.methods=t.extend(!0,{_construct:t.noop,_postConstruct:t.noop,_destruct:t.noop,_resize:!1,destroy:function(t){s.functions.iterate.apply(this,[s.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(s.classes.raw.element).removeData(l)}},s.methods),s.utilities=t.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(e){s.defaults=t.extend(!0,s.defaults,e||{})}},s.utilities),s.widget&&(p.Conflicts.fn[i]=t.fn[i],t.fn[l]=function(e){if(this instanceof t){var i=s.methods[e];if("object"===t.type(e)||!e)return n.apply(this,arguments);if(i&&0!==e.indexOf("_")){var a=[i].concat(Array.prototype.slice.call(arguments,1));return s.functions.iterate.apply(this,a)}return this}},p.DontConflict||(t.fn[i]=t.fn[l])),p.Conflicts[i]=t[i],t[l]=s.utilities._delegate||function(e){var i=s.utilities[e]||s.utilities._initialize||!1;if(i){var n=Array.prototype.slice.call(arguments,"object"===t.type(e)?0:1);return i.apply(window,n)}},p.DontConflict||(t[i]=t[l]),s.namespace=i,s.namespaceClean=l,s.guid=0,s.methods._resize&&(p.ResizeHandlers.push({namespace:i,priority:s.priority,callback:s.methods._resize}),p.ResizeHandlers.sort(a)),s.methods._raf&&(p.RAFHandlers.push({namespace:i,priority:s.priority,callback:s.methods._raf}),p.RAFHandlers.sort(a)),s}(i,s),p.Plugins[i]},p.$window.on("resize.fs",i),i(),n(),p.Ready(function(){p.$body=t("body"),t("html").addClass(p.support.touch?"touchevents":"no-touchevents"),o=t('meta[name="viewport"]'),r=!!o.length&&o.attr("content"),l="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",m.resolve()}),f.clickTouchStart=f.click+" "+f.touchStart,function(){var t,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},i=["transition","-webkit-transition"],s={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},n="transitionend",a="",o="",r=document.createElement("div");for(t in e)if(e.hasOwnProperty(t)&&t in r.style){n=e[t],p.support.transition=!0;break}f.transitionEnd=n+".{ns}";for(t in i)if(i.hasOwnProperty(t)&&i[t]in r.style){a=i[t];break}p.transition=a;for(t in s)if(s.hasOwnProperty(t)&&s[t]in r.style){p.support.transform=!0,o=s[t];break}p.transform=o}(),window.Formstone=p,p}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){function i(t){t.preventManipulation&&t.preventManipulation();var e=t.data,i=t.originalEvent;if(i.type.match(/(up|end|cancel)$/i))a(t);else{if(i.pointerId){var o=!1;for(var r in e.touches)e.touches[r].id===i.pointerId&&(o=!0,e.touches[r].pageX=i.pageX,e.touches[r].pageY=i.pageY);o||e.touches.push({id:i.pointerId,pageX:i.pageX,pageY:i.pageY})}else e.touches=i.touches;i.type.match(/(down|start)$/i)?s(t):i.type.match(/move$/i)&&n(t)}}function s(s){var o=s.data,r="undefined"!==t.type(o.touches)&&o.touches.length?o.touches[0]:null;r&&o.$el.off(m.mouseDown),o.touching||(o.startE=s.originalEvent,o.startX=r?r.pageX:s.pageX,o.startY=r?r.pageY:s.pageY,o.startT=(new Date).getTime(),o.scaleD=1,o.passed=!1),o.$links&&o.$links.off(m.click);var c=l(o.scale?m.scaleStart:m.panStart,s,o.startX,o.startY,o.scaleD,0,0,"","");if(o.scale&&o.touches&&o.touches.length>=2){var u=o.touches;o.pinch={startX:h(u[0].pageX,u[1].pageX),startY:h(u[0].pageY,u[1].pageY),startD:d(u[1].pageX-u[0].pageX,u[1].pageY-u[0].pageY)},c.pageX=o.startX=o.pinch.startX,c.pageY=o.startY=o.pinch.startY}o.touching||(o.touching=!0,o.pan&&!r&&f.on(m.mouseMove,o,n).on(m.mouseUp,o,a),e.support.pointer?f.on([m.pointerMove,m.pointerUp,m.pointerCancel].join(" "),o,i):f.on([m.touchMove,m.touchEnd,m.touchCancel].join(" "),o,i),o.$el.trigger(c))}function n(e){var i=e.data,s="undefined"!==t.type(i.touches)&&i.touches.length?i.touches[0]:null,n=s?s.pageX:e.pageX,o=s?s.pageY:e.pageY,r=n-i.startX,c=o-i.startY,u=r>0?"right":"left",p=c>0?"down":"up",f=Math.abs(r)>v,b=Math.abs(c)>v;if(!i.passed&&i.axis&&(i.axisX&&b||i.axisY&&f))a(e);else{!i.passed&&(!i.axis||i.axis&&i.axisX&&f||i.axisY&&b)&&(i.passed=!0),i.passed&&(g.killEvent(e),g.killEvent(i.startE));var y=!0,w=l(i.scale?m.scale:m.pan,e,n,o,i.scaleD,r,c,u,p);if(i.scale)if(i.touches&&i.touches.length>=2){var _=i.touches;i.pinch.endX=h(_[0].pageX,_[1].pageX),i.pinch.endY=h(_[0].pageY,_[1].pageY),i.pinch.endD=d(_[1].pageX-_[0].pageX,_[1].pageY-_[0].pageY),i.scaleD=i.pinch.endD/i.pinch.startD,w.pageX=i.pinch.endX,w.pageY=i.pinch.endY,w.scale=i.scaleD,w.deltaX=i.pinch.endX-i.pinch.startX,w.deltaY=i.pinch.endY-i.pinch.startY}else i.pan||(y=!1);y&&i.$el.trigger(w)}}function a(e){var i=e.data,n="undefined"!==t.type(i.touches)&&i.touches.length?i.touches[0]:null,a=n?n.pageX:e.pageX,r=n?n.pageY:e.pageY,h=a-i.startX,d=r-i.startY,c=(new Date).getTime(),u=i.scale?m.scaleEnd:m.panEnd,p=h>0?"right":"left",y=d>0?"down":"up",w=Math.abs(h)>1,_=Math.abs(d)>1;if(i.swipe&&Math.abs(h)>v&&c-i.startT<b&&(u=m.swipe),i.axis&&(i.axisX&&_||i.axisY&&w)||w||_){i.$links=i.$el.find("a");for(var C=0,x=i.$links.length;C<x;C++)o(i.$links.eq(C),i)}var k=l(u,e,a,r,i.scaleD,h,d,p,y);f.off([m.touchMove,m.touchEnd,m.touchCancel,m.mouseMove,m.mouseUp,m.pointerMove,m.pointerUp,m.pointerCancel].join(" ")),i.$el.trigger(k),i.touches=[],i.scale,n&&(i.touchTimer=g.startTimer(i.touchTimer,5,function(){i.$el.on(m.mouseDown,i,s)})),i.touching=!1}function o(e,i){e.on(m.click,i,r);var s=t._data(e[0],"events").click;s.unshift(s.pop())}function r(t){g.killEvent(t,!0),t.data.$links.off(m.click)}function l(e,i,s,n,a,o,r,l,h){return t.Event(e,{originalEvent:i,bubbles:!0,pageX:s,pageY:n,scale:a,deltaX:o,deltaY:r,directionX:l,directionY:h})}function h(t,e){return(t+e)/2}function d(t,e){return Math.sqrt(t*t+e*e)}function c(t,e){t.css({"-ms-touch-action":e,"touch-action":e})}var u=!e.window.PointerEvent,p=e.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:function(t){if(t.touches=[],t.touching=!1,this.on(m.dragStart,g.killEvent),t.swipe&&(t.pan=!0),t.scale&&(t.axis=!1),t.axisX="x"===t.axis,t.axisY="y"===t.axis,e.support.pointer){var n="";!t.axis||t.axisX&&t.axisY?n="none":(t.axisX&&(n+=" pan-y"),t.axisY&&(n+=" pan-x")),c(this,n),this.on(m.pointerDown,t,i)}else this.on(m.touchStart,t,i).on(m.mouseDown,t,s)},_destruct:function(t){this.off(m.namespace),c(this,"")}},events:{pointerDown:u?"MSPointerDown":"pointerdown",pointerUp:u?"MSPointerUp":"pointerup",pointerMove:u?"MSPointerMove":"pointermove",pointerCancel:u?"MSPointerCancel":"pointercancel"}}),m=p.events,g=p.functions,f=e.$window,v=10,b=50;m.pan="pan",m.panStart="panstart",m.panEnd="panend",m.scale="scale",m.scaleStart="scalestart",m.scaleEnd="scaleend",m.swipe="swipe"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){function i(e){e.stopPropagation(),e.preventDefault();var i=e.data,n=e.originalEvent,a=i.target?i.$target:i.$el;i.property&&n.propertyName!==i.property||!t(n.target).is(a)||s(i)}function s(t){t.always||t.$el[r.namespaceClean]("destroy"),t.callback.apply(t.$el)}function n(t){var e=a(t.$check);o(t.styles,e)||s(t),t.styles=e}function a(e){var i,s,n,a={};if(e instanceof t&&(e=e[0]),d.getComputedStyle)for(var o=0,r=(i=d.getComputedStyle(e,null)).length;o<r;o++)s=i[o],n=i.getPropertyValue(s),a[s]=n;else if(e.currentStyle){i=e.currentStyle;for(s in i)a[s]=i[s]}return a}function o(e,i){if(t.type(e)!==t.type(i))return!1;for(var s in e){if(!e.hasOwnProperty(s))return!1;if(!e.hasOwnProperty(s)||!i.hasOwnProperty(s)||e[s]!==i[s])return!1}return!0}var r=e.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(t,s){if(s){t.$target=this.find(t.target),t.$check=t.target?t.$target:this,t.callback=s,t.styles=a(t.$check),t.timer=null;var o=t.$check.css(e.transition+"-duration"),r=parseFloat(o);e.support.transition&&o&&r?this.on(l.transitionEnd,t,i):t.timer=h.startTimer(t.timer,50,function(){n(t)},!0)}},_destruct:function(t){h.clearTimer(t.timer,!0),this.off(l.namespace)},resolve:s}}),l=r.events,h=r.functions,d=e.window}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],t):t(jQuery,Formstone)}(function(t,e){function i(){g.scrollDepth&&l()}function s(e){!_&&b&&b.length&&(_=!0,(g=t.extend(g,e||{})).autoEvents&&b.find("a").not("["+x+"]").each(a),g.scrollDepth&&(l(),v.on(w.scroll,o).one(w.load,i)),b.on(w.click,"*["+x+"]",h))}function n(){_&&b&&b.length&&(v.off(w.namespace),b.off(w.namespace),_=!1)}function a(){var e,i=t(this),s="undefined"!==t.type(i[0].href)?i[0].href:"",n=document.domain.split(".").reverse(),a=null!==s.match(n[1]+"."+n[0]);s.match(/^mailto\:/i)?e="Email, Click, "+s.replace(/^mailto\:/i,""):s.match(/^tel\:/i)?e="Telephone, Click, "+s.replace(/^tel\:/i,""):s.match(g.fileTypes)?e="File, Download:"+(/[.]/.exec(s)?/[^.]+$/.exec(s):void 0)[0]+", "+s.replace(/ /g,"-"):a||(e="ExternalLink, Click, "+s),e&&i.attr(x,e)}function o(t){y.startTimer(H,250,r)}function r(){for(var i,s=v.scrollTop()+e.windowHeight,n=1/g.scrollStops,a=n,o=1;o<=g.scrollStops;o++)i=Math.round(100*a).toString(),!k[E][i].passed&&s>k[E][i].edge&&(k[E][i].passed=!0,d(t.extend(g.scrollFields,{eventCategory:"ScrollDepth",eventAction:E,eventLabel:i,nonInteraction:!0}))),a+=n}function l(){var e,i=t.mediaquery("state"),s=b.outerHeight(),n={},a=1/g.scrollStops,o=a,r=0;i.minWidth&&(E="MinWidth:"+i.minWidth+"px");for(var l=1;l<=g.scrollStops;l++)r=parseInt(s*o),n[e=Math.round(100*o).toString()]={edge:"100"===e?r-10:r,passsed:!(!k[E]||!k[E][e])&&k[E][e].passed},o+=a;k[E]=n}function h(e){var i=t(this),s=i.attr("href"),n=i.data(C).split(",");g.eventCallback&&e.preventDefault();for(var a in n)n.hasOwnProperty(a)&&(n[a]=t.trim(n[a]));d({eventCategory:n[0],eventAction:n[1],eventLabel:n[2]||s,eventValue:n[3],nonInteraction:n[4]},i)}function d(e,i){f.location;var s=t.extend({hitType:"event"},e);if("undefined"!==t.type(i)&&!i.attr("data-analytics-stop")){var n="undefined"!==t.type(i[0].href)?i[0].href:"",a=!n.match(/^mailto\:/i)&&!n.match(/^tel\:/i)&&n.indexOf(":")<0?f.location.protocol+"//"+f.location.hostname+"/"+n:n;if(""!==a){var o=i.attr("target");o?f.open(a,o):g.eventCallback&&(s.hitCallback=function(){T&&(y.clearTimer(T),p(a))},T=y.startTimer(T,g.eventTimeout,s.hitCallback))}}u(s)}function c(e){u(t.extend({hitType:"pageview"},e))}function u(e){if("function"===t.type(f.ga)&&"function"===t.type(f.ga.getAll))for(var i=f.ga.getAll(),s=0,n=i.length;s<n;s++)f.ga(i[s].get("name")+".send",e)}function p(t){document.location=t}var m=e.Plugin("analytics",{methods:{_resize:i},utilities:{_delegate:function(){if(arguments.length&&"object"!==t.type(arguments[0]))if("destroy"===arguments[0])n.apply(this);else{var e=Array.prototype.slice.call(arguments,1);switch(arguments[0]){case"pageview":c.apply(this,e);break;case"event":d.apply(this,e)}}else s.apply(this,arguments);return null}}}),g={autoEvents:!1,fileTypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,eventCallback:!1,eventTimeout:1e3,scrollDepth:!1,scrollStops:5,scrollFields:{}},f=e.window,v=e.$window,b=null,y=m.functions,w=m.events,_=!1,C="analytics-event",x="data-"+C,k={},H=null,E="Site",T=null;e.Ready(function(){b=e.$body})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){function i(){u={unit:r.unit};for(var t in g)if(g.hasOwnProperty(t))for(var e in m[t])if(m[t].hasOwnProperty(e)){var i="Infinity"===e?1/0:parseInt(e,10),s=t.indexOf("max")>-1;m[t][e].matches&&(s?(!u[t]||i<u[t])&&(u[t]=i):(!u[t]||i>u[t])&&(u[t]=i))}}function s(){i(),h.trigger(l.mqChange,[u])}function n(t){var e=a(t.media),i=p[e],s=t.matches,n=s?l.enter:l.leave;if(i&&(i.active||!i.active&&s)){for(var o in i[n])i[n].hasOwnProperty(o)&&i[n][o].apply(i.mq);i.active=!0}}function a(t){return t.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var o=e.Plugin("mediaquery",{utilities:{_initialize:function(e){e=e||{};for(var i in g)g.hasOwnProperty(i)&&(r[i]=e[i]?t.merge(e[i],r[i]):r[i]);(r=t.extend(r,e)).minWidth.sort(c.sortDesc),r.maxWidth.sort(c.sortAsc),r.minHeight.sort(c.sortDesc),r.maxHeight.sort(c.sortAsc);for(var n in g)if(g.hasOwnProperty(n)){m[n]={};for(var a in r[n])if(r[n].hasOwnProperty(a)){var o=window.matchMedia("("+g[n]+": "+(r[n][a]===1/0?1e5:r[n][a])+r.unit+")");o.addListener(s),m[n][r[n][a]]=o}}s()},state:function(){return u},bind:function(t,e,i){var s=d.matchMedia(e),o=a(s.media);p[o]||(p[o]={mq:s,active:!0,enter:{},leave:{}},p[o].mq.addListener(n));for(var r in i)i.hasOwnProperty(r)&&p[o].hasOwnProperty(r)&&(p[o][r][t]=i[r]);var h=p[o],c=s.matches;c&&h[l.enter].hasOwnProperty(t)?(h[l.enter][t].apply(s),h.active=!0):!c&&h[l.leave].hasOwnProperty(t)&&(h[l.leave][t].apply(s),h.active=!1)},unbind:function(t,e){if(t)if(e){var i=a(e);p[i]&&(p[i].enter[t]&&delete p[i].enter[t],p[i].leave[t]&&delete p[i].leave[t])}else for(var s in p)p.hasOwnProperty(s)&&(p[s].enter[t]&&delete p[s].enter[t],p[s].leave[t]&&delete p[s].leave[t])}},events:{mqChange:"mqchange"}}),r={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},l=t.extend(o.events,{enter:"enter",leave:"leave"}),h=e.$window,d=h[0],c=o.functions,u=null,p=[],m={},g={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],t):t(jQuery,Formstone)}(function(t,e){function i(e,i){if(e.enabled&&!e.active){e.group&&!i&&t(e.group).not(e.$el).not(e.linked)[r.namespaceClean]("deactivate",!0);var s=e.group?t(e.group).index(e.$el):null;e.$swaps.addClass(e.classes.raw.active),i||e.linked&&t(e.linked).not(e.$el)[r.namespaceClean]("activate",!0),this.trigger(d.activate,[s]),e.active=!0}}function s(e,i){e.enabled&&e.active&&(e.$swaps.removeClass(e.classes.raw.active),i||e.linked&&t(e.linked).not(e.$el)[r.namespaceClean]("deactivate",!0),this.trigger(d.deactivate),e.active=!1)}function n(e,n){e.enabled||(e.enabled=!0,e.$swaps.addClass(e.classes.raw.enabled),n||t(e.linked).not(e.$el)[r.namespaceClean]("enable"),this.trigger(d.enable),e.onEnable?(e.active=!1,i.call(this,e)):(e.active=!0,s.call(this,e)))}function a(e,i){e.enabled&&(e.enabled=!1,e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")),i||t(e.linked).not(e.$el)[r.namespaceClean]("disable"),this.trigger(d.disable))}function o(t){c.killEvent(t);var e=t.data;e.active&&e.collapse?s.call(e.$el,e):i.call(e.$el,e)}var r=e.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:function(e){e.enabled=!1,e.active=!1,e.classes=t.extend(!0,{},h,e.classes),e.target=this.data(l+"-target"),e.$target=t(e.target).addClass(e.classes.raw.target),e.mq="(max-width:"+(e.maxWidth===1/0?"100000px":e.maxWidth)+")";var i=this.data(l+"-linked");e.linked=!!i&&"[data-"+l+'-linked="'+i+'"]';var s=this.data(l+"-group");e.group=!!s&&"[data-"+l+'-group="'+s+'"]',e.$swaps=t().add(this).add(e.$target),this.on(d.click+e.dotGuid,e,o)},_postConstruct:function(e){e.collapse||!e.group||t(e.group).filter("[data-"+l+"-active]").length||t(e.group).eq(0).attr("data-"+l+"-active","true"),e.onEnable=this.data(l+"-active")||!1,t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){n.call(e.$el,e,!0)},leave:function(){a.call(e.$el,e,!0)}})},_destruct:function(e){t.fsMediaquery("unbind",e.rawGuid),e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")).off(d.namespace)},activate:i,deactivate:s,enable:n,disable:a}}),l=r.namespace,h=r.classes,d=r.events,c=r.functions}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition","./viewer"],t):t(jQuery,Formstone)}(function(t,e){function i(i){if(!Q){var s=i.data;(Q=t.extend({},{visible:!1,gallery:{active:!1},isMobile:e.isMobile||s.mobile,isTouch:e.support.touch,isAnimating:!0,isZooming:!1,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1,tapTimer:null},s)).isViewer=Q.isMobile&&s.viewer&&void 0!==t.fn.fsViewer;var a=s.$el,o=s.$object,l=a&&a[0].href?a[0].href||"":"",d=a&&a[0].hash?a[0].hash||"":"",u=(l.toLowerCase().split(".").pop().split(/\#|\?/),a?a.data(z+"-type"):""),m="image"===u||l.match(s.fileTypes)||"data:image"===l.substr(0,10),g=L(l),v="url"===u||!m&&!g&&"http"===l.substr(0,4)&&!d,b="element"===u||!m&&!g&&!v&&"#"===d.substr(0,1),w=void 0!==o;if(b&&(l=d),!(m||g||v||b||w))return void(Q=null);if(O.killEvent(i),Q.margin*=2,Q.type=m?"image":g?"video":"element",m||g){var _=a.data(z+"-gallery");_&&(Q.gallery.active=!0,Q.gallery.id=_,Q.gallery.$items=t("a[data-lightbox-gallery= "+Q.gallery.id+"], a[rel= "+Q.gallery.id+"]"),Q.gallery.index=Q.gallery.$items.index(Q.$el),Q.gallery.total=Q.gallery.$items.length-1)}Q.thumbnails&&(m||g)&&Q.gallery.active||(Q.thumbnails=!1);var C="";Q.isMobile||(C+='<div class="'+[V.overlay,Q.theme,Q.customClass].join(" ")+'"></div>');var E=[V.base,V.loading,V.animating,Q.theme,Q.customClass];if(Q.fixed&&E.push(V.fixed),Q.isMobile&&E.push(V.mobile),Q.isTouch&&E.push(V.touch),v&&E.push(V.iframed),(b||w)&&E.push(V.inline),Q.thumbnails&&E.push(V.thumbnailed),Q.labels.lightbox=Q.labels.lightbox.replace("{guid}",s.numGuid),C+='<div class="'+E.join(" ")+'" role="dialog" aria-label="'+Q.labels.lightbox+'" tabindex="-1">',C+='<button type="button" class="'+V.close+'">'+Q.labels.close+"</button>",C+='<span class="'+V.loading_icon+'"></span>',C+='<div class="'+V.container+'">',Q.gallery.active&&Q.thumbnails){C+='<div class="'+[V.thumbnails]+'">',C+='<div class="'+[V.thumbnail_container]+'">';for(var W,P,I=0,j=Q.gallery.$items.length;I<j;I++)(P=(W=Q.gallery.$items.eq(I)).data("lightbox-thumbnail"))||(P=W.find("img").attr("src")),C+='<button class="'+[V.thumbnail_item]+'">',C+='<img src="'+P+'" alt="">',C+="</button>";C+="</div></div>"}C+='<div class="'+V.content+'"></div>',(m||g)&&(C+='<div class="'+V.tools+'">',C+='<div class="'+V.controls+'">',Q.gallery.active&&(C+='<button type="button" class="'+[V.control,V.control_previous].join(" ")+'">'+Q.labels.previous+"</button>",C+='<button type="button" class="'+[V.control,V.control_next].join(" ")+'">'+Q.labels.next+"</button>"),Q.isMobile&&Q.isTouch&&(C+='<button type="button" class="'+[V.toggle,V.caption_toggle].join(" ")+'">'+Q.labels.captionClosed+"</button>",Q.gallery.active&&Q.thumbnails&&(C+='<button type="button" class="'+[V.toggle,V.thumbnail_toggle].join(" ")+'">'+Q.labels.thumbnailsClosed+"</button>")),C+="</div>",C+='<div class="'+V.meta+'">',C+='<div class="'+V.meta_content+'">',Q.gallery.active&&(C+='<p class="'+V.position+'"',Q.gallery.total<1&&(C+=' style="display: none;"'),C+=">",C+='<span class="'+V.position_current+'">'+(Q.gallery.index+1)+"</span> ",C+=Q.labels.count,C+=' <span class="'+V.position_total+'">'+(Q.gallery.total+1)+"</span>",C+="</p>"),C+='<div class="'+V.caption+'">',C+=Q.formatter.call(a,s),C+="</div></div></div>",C+="</div>"),C+="</div></div>",F.append(C),Q.$overlay=t(S.overlay),Q.$lightbox=t(S.base),Q.$close=t(S.close),Q.$container=t(S.container),Q.$content=t(S.content),Q.$tools=t(S.tools),Q.$meta=t(S.meta),Q.$metaContent=t(S.meta_content),Q.$position=t(S.position),Q.$caption=t(S.caption),Q.$controlBox=t(S.controls),Q.$controls=t(S.control),Q.$thumbnails=t(S.thumbnails),Q.$thumbnailContainer=t(S.thumbnail_container),Q.$thumbnailItems=t(S.thumbnail_item),Q.isMobile?(Q.paddingVertical=Q.$close.outerHeight(),Q.paddingHorizontal=0,Q.mobilePaddingVertical=parseInt(Q.$content.css("paddingTop"),10)+parseInt(Q.$content.css("paddingBottom"),10),Q.mobilePaddingHorizontal=parseInt(Q.$content.css("paddingLeft"),10)+parseInt(Q.$content.css("paddingRight"),10)):(Q.paddingVertical=parseInt(Q.$lightbox.css("paddingTop"),10)+parseInt(Q.$lightbox.css("paddingBottom"),10),Q.paddingHorizontal=parseInt(Q.$lightbox.css("paddingLeft"),10)+parseInt(Q.$lightbox.css("paddingRight"),10),Q.mobilePaddingVertical=0,Q.mobilePaddingHorizontal=0),Q.contentHeight=Q.$lightbox.outerHeight()-Q.paddingVertical,Q.contentWidth=Q.$lightbox.outerWidth()-Q.paddingHorizontal,Q.controlHeight=Q.$controls.outerHeight(),r(),Q.gallery.active&&(Q.$lightbox.addClass(V.has_controls),x()),X.on(D.keyDown,k),F.on(D.click,[S.overlay,S.close].join(", "),n).on([D.focus,D.focusIn].join(" "),A),Q.gallery.active&&Q.$lightbox.on(D.click,S.control,$),Q.thumbnails&&Q.$lightbox.on(D.click,S.thumbnail_item,y),Q.isMobile&&Q.isTouch&&Q.$lightbox.on(D.click,S.caption_toggle,h).on(D.click,S.thumbnail_toggle,c),Q.$lightbox.fsTransition({property:"opacity"},function(){m?p(l):g?f(l):v?T(l):b?H(l):w&&M(Q.$object)}).addClass(V.open),Q.$overlay.addClass(V.open)}}function s(t){"object"!=typeof t&&(Q.targetHeight=arguments[0],Q.targetWidth=arguments[1]),"element"===Q.type?W(Q.$content.find("> :first-child")):"image"===Q.type?m():"video"===Q.type&&v(),o()}function n(t){O.killEvent(t),Q&&(Q.$lightbox.fsTransition("destroy"),Q.$content.fsTransition("destroy"),Q.$lightbox.addClass(V.animating).fsTransition({property:"opacity"},function(t){void 0!==Q.$inlineTarget&&Q.$inlineTarget.length&&E(),Q.isViewer&&Q.$imageContainer&&Q.$imageContainer.length&&Q.$imageContainer.fsViewer("destroy"),Q.$lightbox.off(D.namespace),Q.$container.off(D.namespace),X.off(D.keyDown),F.off(D.namespace),F.off(D.namespace),Q.$overlay.remove(),Q.$lightbox.remove(),void 0!==Q.$el&&Q.$el&&Q.$el.length&&Q.$el.focus(),Q=null,X.trigger(D.close)}),Q.$lightbox.removeClass(V.open),Q.$overlay.removeClass(V.open),Q.isMobile&&(Y.removeClass(V.lock),O.unlockViewport(z)))}function a(){var t=l();Q.isMobile||Q.duration,Q.isMobile?O.lockViewport(z):Q.$controls.css({marginTop:(Q.contentHeight-Q.controlHeight-Q.metaHeight+Q.thumbnailHeight)/2}),""===Q.$caption.html()?(Q.$caption.hide(),Q.$lightbox.removeClass(V.has_caption),Q.gallery.active||Q.$tools.hide()):(Q.$caption.show(),Q.$lightbox.addClass(V.has_caption)),Q.$lightbox.fsTransition({property:Q.contentHeight!==Q.oldContentHeight?"height":"width"},function(){Q.$content.fsTransition({property:"opacity"},function(){Q.$lightbox.removeClass(V.animating),Q.isAnimating=!1}),Q.$lightbox.removeClass(V.loading).addClass(V.ready),Q.visible=!0,X.trigger(D.open),Q.gallery.active&&(b(),w(),_()),Q.$lightbox.focus()}),Q.isMobile||Q.$lightbox.css({height:Q.contentHeight+Q.paddingVertical,width:Q.contentWidth+Q.paddingHorizontal,top:Q.fixed?0:t.top});var e=Q.oldContentHeight!==Q.contentHeight||Q.oldContentWidth!==Q.contentWidth;!Q.isMobile&&e||Q.$lightbox.fsTransition("resolve"),Q.oldContentHeight=Q.contentHeight,Q.oldContentWidth=Q.contentWidth,Q.isMobile&&Y.addClass(V.lock)}function o(){if(Q.visible&&!Q.isMobile){var t=l();Q.$controls.css({marginTop:(Q.contentHeight-Q.controlHeight-Q.metaHeight+Q.thumbnailHeight)/2}),Q.$lightbox.css({height:Q.contentHeight+Q.paddingVertical,width:Q.contentWidth+Q.paddingHorizontal,top:Q.fixed?0:t.top}),Q.oldContentHeight=Q.contentHeight,Q.oldContentWidth=Q.contentWidth}}function r(){var t=l();Q.$lightbox.css({top:Q.fixed?0:t.top})}function l(){if(Q.isMobile)return{left:0,top:0};var t={left:(e.windowWidth-Q.contentWidth-Q.paddingHorizontal)/2,top:Q.top<=0?(e.windowHeight-Q.contentHeight-Q.paddingVertical)/2:Q.top};return!0!==Q.fixed&&(t.top+=X.scrollTop()),t}function h(t){if(O.killEvent(t),Q.captionOpen)d();else{u();var e=parseInt(Q.$metaContent.outerHeight(!0));e+=parseInt(Q.$meta.css("padding-top")),e+=parseInt(Q.$meta.css("padding-bottom")),Q.$meta.css({height:e}),Q.$lightbox.addClass(V.caption_open).find(S.caption_toggle).text(Q.labels.captionOpen),Q.captionOpen=!0}}function d(){Q.$lightbox.removeClass(V.caption_open).find(S.caption_toggle).text(Q.labels.captionClosed),Q.captionOpen=!1}function c(t){O.killEvent(t),Q.thumbnailsOpen?u():(d(),Q.$lightbox.addClass(V.thumbnails_open).find(S.thumbnail_toggle).text(Q.labels.thumbnailsOpen),Q.thumbnailsOpen=!0)}function u(){Q.$lightbox.removeClass(V.thumbnails_open).find(S.thumbnail_toggle).text(Q.labels.thumbnailsClosed),Q.thumbnailsOpen=!1}function p(e){Q.isViewer?(Q.$imageContainer=t('<div class="'+V.image_container+'"><img></div>'),Q.$image=Q.$imageContainer.find("img"),Q.$image.attr("src",e).addClass(V.image),Q.$content.prepend(Q.$imageContainer),m(),Q.$imageContainer.one("loaded.viewer",function(){a()}).fsViewer({theme:Q.theme})):(Q.$imageContainer=t('<div class="'+V.image_container+'"><img></div>'),Q.$image=Q.$imageContainer.find("img"),Q.$image.one(D.load,function(){var t=I(Q.$image);Q.naturalHeight=t.naturalHeight,Q.naturalWidth=t.naturalWidth,Q.retina&&(Q.naturalHeight/=2,Q.naturalWidth/=2),Q.$content.prepend(Q.$imageContainer),m(),a()}).on(D.error,P).attr("src",e).addClass(V.image),(Q.$image[0].complete||4===Q.$image[0].readyState)&&Q.$image.trigger(D.load))}function m(){if(Q.$image){var t=0;for(Q.windowHeight=Q.viewportHeight=e.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=Q.viewportWidth=e.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.contentHeight=1/0,Q.contentWidth=1/0,Q.imageMarginTop=0,Q.imageMarginLeft=0;Q.contentHeight>Q.viewportHeight&&t<2;)Q.imageHeight=0===t?Q.naturalHeight:Q.$image.outerHeight(),Q.imageWidth=0===t?Q.naturalWidth:Q.$image.outerWidth(),Q.metaHeight=0===t?0:Q.metaHeight,Q.spacerHeight=0===t?0:Q.spacerHeight,Q.thumbnailHeight=0===t?0:Q.thumbnailHeight,0===t&&(Q.ratioHorizontal=Q.imageHeight/Q.imageWidth,
Q.ratioVertical=Q.imageWidth/Q.imageHeight,Q.isWide=Q.imageWidth>Q.imageHeight),Q.imageHeight<Q.minHeight&&(Q.minHeight=Q.imageHeight),Q.imageWidth<Q.minWidth&&(Q.minWidth=Q.imageWidth),Q.isMobile?(Q.isTouch?(Q.$controlBox.css({width:e.windowWidth}),Q.spacerHeight=Q.$controls.outerHeight(!0)):(Q.$tools.css({width:e.windowWidth}),Q.spacerHeight=Q.$tools.outerHeight(!0)),Q.contentHeight=Q.viewportHeight,Q.contentWidth=Q.viewportWidth,Q.isTouch||Q.$content.css({height:Q.contentHeight-Q.spacerHeight}),Q.$thumbnails.length&&(Q.spacerHeight+=Q.$thumbnails.outerHeight(!0)),Q.spacerHeight+=10,g(),Q.imageMarginTop=(Q.contentHeight-Q.targetImageHeight-Q.spacerHeight)/2,Q.imageMarginLeft=(Q.contentWidth-Q.targetImageWidth)/2):(0===t&&(Q.viewportHeight-=Q.margin+Q.paddingVertical,Q.viewportWidth-=Q.margin+Q.paddingHorizontal),Q.viewportHeight-=Q.metaHeight,Q.thumbnails&&(Q.viewportHeight-=Q.thumbnailHeight),g(),Q.contentHeight=Q.targetImageHeight,Q.contentWidth=Q.targetImageWidth),Q.isMobile||Q.isTouch||Q.$meta.css({width:Q.contentWidth}),Q.$image.css({height:Q.targetImageHeight,width:Q.targetImageWidth,marginTop:Q.imageMarginTop,marginLeft:Q.imageMarginLeft}),Q.isMobile||(Q.metaHeight=Q.$meta.outerHeight(!0),Q.contentHeight+=Q.metaHeight),Q.thumbnails&&(Q.thumbnailHeight=Q.$thumbnails.outerHeight(!0),Q.contentHeight+=Q.thumbnailHeight),t++}}function g(){var t=Q.isMobile?Q.contentHeight-Q.spacerHeight:Q.viewportHeight,e=Q.isMobile?Q.contentWidth:Q.viewportWidth;Q.isWide?(Q.targetImageWidth=e,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal,Q.targetImageHeight>t&&(Q.targetImageHeight=t,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical)):(Q.targetImageHeight=t,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical,Q.targetImageWidth>e&&(Q.targetImageWidth=e,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal)),(Q.targetImageWidth>Q.imageWidth||Q.targetImageHeight>Q.imageHeight)&&(Q.targetImageHeight=Q.imageHeight,Q.targetImageWidth=Q.imageWidth),(Q.targetImageWidth<Q.minWidth||Q.targetImageHeight<Q.minHeight)&&(Q.targetImageWidth<Q.minWidth?(Q.targetImageWidth=Q.minWidth,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal):(Q.targetImageHeight=Q.minHeight,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical))}function f(e){var i=L(e),s=e.split("?");i?(s.length>=2&&(i+="?"+s.slice(1)[0].trim()),Q.$videoWrapper=t('<div class="'+V.video_wrapper+'"></div>'),Q.$video=t('<iframe class="'+V.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),Q.$video.attr("src",i).addClass(V.video).prependTo(Q.$videoWrapper),Q.$content.prepend(Q.$videoWrapper),v(),a()):P()}function v(){Q.windowHeight=Q.viewportHeight=e.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=Q.viewportWidth=e.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.videoMarginTop=0,Q.videoMarginLeft=0,Q.isMobile?(Q.isTouch?(Q.$controlBox.css({width:e.windowWidth}),Q.spacerHeight=Q.$controls.outerHeight(!0)+10):(Q.$tools.css({width:e.windowWidth}),Q.spacerHeight=Q.$tools.outerHeight(!0),Q.spacerHeight+=Q.$thumbnails.outerHeight(!0)+10),Q.viewportHeight-=Q.spacerHeight,Q.targetVideoWidth=Q.viewportWidth,Q.targetVideoHeight=Q.targetVideoWidth*Q.videoRatio,Q.targetVideoHeight>Q.viewportHeight&&(Q.targetVideoHeight=Q.viewportHeight,Q.targetVideoWidth=Q.targetVideoHeight/Q.videoRatio),Q.videoMarginTop=(Q.viewportHeight-Q.targetVideoHeight)/2,Q.videoMarginLeft=(Q.viewportWidth-Q.targetVideoWidth)/2):(Q.viewportHeight=Q.windowHeight-Q.margin,Q.viewportWidth=Q.windowWidth-Q.margin,Q.targetVideoWidth=Q.videoWidth>Q.viewportWidth?Q.viewportWidth:Q.videoWidth,Q.targetVideoWidth<Q.minWidth&&(Q.targetVideoWidth=Q.minWidth),Q.targetVideoHeight=Q.targetVideoWidth*Q.videoRatio,Q.contentHeight=Q.targetVideoHeight,Q.contentWidth=Q.targetVideoWidth),Q.isMobile||Q.isTouch||Q.$meta.css({width:Q.contentWidth}),Q.$videoWrapper.css({height:Q.targetVideoHeight,width:Q.targetVideoWidth,marginTop:Q.videoMarginTop,marginLeft:Q.videoMarginLeft}),Q.isMobile||(Q.metaHeight=Q.$meta.outerHeight(!0),Q.contentHeight+=Q.metaHeight),Q.thumbnails&&(Q.thumbnailHeight=Q.$thumbnails.outerHeight(!0),Q.contentHeight+=Q.thumbnailHeight)}function b(e){var i="";Q.gallery.index>0&&(L(i=Q.gallery.$items.eq(Q.gallery.index-1).attr("href"))||t('<img src="'+i+'">')),Q.gallery.index<Q.gallery.total&&(L(i=Q.gallery.$items.eq(Q.gallery.index+1).attr("href"))||t('<img src="'+i+'">'))}function $(e){O.killEvent(e);var i=t(e.currentTarget);Q.isAnimating||i.hasClass(V.control_disabled)||(Q.isAnimating=!0,d(),Q.gallery.index+=i.hasClass(V.control_next)?1:-1,Q.gallery.index>Q.gallery.total&&(Q.gallery.index=Q.infinite?0:Q.gallery.total),Q.gallery.index<0&&(Q.gallery.index=Q.infinite?Q.gallery.total:0),w(),Q.$lightbox.addClass(V.animating),Q.$content.fsTransition({property:"opacity"},C),Q.$lightbox.addClass(V.loading))}function y(e){O.killEvent(e);var i=t(e.currentTarget);Q.isAnimating||i.hasClass(V.active)||(Q.isAnimating=!0,d(),Q.gallery.index=Q.$thumbnailItems.index(i),w(),Q.$lightbox.addClass(V.animating),Q.$content.fsTransition({property:"opacity"},C),Q.$lightbox.addClass(V.loading))}function w(){if(Q.thumbnails){var t=Q.$thumbnailItems.eq(Q.gallery.index);Q.$thumbnailItems.removeClass(V.active),t.addClass(V.active)}}function _(){if(Q.thumbnails){var t=Q.$thumbnailItems.eq(Q.gallery.index),e=t.position().left+t.outerWidth(!1)/2-Q.$thumbnailContainer.outerWidth(!0)/2;Q.$thumbnailContainer.stop().animate({scrollLeft:e},200,"linear")}}function C(){void 0!==Q.$imageContainer&&(Q.isViewer&&Q.$imageContainer.fsViewer("destroy"),Q.$imageContainer.remove()),void 0!==Q.$videoWrapper&&Q.$videoWrapper.remove(),Q.$el=Q.gallery.$items.eq(Q.gallery.index),Q.$caption.html(Q.formatter.call(Q.$el,Q)),Q.$position.find(S.position_current).html(Q.gallery.index+1);var t=Q.$el.attr("href");L(t)?(Q.type="video",f(t)):(Q.type="image",p(t)),x()}function x(){Q.$controls.removeClass(V.control_disabled),Q.infinite||(0===Q.gallery.index&&Q.$controls.filter(S.control_previous).addClass(V.control_disabled),Q.gallery.index===Q.gallery.total&&Q.$controls.filter(S.control_next).addClass(V.control_disabled))}function k(t){!Q.gallery.active||37!==t.keyCode&&39!==t.keyCode?27===t.keyCode&&Q.$close.trigger(D.click):(O.killEvent(t),Q.$controls.filter(37===t.keyCode?S.control_previous:S.control_next).trigger(D.click))}function H(e){Q.$inlineTarget=t(e),Q.$inlineContents=Q.$inlineTarget.children().detach(),M(Q.$inlineContents)}function E(){Q.$inlineTarget.append(Q.$inlineContents.detach())}function T(e){e+=e.indexOf("?")>-1?"&"+Q.requestKey+"=true":"?"+Q.requestKey+"=true",M(t('<iframe class="'+V.iframe+'" src="'+e+'"></iframe>'))}function M(t){Q.$content.append(t),W(t),a()}function W(t){Q.windowHeight=e.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=e.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.objectHeight=t.outerHeight(!0),Q.objectWidth=t.outerWidth(!0),Q.targetHeight=Q.targetHeight||(Q.$el?Q.$el.data(z+"-height"):null),Q.targetWidth=Q.targetWidth||(Q.$el?Q.$el.data(z+"-width"):null),Q.maxHeight=Q.windowHeight<0?Q.minHeight:Q.windowHeight,Q.isIframe=t.is("iframe"),Q.objectMarginTop=0,Q.objectMarginLeft=0,Q.isMobile||(Q.windowHeight-=Q.margin,Q.windowWidth-=Q.margin),Q.contentHeight=Q.targetHeight?Q.targetHeight:Q.isIframe||Q.isMobile?Q.windowHeight:Q.objectHeight,Q.contentWidth=Q.targetWidth?Q.targetWidth:Q.isIframe||Q.isMobile?Q.windowWidth:Q.objectWidth,(Q.isIframe||Q.isObject)&&Q.isMobile?(Q.contentHeight=Q.windowHeight,Q.contentWidth=Q.windowWidth):Q.isObject&&(Q.contentHeight=Q.contentHeight>Q.windowHeight?Q.windowHeight:Q.contentHeight,Q.contentWidth=Q.contentWidth>Q.windowWidth?Q.windowWidth:Q.contentWidth),Q.isMobile||(Q.contentHeight>Q.maxHeight&&(Q.contentHeight=Q.maxHeight),Q.contentWidth>Q.maxWidth&&(Q.contentWidth=Q.maxWidth))}function P(){var e=t('<div class="'+V.error+'"><p>Error Loading Resource</p></div>');Q.type="element",Q.$tools.remove(),Q.$image.off(D.namespace),M(e),X.trigger(D.error)}function I(t){var e=t[0],i=new Image;return void 0!==e.naturalHeight?{naturalHeight:e.naturalHeight,naturalWidth:e.naturalWidth}:"img"===e.tagName.toLowerCase()&&(i.src=e.src,{naturalHeight:i.height,naturalWidth:i.width})}function L(t){var e,i=Q.videoFormatter;for(var s in i)if(i.hasOwnProperty(s)&&null!==(e=t.match(i[s].pattern)))return i[s].format.call(Q,e);return!1}function A(e){var i=e.target;t.contains(Q.$lightbox[0],i)||i===Q.$lightbox[0]||i===Q.$overlay[0]||(O.killEvent(e),Q.$lightbox.focus())}var j=e.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:function(){var t=this.attr("title"),e=!(void 0===t||!t)&&t.replace(/^\s+|\s+$/g,"");return e?'<p class="caption">'+e+"</p>":""},infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails",lightbox:"Lightbox {guid}"},margin:50,maxHeight:1e4,maxWidth:1e4,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:function(t){return"//www.youtube.com/embed/"+t[1]}},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:function(t){return"//player.vimeo.com/video/"+t[3]}}},videoRatio:.5625,videoWidth:800,viewer:!0},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_construct:function(t){this.on(D.click,t,i);var e=this.data(z+"-gallery");!G&&R&&e===R&&(G=!0,this.trigger(D.click))},_destruct:function(t){n(),this.off(D.namespace)},_resize:function(){Q&&s()},resize:s},utilities:{_initialize:function(e,s){e instanceof t&&i.apply(N,[{data:t.extend(!0,{},{$object:e},q,s||{})}])},close:n}}),z=j.namespace,q=j.defaults,S=j.classes,V=S.raw,D=j.events,O=j.functions,N=e.window,X=e.$window,F=null,Y=null,R=!1,G=!1,Q=null;e.Ready(function(){F=e.$body,Y=t("html, body"),R=e.window.location.hash.replace("#","")})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],t):t(jQuery,Formstone)}(function(t,e){function i(){$.iterate.call(v,r)}function s(){v=t(c.base),i()}function n(t){t.enabled=!0,t.$el.addClass(u.enabled),r(t)}function a(t){t.enabled=!1,t.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(u.enabled),t.$stickys.removeClass([u.passed,u.stuck].join(" "))}function o(){$.iterate.call(v,h)}function r(t){if(t.enabled){if(l(t),t.$container.length){var e=t.$container.offset();t.min=e.top-t.margin,t.max=t.min+t.$container.outerHeight(!1)-t.height}else{var i,s=(i=t.stuck?t.$clone:t.$el).offset();t.min=s.top-t.margin,t.max=!1}h(t)}}function l(t){var e;e=t.stuck?t.$clone:t.$el,t.margin=parseInt(e.css("margin-top"),10),t.$container.length?t.containerMargin=parseInt(t.$container.css("margin-top"),10):t.containerMargin=0,t.height=e.outerHeight(),t.width=e.outerWidth()}function h(t){if(t.enabled){var e=g+t.offset;if(e>=t.min){t.stuck=!0,t.$stickys.addClass(u.stuck),t.stuck||(t.$el.trigger(p.stuck),l(t));var i=t.offset,s="";t.max&&e>t.max?(t.passed||t.$el.trigger(p.passed),t.passed=!0,t.$stickys.addClass(u.passed),i="",s=0):(t.passed=!1,t.$stickys.removeClass(u.passed)),t.$el.css({height:t.height,width:t.width,top:i,bottom:s,marginBottom:0})}else t.stuck=!1,t.$stickys.removeClass(u.stuck).removeClass(u.passed),t.stuck&&t.$el.trigger(p.unstuck),t.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}}var d=e.Plugin("sticky",{widget:!0,defaults:{maxWidth:1/0,minWidth:"0px",offset:0},classes:["enabled","sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:function(e){e.enabled=!1,e.stuck=!1,e.passed=!0,e.$clone=e.$el.clone(),e.container=e.$el.data("sticky-container"),e.$container=t(e.container),e.$el.addClass(u.base),e.$clone.removeClass(u.element).addClass(u.clone),e.$container.addClass(u.container),e.$stickys=t().add(e.$el).add(e.$clone),e.$el.after(e.$clone);var i=t().add(e.$el.find("img")).add(e.$container.find("img"));i.length&&i.on(p.load,e,r),e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){n.call(e.$el,e)},leave:function(){a.call(e.$el,e)}})},_postConstruct:function(t){s(),i()},_destruct:function(t){t.$clone.remove(),t.$container.removeClass(u.container),t.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(u.base),s()},_resize:i,_raf:function(){(g=m.scrollTop())<0&&(g=0),g!==f&&(o(),f=g)},disable:a,enable:n,reset:r,resize:r}}),c=(d.namespace,d.classes),u=c.raw,p=d.events,$=d.functions,m=(e.window,e.$window),g=0,f=0,v=[]}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./swap"],t):t(jQuery,Formstone)}(function(t,e){function i(t){if(!t.originalEvent){var e=t.data;e.$el.attr("aria-selected",!0).trigger(p.update,[0]),e.$mobileTab.addClass(u.active),e.$content.attr("aria-hidden",!1).addClass(u.active)}}function s(t){if(!t.originalEvent){var e=t.data;e.$el.attr("aria-selected",!1),e.$mobileTab.removeClass(u.active),e.$content.attr("aria-hidden",!0).removeClass(u.active)}}function n(t){var e=t.data;e.$el.attr("aria-controls",e.ariaContentId),e.$mobileTab.addClass(u.enabled),e.$content.attr("aria-labelledby",e.ariaId).addClass(u.enabled)}function a(t){var e=t.data;e.$el.removeAttr("aria-controls").removeAttr("aria-selected"),e.$mobileTab.removeClass(u.enabled),e.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeClass(u.enabled)}function o(t){t.data.$el.fsSwap("activate")}function r(t){t.$el.addClass(u.mobile),t.$mobileTab.addClass(u.mobile),t.$content.addClass(u.mobile)}function l(t){t.$el.removeClass(u.mobile),t.$mobileTab.removeClass(u.mobile),t.$content.removeClass(u.mobile)}var h=e.Plugin("tabs",{widget:!0,defaults:{customClass:"",maxWidth:1/0,mobileMaxWidth:"740px",theme:"fs-light"},classes:["tab","tab_mobile","mobile","content","enabled","active"],events:{update:"update"},methods:{_construct:function(o){o.mq="(max-width:"+(o.mobileMaxWidth===1/0?"100000px":o.mobileMaxWidth)+")",o.content=this.attr("href"),o.group=this.data(d+"-group"),o.elementClasses=[u.tab,o.rawGuid,o.theme,o.customClass],o.mobileTabClasses=[u.tab,u.tab_mobile,o.rawGuid,o.theme,o.customClass],o.contentClasses=[u.content,o.rawGuid,o.theme,o.customClass],o.$mobileTab=t('<button type="button" class="'+o.mobileTabClasses.join(" ")+'" aria-hidden="true">'+this.text()+"</button>"),o.$content=t(o.content).addClass(o.contentClasses.join(" ")),o.$content.before(o.$mobileTab).attr("role","tabpanel"),this.attr("role","tab"),o.id=this.attr("id"),o.id?o.ariaId=o.id:(o.ariaId=o.rawGuid,this.attr("id",o.ariaId)),o.contentId=o.$content.attr("id"),o.contentGuid=o.rawGuid+"_content",o.contentId?o.ariacontentId=o.contentId:(o.ariaContentId=o.contentGuid,o.$content.attr("id",o.ariaContentId));var r=e.window.location.hash,l=!1,h=!1;r.length&&(l=this.filter("[href*='"+r+"']").length>0,h=o.group&&t("[data-"+d+'-group="'+o.group+'"]').filter("[href*='"+r+"']").length>0),l?this.attr("data-swap-active","true"):h?this.removeAttr("data-swap-active").removeData("data-swap-active"):"true"===this.attr("data-tabs-active")&&this.attr("data-swap-active","true"),this.attr("data-swap-target",o.content).attr("data-swap-group",o.group).addClass(o.elementClasses.join(" ")).on("activate.swap"+o.dotGuid,o,i).on("deactivate.swap"+o.dotGuid,o,s).on("enable.swap"+o.dotGuid,o,n).on("disable.swap"+o.dotGuid,o,a)},_postConstruct:function(e){this.fsSwap({maxWidth:e.maxWidth,classes:{target:e.dotGuid,enabled:c.enabled,active:c.active,raw:{target:e.rawGuid,enabled:u.enabled,active:u.active}},collapse:!1}),e.$mobileTab.on("click"+e.dotGuid,e,o),t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){r.call(e.$el,e)},leave:function(){l.call(e.$el,e)}})},_destruct:function(e){t.fsMediaquery("unbind",e.rawGuid),e.$mobileTab.off(p.namespace).remove(),e.elementClasses.push(u.mobile),e.contentClasses.push(u.mobile),e.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("role").removeClass(e.contentClasses.join(" ")),e.$content.attr("id")===e.contentGuid&&e.$content.removeAttr("id"),this.removeAttr("aria-controls").removeAttr("aria-selected").removeAttr("data-swap-active").removeData("data-swap-active").removeAttr("data-swap-target").removeData("data-swap-target").removeAttr("data-swap-group").removeData("data-swap-group").removeAttr("role").removeClass(e.elementClasses.join(" ")).off(p.namespace).fsSwap("destroy"),this.attr("id")===e.rawGuid&&this.removeAttr("id")},activate:function(t){this.fsSwap("activate")},enable:function(t){this.fsSwap("enable")},disable:function(t){this.fsSwap("disable")}}}),d=h.namespace,c=h.classes,u=c.raw,p=h.events;h.functions}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],t):t(jQuery,Formstone)}(function(t,e){function i(){c=t(l.element)}function s(t){if(t.data&&(t=t.data),t.enabled)for(var e,i,s,n=0;n<t.target.length;n++){e=0,i=0,(s=t.$el.find(t.target[n])).css(t.property,"");for(var a=0;a<s.length;a++)(i=s.eq(a)[t.type]())>e&&(e=i);s.css(t.property,e)}}function n(t){t.enabled&&(t.enabled=!1,o(t))}function a(t){if(!t.enabled){t.enabled=!0;var e=t.$el.find("img");e.length&&e.on(h.load,t,s),s(t)}}function o(t){for(var e=0;e<t.target.length;e++)t.$el.find(t.target[e]).css(t.property,"");t.$el.find("img").off(h.namespace)}var r=e.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:function(e){e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.type="height"===e.property?"outerHeight":"outerWidth",e.target?t.isArray(e.target)||(e.target=[e.target]):e.target=["> *"],i(),t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){a.call(e.$el,e)},leave:function(){n.call(e.$el,e)}})},_destruct:function(e){o(e),t.fsMediaquery("unbind",e.rawGuid),i()},_resize:function(t){d.iterate.call(c,s)},resize:s}}),l=r.classes,h=(l.raw,r.events),d=r.functions,c=[]}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./touch"],t):t(jQuery,Formstone)}(function(t,e){function i(){q=t(L.base)}function s(t){t.enabled&&(z.clearTimer(t.autoTimer),t.enabled=!1,t.$subordinate.off(j.update),this.removeClass([A.enabled,A.animated].join(" ")).off(j.namespace),t.$canister.fsTouch("destroy").off(j.namespace).attr("style","").css(V,"none"),t.$items.css({width:"",height:""}).removeClass([A.visible,L.item_previous,L.item_next].join(" ")),t.$images.off(j.namespace),t.$controlItems.off(j.namespace),t.$pagination.html("").off(j.namespace),f(t),t.useMargin?t.$canister.css({marginLeft:""}):t.$canister.css(S,""),t.index=0)}function n(t){t.enabled||(t.enabled=!0,this.addClass(A.enabled),t.$controlItems.on(j.click,t,p),t.$pagination.on(j.click,L.page,t,m),t.$items.on(j.click,t,k),t.$subordinate.on(j.update,t,E),E({data:t},0),t.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(j.panStart,t,y).on(j.pan,t,w).on(j.panEnd,t,_).on(j.swipe,t,C).on(j.focusIn,t,H).css(V,""),o(t),t.$images.on(j.load,t,c),t.autoAdvance&&(t.autoTimer=z.startTimer(t.autoTimer,t.autoTime,function(){u(t)},!0)),a.call(this,t))}function a(t){if(t.enabled){var e,i,s,n,a,o,r;if(t.count=t.$items.length,t.count<1)return f(t),void t.$canister.css({height:""});for(this.removeClass(A.animated),t.containerWidth=t.$container.outerWidth(!1),t.visible=b(t),t.perPage=t.paged?1:t.visible,t.itemMarginLeft=parseInt(t.$items.eq(0).css("marginLeft")),t.itemMarginRight=parseInt(t.$items.eq(0).css("marginRight")),t.itemMargin=t.itemMarginLeft+t.itemMarginRight,isNaN(t.itemMargin)&&(t.itemMargin=0),t.itemWidth=(t.containerWidth-t.itemMargin*(t.visible-1))/t.visible,t.itemHeight=0,t.pageWidth=t.paged?t.itemWidth:t.containerWidth,t.pageCount=Math.ceil(t.count/t.perPage),t.canisterWidth=t.single?t.containerWidth:(t.pageWidth+t.itemMargin)*t.pageCount,t.$canister.css({width:t.matchWidth?t.canisterWidth:1e6,height:""}),t.$items.css({width:t.matchWidth?t.itemWidth:"",height:""}).removeClass([A.visible,A.item_previous,A.item_next].join(" ")),t.pages=[],i=0,0;i<t.count;i+=t.perPage){for(a=0,o=0,(n=t.$items.slice(i,i+t.perPage)).length<t.perPage&&(n=0===i?t.$items:t.$items.slice(t.$items.length-t.perPage)),r=(t.rtl?n.eq(n.length-1):n.eq(0)).position().left,s=0;s<n.length;s++)a+=n.eq(s).outerWidth(!0),(e=n.eq(s).outerHeight())>o&&(o=e);t.pages.push({left:t.rtl?r-(t.canisterWidth-a):r,height:o,width:a,$items:n}),o>t.itemHeight&&(t.itemHeight=o)}t.paged&&(t.pageCount=t.count-t.visible+1),t.pageCount<=0&&(t.pageCount=1),t.maxMove=-t.pages[t.pageCount-1].left,t.autoHeight?t.$canister.css({height:t.pages[0].height}):t.matchHeight&&t.$items.css({height:t.itemHeight});var l="";for(i=0;i<t.pageCount;i++)l+='<button type="button" class="'+A.page+'">'+(i+1)+"</button>";t.$pagination.html(l),t.pageCount<=1?f(t):v(t),t.$paginationItems=t.$pagination.find(L.page),g(t,t.index,!1),setTimeout(function(){t.$el.addClass(A.animated)},5)}}function o(t){t.$items=t.$canister.children().not(":hidden").addClass(A.item),t.$images=t.$canister.find("img"),t.totalImages=t.$images.length}function r(t,e){t.$images.off(j.namespace),!1!==e&&t.$canister.html(e),t.index=0,o(t),a.call(this,t)}function l(t,e,i,s,n){t.enabled&&(z.clearTimer(t.autoTimer),void 0===n&&(n=!0),g(t,e-1,n,i,s))}function h(t){var e=t.index-1;t.infinite&&e<0&&(e=t.pageCount-1),g(t,e)}function d(t){var e=t.index+1;t.infinite&&e>=t.pageCount&&(e=0),g(t,e)}function c(t){var e=t.data;e.resizeTimer=z.startTimer(e.resizeTimer,1,function(){a.call(e.$el,e)})}function u(t){var e=t.index+1;console.log(t),e>=t.pageCount&&(e=0),g(t,e)}function p(e){z.killEvent(e);var i=e.data,s=i.index+(t(e.currentTarget).hasClass(A.control_next)?1:-1);z.clearTimer(i.autoTimer),g(i,s)}function m(e){z.killEvent(e);var i=e.data,s=i.$paginationItems.index(t(e.currentTarget));z.clearTimer(i.autoTimer),g(i,s)}function g(e,i,s,n,a){if(i<0&&(i=e.infinite?e.pageCount-1:0),i>=e.pageCount&&(i=e.infinite?0:e.pageCount-1),!(e.count<1)){e.pages[i]&&(e.leftPosition=-e.pages[i].left),e.leftPosition=T(e,e.leftPosition),e.useMargin?e.$canister.css({marginLeft:e.leftPosition}):!1===s?(e.$canister.css(V,"none").css(S,"translateX("+e.leftPosition+"px)"),setTimeout(function(){e.$canister.css(V,"")},5)):e.$canister.css(S,"translateX("+e.leftPosition+"px)"),e.$items.removeClass([A.visible,A.item_previous,A.item_next].join(" "));for(var o=0,r=e.pages.length;o<r;o++)o===i?e.pages[o].$items.addClass(A.visible).attr("aria-hidden","false"):e.pages[o].$items.not(e.pages[i].$items).addClass(o<i?A.item_previous:A.item_next).attr("aria-hidden","true");e.autoHeight&&e.$canister.css({height:e.pages[i].height}),!1!==s&&!0!==n&&i!==e.index&&(e.infinite||i>-1&&i<e.pageCount)&&e.$el.trigger(j.update,[i]),e.index=i,e.linked&&!0!==a&&t(e.linked).not(e.$el)[I]("jumpPage",e.index+1,!0,!0),$(e)}}function f(t){t.$controls.removeClass(A.visible),t.$controlItems.removeClass(A.visible),t.$pagination.removeClass(A.visible)}function v(t){t.$controls.addClass(A.visible),t.$controlItems.addClass(A.visible),t.$pagination.addClass(A.visible)}function $(t){t.$paginationItems.removeClass(A.active).eq(t.index).addClass(A.active),t.infinite?t.$controlItems.addClass(A.visible):t.pageCount<1?t.$controlItems.removeClass(A.visible):(t.$controlItems.addClass(A.visible),t.index<=0?t.$controlPrevious.removeClass(A.visible):(t.index>=t.pageCount-1||!t.single&&t.leftPosition===t.maxMove)&&t.$controlNext.removeClass(A.visible))}function b(i){var s=1;if(i.single)return s;if("array"===t.type(i.show))for(var n in i.show)i.show.hasOwnProperty(n)&&(e.support.matchMedia?i.show[n].mq.matches&&(s=i.show[n].count):i.show[n].width<e.fallbackWidth&&(s=i.show[n].count));else s=i.show;return i.fill&&i.count<s?i.count:s}function y(e,i){var s=e.data;if(z.clearTimer(s.autoTimer),!s.single){if(s.useMargin)s.leftPosition=parseInt(s.$canister.css("marginLeft"));else{var n=s.$canister.css(S).split(",");s.leftPosition=parseInt(n[4])}if(s.$canister.css(V,"none").css("will-change","transform"),w(e),s.linked&&!0!==i){var a=e.deltaX/s.pageWidth;s.rtl&&(a*=-1),t(s.linked).not(s.$el)[I]("panStart",a)}}s.isTouching=!0}function w(e,i){var s=e.data;if(!s.single&&(s.touchLeft=T(s,s.leftPosition+e.deltaX),s.useMargin?s.$canister.css({marginLeft:s.touchLeft}):s.$canister.css(S,"translateX("+s.touchLeft+"px)"),s.linked&&!0!==i)){var n=e.deltaX/s.pageWidth;s.rtl&&(n*=-1),t(s.linked).not(s.$el)[I]("pan",n)}}function _(e,i){var s=e.data,n=Math.abs(e.deltaX),a=M(s,e),o=!1;if(s.didPan=!1,!s.single){var r,l,h=Math.abs(s.touchLeft),d=!1,c=s.rtl?"right":"left";if(e.directionX===c)for(r=0,l=s.pages.length;r<l;r++)d=s.pages[r],h>Math.abs(d.left)+20&&(o=r+1);else for(r=s.pages.length-1,l=0;r>=l;r--)d=s.pages[r],h<Math.abs(d.left)&&(o=r-1)}!1===o&&(o=n<50?s.index:s.index+a),o!==s.index&&(s.didPan=!0),s.linked&&!0!==i&&t(s.linked).not(s.$el)[I]("panEnd",o),x(s,o)}function C(e,i){var s=e.data,n=M(s,e),a=s.index+n;s.linked&&!0!==i&&t(s.linked).not(s.$el)[I]("swipe",e.directionX),x(s,a)}function x(t,e){t.$canister.css(V,"").css("will-change",""),g(t,e),t.isTouching=!1}function k(e){var i=e.data,s=t(e.currentTarget);if(!i.didPan&&(s.trigger(j.itemClick),i.controller)){var n=i.$items.index(s);E(e,n),i.$subordinate[I]("jumpPage",n+1,!0)}}function H(e){var i=e.data;if(i.enabled&&!i.isTouching){z.clearTimer(i.autoTimer),i.$container.scrollLeft(0);var s,n=t(e.target);n.hasClass(A.item)?s=n:n.parents(L.item).length&&(s=n.parents(L.item).eq(0));for(var a=0;a<i.pageCount;a++)if(i.pages[a].$items.is(s)){g(i,a);break}}}function E(t,e){var i=t.data;if(i.controller){var s=i.$items.eq(e);i.$items.removeClass(A.active),s.addClass(A.active);for(var n=0;n<i.pageCount;n++)if(i.pages[n].$items.is(s)){g(i,n,!0,!0);break}}}function T(t,e){return isNaN(e)?e=0:t.rtl?(e>t.maxMove&&(e=t.maxMove),e<0&&(e=0)):(e<t.maxMove&&(e=t.maxMove),e>0&&(e=0)),e}function M(t,e){return t.rtl?"right"===e.directionX?1:-1:"left"===e.directionX?1:-1}var W=e.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8e3,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous",controls:"Carousel {guid} Controls",pagination:"Carousel {guid} Pagination"},matchHeight:!1,matchWidth:!0,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,rtl:!1,show:1,single:!1,theme:"fs-light",useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{itemClick:"itemClick",update:"update"},methods:{_construct:function(a){var r;a.didPan=!1,a.carouselClasses=[A.base,a.theme,a.customClass,a.rtl?A.rtl:A.ltr],a.maxWidth=a.maxWidth===1/0?"100000px":a.maxWidth,a.mq="(min-width:"+a.minWidth+") and (max-width:"+a.maxWidth+")",a.customControls="object"===t.type(a.controls)&&a.controls.previous&&a.controls.next,a.customPagination="string"===t.type(a.pagination),a.id=this.attr("id"),a.id?a.ariaId=a.id:(a.ariaId=a.rawGuid,this.attr("id",a.ariaId)),e.support.transform||(a.useMargin=!0);var l="",h="",d=[A.control,A.control_previous].join(" "),c=[A.control,A.control_next].join(" ");a.controls&&!a.customControls&&(a.labels.controls=a.labels.controls.replace("{guid}",a.numGuid),l+='<div class="'+A.controls+'" aria-label="'+a.labels.controls+'" aria-controls="'+a.ariaId+'">',l+='<button type="button" class="'+d+'" aria-label="'+a.labels.previous+'">'+a.labels.previous+"</button>",l+='<button type="button" class="'+c+'" aria-label="'+a.labels.next+'">'+a.labels.next+"</button>",l+="</div>"),a.pagination&&!a.customPagination&&(a.labels.pagination=a.labels.pagination.replace("{guid}",a.numGuid),h+='<div class="'+A.pagination+'" aria-label="'+a.labels.pagination+'" aria-controls="'+a.ariaId+'" role="navigation">',h+="</div>"),a.autoHeight&&a.carouselClasses.push(A.auto_height),a.contained&&a.carouselClasses.push(A.contained),a.single&&a.carouselClasses.push(A.single),this.addClass(a.carouselClasses.join(" ")).wrapInner('<div class="'+A.wrapper+'" aria-live="polite"><div class="'+A.container+'"><div class="'+A.canister+'"></div></div></div>').append(l).wrapInner('<div class="'+A.viewport+'"></div>').append(h),a.$viewport=this.find(L.viewport).eq(0),a.$container=this.find(L.container).eq(0),a.$canister=this.find(L.canister).eq(0),a.$pagination=this.find(L.pagination).eq(0),a.$controlPrevious=a.$controlNext=t(""),a.customControls?(a.$controls=t(a.controls.container).addClass([A.controls,A.controls_custom].join(" ")),a.$controlPrevious=t(a.controls.previous).addClass(d),a.$controlNext=t(a.controls.next).addClass(c)):(a.$controls=this.find(L.controls).eq(0),a.$controlPrevious=a.$controls.find(L.control_previous),a.$controlNext=a.$controls.find(L.control_next)),a.$controlItems=a.$controlPrevious.add(a.$controlNext),a.customPagination&&(a.$pagination=t(a.pagination).addClass([A.pagination])),a.$paginationItems=a.$pagination.find(L.page),a.index=0,a.enabled=!1,a.leftPosition=0,a.autoTimer=null,a.resizeTimer=null;var u=this.data(P+"-linked");a.linked=!!u&&"[data-"+P+'-linked="'+u+'"]',a.linked&&(a.paged=!0);var p=this.data(P+"-controller-for")||"";if(a.$subordinate=t(p),a.$subordinate.length&&(a.controller=!0),"object"===t.type(a.show)){var m=a.show,g=[],f=[];for(r in m)m.hasOwnProperty(r)&&f.push(r);f.sort(z.sortAsc);for(r in f)f.hasOwnProperty(r)&&g.push({width:parseInt(f[r]),count:m[f[r]],mq:window.matchMedia("(min-width: "+parseInt(f[r])+"px)")});a.show=g}o(a),t.fsMediaquery("bind",a.rawGuid,a.mq,{enter:function(){n.call(a.$el,a)},leave:function(){s.call(a.$el,a)}}),i(),a.carouselClasses.push(A.enabled),a.carouselClasses.push(A.animated)},_destruct:function(e){z.clearTimer(e.autoTimer),z.clearTimer(e.resizeTimer),s.call(this,e),t.fsMediaquery("unbind",e.rawGuid),e.id!==e.ariaId&&this.removeAttr("id"),e.$controlItems.removeClass([L.control,A.control_previous,L.control_next,L.visible].join(" ")).off(j.namespace),e.$images.off(j.namespace),e.$canister.fsTouch("destroy"),e.$items.removeClass([A.item,A.visible,L.item_previous,L.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&e.$controls.removeClass([A.controls,A.controls_custom,A.visible].join(" ")),e.pagination&&!e.customPagination&&e.$pagination.remove(),e.customPagination&&e.$pagination.html("").removeClass([A.pagination,A.visible].join(" ")),this.removeClass(e.carouselClasses.join(" ")),i()},_resize:function(t){z.iterate.call(q,a)},disable:s,enable:n,jump:l,previous:h,next:d,jumpPage:l,previousPage:h,nextPage:d,jumpItem:function(t,e,i,s,n){if(t.enabled){z.clearTimer(t.autoTimer);var a=t.$items.eq(e-1);void 0===n&&(n=!0);for(var o=0;o<t.pageCount;o++)if(t.pages[o].$items.is(a)){g(t,o,n,i,s);break}}},reset:function(t){t.enabled&&r.call(this,t,!1)},resize:a,update:r,panStart:function(t,e){if(z.clearTimer(t.autoTimer),!t.single){if(t.rtl&&(e*=-1),t.useMargin)t.leftPosition=parseInt(t.$canister.css("marginLeft"));else{
var i=t.$canister.css(S).split(",");t.leftPosition=parseInt(i[4])}t.$canister.css(V,"none"),w({data:t,deltaX:t.pageWidth*e},!0)}t.isTouching=!0},pan:function(t,e){if(!t.single){t.rtl&&(e*=-1);var i=t.pageWidth*e;t.touchLeft=T(t,t.leftPosition+i),t.useMargin?t.$canister.css({marginLeft:t.touchLeft}):t.$canister.css(S,"translateX("+t.touchLeft+"px)")}},panEnd:function(t,e){x(t,e)},swipe:function(t,e){C({data:t,directionX:e},!0)}}}),P=W.namespace,I=W.namespaceClean,L=W.classes,A=L.raw,j=W.events,z=W.functions,q=[],S=e.transform,V=e.transition}),function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(t,e){function i(e){e.stopPropagation();var i=e.data;t(e.target).is(i.$el)||(e.preventDefault(),i.$el.trigger("click"))}function s(t){var e=t.data,i=e.$el.is(":disabled"),s=e.$el.is(":checked");i||(e.radio?s&&n(t):s?n(t):a(t))}function n(e){e.data.radio&&t('input[name="'+e.data.group+'"]').not(e.data.$el).trigger("deselect"),e.data.$el.trigger(c.focus),e.data.$classable.addClass(d.checked)}function a(t){t.data.$el.trigger(c.focus),t.data.$classable.removeClass(d.checked)}function o(t){t.data.$classable.addClass(d.focus)}function r(t){t.data.$classable.removeClass(d.focus)}var l=e.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"},theme:"fs-light"},classes:["element_placeholder","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:function(e){var n=this.closest("label"),l=n.length?n.eq(0):t("label[for="+this.attr("id")+"]"),u=[d.base,e.theme,e.customClass].join(" "),p=[d.label,e.theme,e.customClass].join(" "),m="";e.radio="radio"===this.attr("type"),e.group=this.attr("name"),m+='<div class="'+d.marker+'" aria-hidden="true">',m+='<div class="'+d.flag+'"></div>',e.toggle&&(u+=" "+d.toggle,p+=" "+d.toggle,m+='<span class="'+[d.state,d.state_on].join(" ")+'">'+e.labels.on+"</span>",m+='<span class="'+[d.state,d.state_off].join(" ")+'">'+e.labels.off+"</span>"),e.radio&&(u+=" "+d.radio,p+=" "+d.radio),m+="</div>",e.$placeholder=t('<span class="'+d.element_placeholder+'"></span>'),this.before(e.$placeholder),e.labelParent=l.find(this).length,e.labelClass=p,l.addClass(p),e.labelParent?l.wrap('<div class="'+u+'"></div>').before(m):this.before('<div class=" '+u+'">'+m+"</div>"),e.$checkbox=e.labelParent?l.parents(h.base):this.prev(h.base),e.$marker=e.$checkbox.find(h.marker),e.$states=e.$checkbox.find(h.state),e.$label=l,e.$classable=t().add(e.$checkbox).add(e.$label),this.is(":checked")&&e.$classable.addClass(d.checked),this.is(":disabled")&&e.$classable.addClass(d.disabled),this.appendTo(e.$marker),this.on(c.focus,e,o).on(c.blur,e,r).on(c.change,e,s).on(c.click,e,i).on(c.deselect,e,a),e.$checkbox.on(c.click,e,i)},_destruct:function(t){t.$checkbox.off(c.namespace),t.$marker.remove(),t.$states.remove(),t.$label.removeClass(t.labelClass),t.labelParent?t.$label.unwrap():this.unwrap(),t.$placeholder.before(this),t.$placeholder.remove(),this.off(c.namespace)},enable:function(t){this.prop("disabled",!1),t.$classable.removeClass(d.disabled)},disable:function(t){this.prop("disabled",!0),t.$classable.addClass(d.disabled)},update:function(t){var e=t.$el.is(":disabled"),i=t.$el.is(":checked");e||(i?n({data:t}):a({data:t}))}},events:{deselect:"deselect"}}),h=l.classes,d=h.raw,c=l.events;l.functions});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(t){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e="slider",i="bootstrapSlider";windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){});var s;return function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var o=s.call(arguments,1),r=0,l=this.length;l>r;r++){var h=this[r],d=t.data(h,e);if(d)if(t.isFunction(d[n])&&"_"!==n.charAt(0)){var c=d[n].apply(d,o);if(void 0!==c&&c!==d)return c}else a("no such method '"+n+"' for "+e+" instance");else a("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}var u=this.map(function(){var s=t.data(this,e);return s?(s.option(n),s._init()):(s=new i(this,n),t.data(this,e,s)),t(this)});return!u||u.length>1?u:u[0]}}if(t){var a="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var s=Array.prototype.slice;i(t)}(t),function(t){function n(e,i){function s(t,e){var i="data-slider-"+e.replace(/_/g,"-"),s=t.getAttribute(i);try{return JSON.parse(s)}catch(t){return s}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i||{};for(var n=Object.keys(this.defaultOptions),a=0;a<n.length;a++){var r=n[a],l=i[r];l=void 0!==l?l:s(this.element,r),l=null!==l?l:this.defaultOptions[r],this.options||(this.options={}),this.options[r]=l}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var h,d,c,u,p,m=this.element.style.width,g=!1,f=this.element.parentNode;if(this.sliderElem)g=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");v.className="slider-track",d=document.createElement("div"),d.className="slider-track-low",h=document.createElement("div"),h.className="slider-selection",c=document.createElement("div"),c.className="slider-track-high",u=document.createElement("div"),u.className="slider-handle min-slider-handle",u.setAttribute("role","slider"),u.setAttribute("aria-valuemin",this.options.min),u.setAttribute("aria-valuemax",this.options.max),p=document.createElement("div"),p.className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),v.appendChild(d),v.appendChild(h),v.appendChild(c),this.rangeHighlightElements=[];var b=this.options.rangeHighlights;if(Array.isArray(b)&&b.length>0)for(var y=0;y<b.length;y++){var w=document.createElement("div"),_=b[y].class||"";w.className="slider-rangeHighlight slider-selection "+_,this.rangeHighlightElements.push(w),v.appendChild(w)}var C=Array.isArray(this.options.labelledby);if(C&&this.options.labelledby[0]&&u.setAttribute("aria-labelledby",this.options.labelledby[0]),C&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!C&&this.options.labelledby&&(u.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",a=0;a<this.options.ticks.length;a++){var x=document.createElement("div");if(x.className="slider-tick",this.options.ticks_tooltip){var k=this._addTickListener(),H=k.addMouseEnter(this,x,a),E=k.addMouseLeave(this,x);this.ticksCallbackMap[a]={mouseEnter:H,mouseLeave:E}}this.ticks.push(x),this.ticksContainer.appendChild(x)}h.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",a=0;a<this.options.ticks_labels.length;a++){var T=document.createElement("div"),M=0===this.options.ticks_positions.length,W=this.options.reversed&&M?this.options.ticks_labels.length-(a+1):a;T.className="slider-tick-label",T.innerHTML=this.options.ticks_labels[W],this.tickLabels.push(T),this.tickLabelContainer.appendChild(T)}var P=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},I=document.createElement("div");I.className="tooltip tooltip-main",I.setAttribute("role","presentation"),P(I);var L=document.createElement("div");L.className="tooltip tooltip-min",L.setAttribute("role","presentation"),P(L);var A=document.createElement("div");A.className="tooltip tooltip-max",A.setAttribute("role","presentation"),P(A),this.sliderElem.appendChild(v),this.sliderElem.appendChild(I),this.sliderElem.appendChild(L),this.sliderElem.appendChild(A),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(u),this.sliderElem.appendChild(p),f.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),!0===g&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=m,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=d||this.trackLow,this.trackSelection=h||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):("after"===this.options.selection||"before"===this.options.selection)&&(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=u||this.handle1,this.handle2=p||this.handle2,!0===g)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),a=0;a<this.ticks.length;a++)this._removeClass(this.ticks[a],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),a=0;a<this.ticks.length;a++)this._addClass(this.ticks[a],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var j=!1;try{var z=Object.defineProperty({},"passive",{get:function(){j=!0}});window.addEventListener("test",null,z)}catch(t){}var q=!!j&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,q),this.sliderElem.addEventListener("touchmove",this.touchmove,q)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var S=this._addTickListener(),V=S.addMouseEnter(this,this.handle1),D=S.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:V,mouseLeave:D},V=S.addMouseEnter(this,this.handle2),D=S.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:V,mouseLeave:D}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var a={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var s,n,a,o=0,r=1;r<this.options.ticks_positions.length;r++)if(t<=this.options.ticks_positions[r]){s=this.options.ticks[r-1],a=this.options.ticks_positions[r-1],n=this.options.ticks[r],o=this.options.ticks_positions[r];break}e=s+(t-a)/(o-a)*(n-s),i=!1}var l=i?this.options.min:0,h=l+Math.round(e/this.options.step)*this.options.step;return h<this.options.min?this.options.min:h>this.options.max?this.options.max:h},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,s,n=0,a=0;a<this.options.ticks.length;a++)if(t<=this.options.ticks[a]){e=a>0?this.options.ticks[a-1]:0,s=a>0?this.options.ticks_positions[a-1]:0,i=this.options.ticks[a],n=this.options.ticks_positions[a];break}if(a>0){return s+(t-e)/(i-e)*(n-s)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),s=Math.exp(e+(i-e)*t/100);return Math.round(s)===this.options.max?this.options.max:(s=this.options.min+Math.round((s-this.options.min)/this.options.step)*this.options.step,s<this.options.min?this.options.min:s>this.options.max?this.options.max:s)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};if(s=function(t,e){return n.call(this,t,e),this},s.prototype={_init:function(){},constructor:s,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var s=this.getValue();this._state.value=this._validateInputValue(t);var n=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=n(this._state.value[0]),this._state.value[1]=n(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=n(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var a=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(a),!0===e&&this._trigger("slide",a),s!==a&&!0===i&&this._trigger("change",{oldValue:s,newValue:a}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var s=0;s<i.length;s++)if(i[s]===e){i.splice(s,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var i=this.options.formatter(t?t.value[0]:this._state.value[0]),s=t?e(t,this.options.reversed):e(this._state,this.options.reversed);this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=s[0]+"%"},_addTickListener:function(){return{addMouseEnter:function(t,e,i){var s=function(){var e=t._state,s=i>=0?i:this.attributes["aria-valuenow"].value,n=parseInt(s,10);e.value[0]=n,e.percentage[0]=t.options.ticks_positions[n],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",s,!1),s},addMouseLeave:function(t,e){var i=function(){t._hideTooltip()};return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var e=0;e<this.options.rangeHighlights.length;e++){var i=this._toPercentage(this.options.rangeHighlights[e].start),s=this._toPercentage(this.options.rangeHighlights[e].end);if(this.options.reversed){var n=100-s;s=100-i,i=n}var a=this._createHighlightRange(i,s);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[e].style.top=a.start+"%",this.rangeHighlightElements[e].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[e].style.right=a.start+"%":this.rangeHighlightElements[e].style.left=a.start+"%",this.rangeHighlightElements[e].style.width=a.size+"%"):this.rangeHighlightElements[e].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var o,r="vertical"===this.options.orientation?"height":"width";o="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var l=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[o]=-l/2+"px"),h=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var d=0;d<this.options.ticks.length;d++){var c=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(c=100-c),this.ticks[d].style[this.stylePos]=c+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?c>=t[0]&&c<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&c>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&c<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[r]=l+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=c+"%",this.tickLabels[d].style[o]=-l/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[o]=this.sliderElem.offsetWidth/2*-1+"px"))}}var u;if(this.options.range){u=this.options.formatter(this._state.value),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var m=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else u=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),f=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>f.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>f.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return t>=0&&100>=t&&e>=0&&100>=e},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),s=Math.abs(this._state.percentage[1]-e);this._state.dragged=s>i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var n=this._calculateValue();return this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var s="vertical"===this.options.orientation&&!this.options.reversed,n="horizontal"===this.options.orientation&&this.options.reversed;(s||n)&&(i=-i)}var a=this._state.value[t]+i*this.options.step,o=a/this.options.max*100;if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(o);a=[this._state.keyCtrl?this._state.value[0]:a,this._state.keyCtrl?a:this._state.value[1]]}return this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a,!0,!0),this._setDataVal(a),this._trigger("slideStop",a),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t)
;this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],i=e.pageX-this.touchX,s=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&5>=i&&i>=-5&&(s>=15||-15>=s)?this._mousedown(t):5>=s&&s>=-5&&(i>=15||-15>=i)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],s=0;s<this.options.ticks.length;s++){var n=Math.abs(this.options.ticks[s]-e);n<=i[1]&&(i=[this.options.ticks[s],n])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],i=this._state.offset[this.stylePos],s=e-i;"right"===this.stylePos&&(s=-s);var n=s/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(a.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(a.formatInvalidInputErrorMsg(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var s=this.eventToCallbackMap[e];if(s&&s.length)for(var n=0;n<s.length;n++){var a=s[n];a(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),s=t.className,n=0;n<i.length;n++){var a=i[n],o=new RegExp("(?:\\s|^)"+a+"(?:\\s|$)");s=s.replace(o," ")}t.className=s.trim()},_addClass:function(t,e){for(var i=e.split(" "),s=t.className,n=0;n<i.length;n++){var a=i[n];new RegExp("(?:\\s|^)"+a+"(?:\\s|$)").test(s)||(s+=" "+a)}t.className=s.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,i,s){if(t)t.style(e,i,s);else{var n=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[n]=s}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e;e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right";var i="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&t.fn){var r=void 0;t.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),r=i):(t.bridget(e,s),r=e),t.bridget(i,s),t(function(){t("input[data-provide=slider]")[r]()})}}(t),s}),$(document).ready(function(){$(".lightbox").lightbox(),$(".swap").swap(),$("input[type='checkbox'], input[type='radio']").checkbox(),$(".carousel").carousel(),$(".equalize-parent").equalize({target:".equalize-child"}),$(".tab").tabs({theme:"",mobileMaxWidth:"320px"}),$(".tab").on("update.tabs",function(){var t=$(this).attr("href");$(t).find(".equalize-parent").equalize("resize")}),optimizer(),$(".about-form").on("change",function(){forms()})});