!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e,t,i,n){var a,o={raw:{}};n=n||{};for(a in n)n.hasOwnProperty(a)&&("classes"===e?(o.raw[n[a]]=t+"-"+n[a],o[n[a]]="."+t+"-"+n[a]):(o.raw[a]=n[a],o[a]=n[a]+"."+t));for(a in i)i.hasOwnProperty(a)&&("classes"===e?(o.raw[a]=i[a].replace(/{ns}/g,t),o[a]=i[a].replace(/{ns}/g,"."+t)):(o.raw[a]=i[a].replace(/.{ns}/g,""),o[a]=i[a].replace(/{ns}/g,t)));return o}function i(){u.windowWidth=u.$window.width(),u.windowHeight=u.$window.height(),v=g.startTimer(v,b,n)}function n(){for(var e in u.ResizeHandlers)u.ResizeHandlers.hasOwnProperty(e)&&u.ResizeHandlers[e].callback.call(window,u.windowWidth,u.windowHeight)}function a(){if(u.support.raf){u.window.requestAnimationFrame(a);for(var e in u.RAFHandlers)u.RAFHandlers.hasOwnProperty(e)&&u.RAFHandlers[e].callback.call(window)}}function o(e,t){return parseInt(e.priority)-parseInt(t.priority)}var r,s,l,c="undefined"!=typeof window?window:this,d=c.document,h=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=c,this.$window=e(c),this.document=d,this.$document=e(d),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},g={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(t){w[t]=!0,e.isEmptyObject(w)||y||(r.length?r.attr("content",l):r=e("head").append('<meta name="viewport" content="'+l+'">'),u.$body.on(f.gestureChange,g.killGesture).on(f.gestureStart,g.killGesture).on(f.gestureEnd,g.killGesture),y=!0)},unlockViewport:function(t){"undefined"!==e.type(w[t])&&delete w[t],e.isEmptyObject(w)&&y&&(r.length&&(s?r.attr("content",s):r.remove()),u.$body.off(f.gestureChange).off(f.gestureStart).off(f.gestureEnd),y=!1)},startTimer:function(e,t,i,n){return g.clearTimer(e),n?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=u.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},i=e.slice(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var a=i[n].split("=");t[a[0]]=a[1]}return t}},u=new h,p=e.Deferred(),m={base:"{ns}",element:"{ns}-element"},f={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},v=null,b=20,w=[],y=!1;return h.prototype.NoConflict=function(){u.DontConflict=!0;for(var t in u.Plugins)u.Plugins.hasOwnProperty(t)&&(e[t]=u.Conflicts[t],e.fn[t]=u.Conflicts.fn[t])},h.prototype.Ready=function(e){"complete"===u.document.readyState||"loading"!==u.document.readyState&&!u.document.documentElement.doScroll?e():u.document.addEventListener("DOMContentLoaded",e)},h.prototype.Plugin=function(i,n){return u.Plugins[i]=function(i,n){function a(t){var a,o,s,c="object"===e.type(t),d=Array.prototype.slice.call(arguments,c?1:0),h=this,g=e();for(t=e.extend(!0,{},n.defaults||{},c?t:{}),o=0,s=h.length;o<s;o++)if(a=h.eq(o),!r(a)){n.guid++;var u="__"+n.guid,p=n.classes.raw.base+u,m=a.data(i+"-options"),f=e.extend(!0,{$el:a,guid:u,numGuid:n.guid,rawGuid:p,dotGuid:"."+p},t,"object"===e.type(m)?m:{});a.addClass(n.classes.raw.element).data(l,f),n.methods._construct.apply(a,[f].concat(d)),g=g.add(a)}for(o=0,s=g.length;o<s;o++)a=g.eq(o),n.methods._postConstruct.apply(a,[r(a)]);return h}function r(e){return e.data(l)}var s="fs-"+i,l="fs"+i.replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()});return n.initialized=!1,n.priority=n.priority||10,n.classes=t("classes",s,m,n.classes),n.events=t("events",i,f,n.events),n.functions=e.extend({getData:r,iterate:function(t){for(var i=this,n=Array.prototype.slice.call(arguments,1),a=0,o=i.length;a<o;a++){var s=i.eq(a),l=r(s)||{};"undefined"!==e.type(l.$el)&&t.apply(s,[l].concat(n))}return i}},g,n.functions),n.methods=e.extend(!0,{_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:function(e){n.functions.iterate.apply(this,[n.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(n.classes.raw.element).removeData(l)}},n.methods),n.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(t){n.defaults=e.extend(!0,n.defaults,t||{})}},n.utilities),n.widget&&(u.Conflicts.fn[i]=e.fn[i],e.fn[l]=function(t){if(this instanceof e){var i=n.methods[t];if("object"===e.type(t)||!t)return a.apply(this,arguments);if(i&&0!==t.indexOf("_")){var o=[i].concat(Array.prototype.slice.call(arguments,1));return n.functions.iterate.apply(this,o)}return this}},u.DontConflict||(e.fn[i]=e.fn[l])),u.Conflicts[i]=e[i],e[l]=n.utilities._delegate||function(t){var i=n.utilities[t]||n.utilities._initialize||!1;if(i){var a=Array.prototype.slice.call(arguments,"object"===e.type(t)?0:1);return i.apply(window,a)}},u.DontConflict||(e[i]=e[l]),n.namespace=i,n.namespaceClean=l,n.guid=0,n.methods._resize&&(u.ResizeHandlers.push({namespace:i,priority:n.priority,callback:n.methods._resize}),u.ResizeHandlers.sort(o)),n.methods._raf&&(u.RAFHandlers.push({namespace:i,priority:n.priority,callback:n.methods._raf}),u.RAFHandlers.sort(o)),n}(i,n),u.Plugins[i]},u.$window.on("resize.fs",i),i(),a(),u.Ready(function(){u.$body=e("body"),e("html").addClass(u.support.touch?"touchevents":"no-touchevents"),r=e('meta[name="viewport"]'),s=!!r.length&&r.attr("content"),l="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",p.resolve()}),f.clickTouchStart=f.click+" "+f.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},i=["transition","-webkit-transition"],n={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},a="transitionend",o="",r="",s=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in s.style){a=t[e],u.support.transition=!0;break}f.transitionEnd=a+".{ns}";for(e in i)if(i.hasOwnProperty(e)&&i[e]in s.style){o=i[e];break}u.transition=o;for(e in n)if(n.hasOwnProperty(e)&&n[e]in s.style){u.support.transform=!0,r=n[e];break}u.transform=r}(),window.Formstone=u,u}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(e){e.preventManipulation&&e.preventManipulation();var t=e.data,i=e.originalEvent;if(i.type.match(/(up|end|cancel)$/i))o(e);else{if(i.pointerId){var r=!1;for(var s in t.touches)t.touches[s].id===i.pointerId&&(r=!0,t.touches[s].pageX=i.pageX,t.touches[s].pageY=i.pageY);r||t.touches.push({id:i.pointerId,pageX:i.pageX,pageY:i.pageY})}else t.touches=i.touches;i.type.match(/(down|start)$/i)?n(e):i.type.match(/move$/i)&&a(e)}}function n(n){var r=n.data,s="undefined"!==e.type(r.touches)&&r.touches.length?r.touches[0]:null;s&&r.$el.off(p.mouseDown),r.touching||(r.startE=n.originalEvent,r.startX=s?s.pageX:n.pageX,r.startY=s?s.pageY:n.pageY,r.startT=(new Date).getTime(),r.scaleD=1,r.passed=!1),r.$links&&r.$links.off(p.click);var h=l(r.scale?p.scaleStart:p.panStart,n,r.startX,r.startY,r.scaleD,0,0,"","");if(r.scale&&r.touches&&r.touches.length>=2){var g=r.touches;r.pinch={startX:c(g[0].pageX,g[1].pageX),startY:c(g[0].pageY,g[1].pageY),startD:d(g[1].pageX-g[0].pageX,g[1].pageY-g[0].pageY)},h.pageX=r.startX=r.pinch.startX,h.pageY=r.startY=r.pinch.startY}r.touching||(r.touching=!0,r.pan&&!s&&f.on(p.mouseMove,r,a).on(p.mouseUp,r,o),t.support.pointer?f.on([p.pointerMove,p.pointerUp,p.pointerCancel].join(" "),r,i):f.on([p.touchMove,p.touchEnd,p.touchCancel].join(" "),r,i),r.$el.trigger(h))}function a(t){var i=t.data,n="undefined"!==e.type(i.touches)&&i.touches.length?i.touches[0]:null,a=n?n.pageX:t.pageX,r=n?n.pageY:t.pageY,s=a-i.startX,h=r-i.startY,g=s>0?"right":"left",u=h>0?"down":"up",f=Math.abs(s)>v,b=Math.abs(h)>v;if(!i.passed&&i.axis&&(i.axisX&&b||i.axisY&&f))o(t);else{!i.passed&&(!i.axis||i.axis&&i.axisX&&f||i.axisY&&b)&&(i.passed=!0),i.passed&&(m.killEvent(t),m.killEvent(i.startE));var w=!0,y=l(i.scale?p.scale:p.pan,t,a,r,i.scaleD,s,h,g,u);if(i.scale)if(i.touches&&i.touches.length>=2){var H=i.touches;i.pinch.endX=c(H[0].pageX,H[1].pageX),i.pinch.endY=c(H[0].pageY,H[1].pageY),i.pinch.endD=d(H[1].pageX-H[0].pageX,H[1].pageY-H[0].pageY),i.scaleD=i.pinch.endD/i.pinch.startD,y.pageX=i.pinch.endX,y.pageY=i.pinch.endY,y.scale=i.scaleD,y.deltaX=i.pinch.endX-i.pinch.startX,y.deltaY=i.pinch.endY-i.pinch.startY}else i.pan||(w=!1);w&&i.$el.trigger(y)}}function o(t){var i=t.data,a="undefined"!==e.type(i.touches)&&i.touches.length?i.touches[0]:null,o=a?a.pageX:t.pageX,s=a?a.pageY:t.pageY,c=o-i.startX,d=s-i.startY,h=(new Date).getTime(),g=i.scale?p.scaleEnd:p.panEnd,u=c>0?"right":"left",w=d>0?"down":"up",y=Math.abs(c)>1,H=Math.abs(d)>1;if(i.swipe&&Math.abs(c)>v&&h-i.startT<b&&(g=p.swipe),i.axis&&(i.axisX&&H||i.axisY&&y)||y||H){i.$links=i.$el.find("a");for(var x=0,C=i.$links.length;x<C;x++)r(i.$links.eq(x),i)}var W=l(g,t,o,s,i.scaleD,c,d,u,w);f.off([p.touchMove,p.touchEnd,p.touchCancel,p.mouseMove,p.mouseUp,p.pointerMove,p.pointerUp,p.pointerCancel].join(" ")),i.$el.trigger(W),i.touches=[],i.scale,a&&(i.touchTimer=m.startTimer(i.touchTimer,5,function(){i.$el.on(p.mouseDown,i,n)})),i.touching=!1}function r(t,i){t.on(p.click,i,s);var n=e._data(t[0],"events").click;n.unshift(n.pop())}function s(e){m.killEvent(e,!0),e.data.$links.off(p.click)}function l(t,i,n,a,o,r,s,l,c){return e.Event(t,{originalEvent:i,bubbles:!0,pageX:n,pageY:a,scale:o,deltaX:r,deltaY:s,directionX:l,directionY:c})}function c(e,t){return(e+t)/2}function d(e,t){return Math.sqrt(e*e+t*t)}function h(e,t){e.css({"-ms-touch-action":t,"touch-action":t})}var g=!t.window.PointerEvent,u=t.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:function(e){if(e.touches=[],e.touching=!1,this.on(p.dragStart,m.killEvent),e.swipe&&(e.pan=!0),e.scale&&(e.axis=!1),e.axisX="x"===e.axis,e.axisY="y"===e.axis,t.support.pointer){var a="";!e.axis||e.axisX&&e.axisY?a="none":(e.axisX&&(a+=" pan-y"),e.axisY&&(a+=" pan-x")),h(this,a),this.on(p.pointerDown,e,i)}else this.on(p.touchStart,e,i).on(p.mouseDown,e,n)},_destruct:function(e){this.off(p.namespace),h(this,"")}},events:{pointerDown:g?"MSPointerDown":"pointerdown",pointerUp:g?"MSPointerUp":"pointerup",pointerMove:g?"MSPointerMove":"pointermove",pointerCancel:g?"MSPointerCancel":"pointercancel"}}),p=u.events,m=u.functions,f=t.$window,v=10,b=50;p.pan="pan",p.panStart="panstart",p.panEnd="panend",p.scale="scale",p.scaleStart="scalestart",p.scaleEnd="scaleend",p.swipe="swipe"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(t){t.stopPropagation(),t.preventDefault();var i=t.data,a=t.originalEvent,o=i.target?i.$target:i.$el;i.property&&a.propertyName!==i.property||!e(a.target).is(o)||n(i)}function n(e){e.always||e.$el[s.namespaceClean]("destroy"),e.callback.apply(e.$el)}function a(e){var t=o(e.$check);r(e.styles,t)||n(e),e.styles=t}function o(t){var i,n,a,o={};if(t instanceof e&&(t=t[0]),d.getComputedStyle)for(var r=0,s=(i=d.getComputedStyle(t,null)).length;r<s;r++)n=i[r],a=i.getPropertyValue(n),o[n]=a;else if(t.currentStyle){i=t.currentStyle;for(n in i)o[n]=i[n]}return o}function r(t,i){if(e.type(t)!==e.type(i))return!1;for(var n in t){if(!t.hasOwnProperty(n))return!1;if(!t.hasOwnProperty(n)||!i.hasOwnProperty(n)||t[n]!==i[n])return!1}return!0}var s=t.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(e,n){if(n){e.$target=this.find(e.target),e.$check=e.target?e.$target:this,e.callback=n,e.styles=o(e.$check),e.timer=null;var r=e.$check.css(t.transition+"-duration"),s=parseFloat(r);t.support.transition&&r&&s?this.on(l.transitionEnd,e,i):e.timer=c.startTimer(e.timer,50,function(){a(e)},!0)}},_destruct:function(e){c.clearTimer(e.timer,!0),this.off(l.namespace)},resolve:n}}),l=s.events,c=s.functions,d=t.window}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){m.scrollDepth&&l()}function n(t){!H&&b&&b.length&&(H=!0,(m=e.extend(m,t||{})).autoEvents&&b.find("a").not("["+C+"]").each(o),m.scrollDepth&&(l(),v.on(y.scroll,r).one(y.load,i)),b.on(y.click,"*["+C+"]",c))}function a(){H&&b&&b.length&&(v.off(y.namespace),b.off(y.namespace),H=!1)}function o(){var t,i=e(this),n="undefined"!==e.type(i[0].href)?i[0].href:"",a=document.domain.split(".").reverse(),o=null!==n.match(a[1]+"."+a[0]);n.match(/^mailto\:/i)?t="Email, Click, "+n.replace(/^mailto\:/i,""):n.match(/^tel\:/i)?t="Telephone, Click, "+n.replace(/^tel\:/i,""):n.match(m.fileTypes)?t="File, Download:"+(/[.]/.exec(n)?/[^.]+$/.exec(n):void 0)[0]+", "+n.replace(/ /g,"-"):o||(t="ExternalLink, Click, "+n),t&&i.attr(C,t)}function r(e){w.startTimer(k,250,s)}function s(){for(var i,n=v.scrollTop()+t.windowHeight,a=1/m.scrollStops,o=a,r=1;r<=m.scrollStops;r++)i=Math.round(100*o).toString(),!W[_][i].passed&&n>W[_][i].edge&&(W[_][i].passed=!0,d(e.extend(m.scrollFields,{eventCategory:"ScrollDepth",eventAction:_,eventLabel:i,nonInteraction:!0}))),o+=a}function l(){var t,i=e.mediaquery("state"),n=b.outerHeight(),a={},o=1/m.scrollStops,r=o,s=0;i.minWidth&&(_="MinWidth:"+i.minWidth+"px");for(var l=1;l<=m.scrollStops;l++)s=parseInt(n*r),a[t=Math.round(100*r).toString()]={edge:"100"===t?s-10:s,passsed:!(!W[_]||!W[_][t])&&W[_][t].passed},r+=o;W[_]=a}function c(t){var i=e(this),n=i.attr("href"),a=i.data(x).split(",");m.eventCallback&&t.preventDefault();for(var o in a)a.hasOwnProperty(o)&&(a[o]=e.trim(a[o]));d({eventCategory:a[0],eventAction:a[1],eventLabel:a[2]||n,eventValue:a[3],nonInteraction:a[4]},i)}function d(t,i){f.location;var n=e.extend({hitType:"event"},t);if("undefined"!==e.type(i)&&!i.attr("data-analytics-stop")){var a="undefined"!==e.type(i[0].href)?i[0].href:"",o=!a.match(/^mailto\:/i)&&!a.match(/^tel\:/i)&&a.indexOf(":")<0?f.location.protocol+"//"+f.location.hostname+"/"+a:a;if(""!==o){var r=i.attr("target");r?f.open(o,r):m.eventCallback&&(n.hitCallback=function(){M&&(w.clearTimer(M),u(o))},M=w.startTimer(M,m.eventTimeout,n.hitCallback))}}g(n)}function h(t){g(e.extend({hitType:"pageview"},t))}function g(t){if("function"===e.type(f.ga)&&"function"===e.type(f.ga.getAll))for(var i=f.ga.getAll(),n=0,a=i.length;n<a;n++)f.ga(i[n].get("name")+".send",t)}function u(e){document.location=e}var p=t.Plugin("analytics",{methods:{_resize:i},utilities:{_delegate:function(){if(arguments.length&&"object"!==e.type(arguments[0]))if("destroy"===arguments[0])a.apply(this);else{var t=Array.prototype.slice.call(arguments,1);switch(arguments[0]){case"pageview":h.apply(this,t);break;case"event":d.apply(this,t)}}else n.apply(this,arguments);return null}}}),m={autoEvents:!1,fileTypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,eventCallback:!1,eventTimeout:1e3,scrollDepth:!1,scrollStops:5,scrollFields:{}},f=t.window,v=t.$window,b=null,w=p.functions,y=p.events,H=!1,x="analytics-event",C="data-"+x,W={},k=null,_="Site",M=null;t.Ready(function(){b=t.$body})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){g={unit:s.unit};for(var e in m)if(m.hasOwnProperty(e))for(var t in p[e])if(p[e].hasOwnProperty(t)){var i="Infinity"===t?1/0:parseInt(t,10),n=e.indexOf("max")>-1;p[e][t].matches&&(n?(!g[e]||i<g[e])&&(g[e]=i):(!g[e]||i>g[e])&&(g[e]=i))}}function n(){i(),c.trigger(l.mqChange,[g])}function a(e){var t=o(e.media),i=u[t],n=e.matches,a=n?l.enter:l.leave;if(i&&(i.active||!i.active&&n)){for(var r in i[a])i[a].hasOwnProperty(r)&&i[a][r].apply(i.mq);i.active=!0}}function o(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var r=t.Plugin("mediaquery",{utilities:{_initialize:function(t){t=t||{};for(var i in m)m.hasOwnProperty(i)&&(s[i]=t[i]?e.merge(t[i],s[i]):s[i]);(s=e.extend(s,t)).minWidth.sort(h.sortDesc),s.maxWidth.sort(h.sortAsc),s.minHeight.sort(h.sortDesc),s.maxHeight.sort(h.sortAsc);for(var a in m)if(m.hasOwnProperty(a)){p[a]={};for(var o in s[a])if(s[a].hasOwnProperty(o)){var r=window.matchMedia("("+m[a]+": "+(s[a][o]===1/0?1e5:s[a][o])+s.unit+")");r.addListener(n),p[a][s[a][o]]=r}}n()},state:function(){return g},bind:function(e,t,i){var n=d.matchMedia(t),r=o(n.media);u[r]||(u[r]={mq:n,active:!0,enter:{},leave:{}},u[r].mq.addListener(a));for(var s in i)i.hasOwnProperty(s)&&u[r].hasOwnProperty(s)&&(u[r][s][e]=i[s]);var c=u[r],h=n.matches;h&&c[l.enter].hasOwnProperty(e)?(c[l.enter][e].apply(n),c.active=!0):!h&&c[l.leave].hasOwnProperty(e)&&(c[l.leave][e].apply(n),c.active=!1)},unbind:function(e,t){if(e)if(t){var i=o(t);u[i]&&(u[i].enter[e]&&delete u[i].enter[e],u[i].leave[e]&&delete u[i].leave[e])}else for(var n in u)u.hasOwnProperty(n)&&(u[n].enter[e]&&delete u[n].enter[e],u[n].leave[e]&&delete u[n].leave[e])}},events:{mqChange:"mqchange"}}),s={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},l=e.extend(r.events,{enter:"enter",leave:"leave"}),c=t.$window,d=c[0],h=r.functions,g=null,u=[],p={},m={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(t,i){if(t.enabled&&!t.active){t.group&&!i&&e(t.group).not(t.$el).not(t.linked)[s.namespaceClean]("deactivate",!0);var n=t.group?e(t.group).index(t.$el):null;t.$swaps.addClass(t.classes.raw.active),i||t.linked&&e(t.linked).not(t.$el)[s.namespaceClean]("activate",!0),this.trigger(d.activate,[n]),t.active=!0}}function n(t,i){t.enabled&&t.active&&(t.$swaps.removeClass(t.classes.raw.active),i||t.linked&&e(t.linked).not(t.$el)[s.namespaceClean]("deactivate",!0),this.trigger(d.deactivate),t.active=!1)}function a(t,a){t.enabled||(t.enabled=!0,t.$swaps.addClass(t.classes.raw.enabled),a||e(t.linked).not(t.$el)[s.namespaceClean]("enable"),this.trigger(d.enable),t.onEnable?(t.active=!1,i.call(this,t)):(t.active=!0,n.call(this,t)))}function o(t,i){t.enabled&&(t.enabled=!1,t.$swaps.removeClass([t.classes.raw.enabled,t.classes.raw.active].join(" ")),i||e(t.linked).not(t.$el)[s.namespaceClean]("disable"),this.trigger(d.disable))}function r(e){h.killEvent(e);var t=e.data;t.active&&t.collapse?n.call(t.$el,t):i.call(t.$el,t)}var s=t.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:function(t){t.enabled=!1,t.active=!1,t.classes=e.extend(!0,{},c,t.classes),t.target=this.data(l+"-target"),t.$target=e(t.target).addClass(t.classes.raw.target),t.mq="(max-width:"+(t.maxWidth===1/0?"100000px":t.maxWidth)+")";var i=this.data(l+"-linked");t.linked=!!i&&"[data-"+l+'-linked="'+i+'"]';var n=this.data(l+"-group");t.group=!!n&&"[data-"+l+'-group="'+n+'"]',t.$swaps=e().add(this).add(t.$target),this.on(d.click+t.dotGuid,t,r)},_postConstruct:function(t){t.collapse||!t.group||e(t.group).filter("[data-"+l+"-active]").length||e(t.group).eq(0).attr("data-"+l+"-active","true"),t.onEnable=this.data(l+"-active")||!1,e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){a.call(t.$el,t,!0)},leave:function(){o.call(t.$el,t,!0)}})},_destruct:function(t){e.fsMediaquery("unbind",t.rawGuid),t.$swaps.removeClass([t.classes.raw.enabled,t.classes.raw.active].join(" ")).off(d.namespace)},activate:i,deactivate:n,enable:a,disable:o}}),l=s.namespace,c=s.classes,d=s.events,h=s.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition","./viewer"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(i){if(!Q){var n=i.data;(Q=e.extend({},{visible:!1,gallery:{active:!1},isMobile:t.isMobile||n.mobile,isTouch:t.support.touch,isAnimating:!0,isZooming:!1,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1,tapTimer:null},n)).isViewer=Q.isMobile&&n.viewer&&void 0!==e.fn.fsViewer;var o=n.$el,r=n.$object,l=o&&o[0].href?o[0].href||"":"",d=o&&o[0].hash?o[0].hash||"":"",g=(l.toLowerCase().split(".").pop().split(/\#|\?/),o?o.data(z+"-type"):""),p="image"===g||l.match(n.fileTypes)||"data:image"===l.substr(0,10),m=q(l),v="url"===g||!p&&!m&&"http"===l.substr(0,4)&&!d,b="element"===g||!p&&!m&&!v&&"#"===d.substr(0,1),y=void 0!==r;if(b&&(l=d),!(p||m||v||b||y))return void(Q=null);if(X.killEvent(i),Q.margin*=2,Q.type=p?"image":m?"video":"element",p||m){var H=o.data(z+"-gallery");H&&(Q.gallery.active=!0,Q.gallery.id=H,Q.gallery.$items=e("a[data-lightbox-gallery= "+Q.gallery.id+"], a[rel= "+Q.gallery.id+"]"),Q.gallery.index=Q.gallery.$items.index(Q.$el),Q.gallery.total=Q.gallery.$items.length-1)}Q.thumbnails&&(p||m)&&Q.gallery.active||(Q.thumbnails=!1);var x="";Q.isMobile||(x+='<div class="'+[D.overlay,Q.theme,Q.customClass].join(" ")+'"></div>');var _=[D.base,D.loading,D.animating,Q.theme,Q.customClass];if(Q.fixed&&_.push(D.fixed),Q.isMobile&&_.push(D.mobile),Q.isTouch&&_.push(D.touch),v&&_.push(D.iframed),(b||y)&&_.push(D.inline),Q.thumbnails&&_.push(D.thumbnailed),Q.labels.lightbox=Q.labels.lightbox.replace("{guid}",n.numGuid),x+='<div class="'+_.join(" ")+'" role="dialog" aria-label="'+Q.labels.lightbox+'" tabindex="-1">',x+='<button type="button" class="'+D.close+'">'+Q.labels.close+"</button>",x+='<span class="'+D.loading_icon+'"></span>',x+='<div class="'+D.container+'">',Q.gallery.active&&Q.thumbnails){x+='<div class="'+[D.thumbnails]+'">',x+='<div class="'+[D.thumbnail_container]+'">';for(var I,P,j=0,V=Q.gallery.$items.length;j<V;j++)(P=(I=Q.gallery.$items.eq(j)).data("lightbox-thumbnail"))||(P=I.find("img").attr("src")),x+='<button class="'+[D.thumbnail_item]+'">',x+='<img src="'+P+'" alt="">',x+="</button>";x+="</div></div>"}x+='<div class="'+D.content+'"></div>',(p||m)&&(x+='<div class="'+D.tools+'">',x+='<div class="'+D.controls+'">',Q.gallery.active&&(x+='<button type="button" class="'+[D.control,D.control_previous].join(" ")+'">'+Q.labels.previous+"</button>",x+='<button type="button" class="'+[D.control,D.control_next].join(" ")+'">'+Q.labels.next+"</button>"),Q.isMobile&&Q.isTouch&&(x+='<button type="button" class="'+[D.toggle,D.caption_toggle].join(" ")+'">'+Q.labels.captionClosed+"</button>",Q.gallery.active&&Q.thumbnails&&(x+='<button type="button" class="'+[D.toggle,D.thumbnail_toggle].join(" ")+'">'+Q.labels.thumbnailsClosed+"</button>")),x+="</div>",x+='<div class="'+D.meta+'">',x+='<div class="'+D.meta_content+'">',Q.gallery.active&&(x+='<p class="'+D.position+'"',Q.gallery.total<1&&(x+=' style="display: none;"'),x+=">",x+='<span class="'+D.position_current+'">'+(Q.gallery.index+1)+"</span> ",x+=Q.labels.count,x+=' <span class="'+D.position_total+'">'+(Q.gallery.total+1)+"</span>",x+="</p>"),x+='<div class="'+D.caption+'">',x+=Q.formatter.call(o,n),x+="</div></div></div>",x+="</div>"),x+="</div></div>",G.append(x),Q.$overlay=e(O.overlay),Q.$lightbox=e(O.base),Q.$close=e(O.close),Q.$container=e(O.container),Q.$content=e(O.content),Q.$tools=e(O.tools),Q.$meta=e(O.meta),Q.$metaContent=e(O.meta_content),Q.$position=e(O.position),Q.$caption=e(O.caption),Q.$controlBox=e(O.controls),Q.$controls=e(O.control),Q.$thumbnails=e(O.thumbnails),Q.$thumbnailContainer=e(O.thumbnail_container),Q.$thumbnailItems=e(O.thumbnail_item),Q.isMobile?(Q.paddingVertical=Q.$close.outerHeight(),Q.paddingHorizontal=0,Q.mobilePaddingVertical=parseInt(Q.$content.css("paddingTop"),10)+parseInt(Q.$content.css("paddingBottom"),10),Q.mobilePaddingHorizontal=parseInt(Q.$content.css("paddingLeft"),10)+parseInt(Q.$content.css("paddingRight"),10)):(Q.paddingVertical=parseInt(Q.$lightbox.css("paddingTop"),10)+parseInt(Q.$lightbox.css("paddingBottom"),10),Q.paddingHorizontal=parseInt(Q.$lightbox.css("paddingLeft"),10)+parseInt(Q.$lightbox.css("paddingRight"),10),Q.mobilePaddingVertical=0,Q.mobilePaddingHorizontal=0),Q.contentHeight=Q.$lightbox.outerHeight()-Q.paddingVertical,Q.contentWidth=Q.$lightbox.outerWidth()-Q.paddingHorizontal,Q.controlHeight=Q.$controls.outerHeight(),s(),Q.gallery.active&&(Q.$lightbox.addClass(D.has_controls),C()),F.on(S.keyDown,W),G.on(S.click,[O.overlay,O.close].join(", "),a).on([S.focus,S.focusIn].join(" "),E),Q.gallery.active&&Q.$lightbox.on(S.click,O.control,$),Q.thumbnails&&Q.$lightbox.on(S.click,O.thumbnail_item,w),Q.isMobile&&Q.isTouch&&Q.$lightbox.on(S.click,O.caption_toggle,c).on(S.click,O.thumbnail_toggle,h),Q.$lightbox.fsTransition({property:"opacity"},function(){p?u(l):m?f(l):v?M(l):b?k(l):y&&T(Q.$object)}).addClass(D.open),Q.$overlay.addClass(D.open)}}function n(e){"object"!=typeof e&&(Q.targetHeight=arguments[0],Q.targetWidth=arguments[1]),"element"===Q.type?I(Q.$content.find("> :first-child")):"image"===Q.type?p():"video"===Q.type&&v(),r()}function a(e){X.killEvent(e),Q&&(Q.$lightbox.fsTransition("destroy"),Q.$content.fsTransition("destroy"),Q.$lightbox.addClass(D.animating).fsTransition({property:"opacity"},function(e){void 0!==Q.$inlineTarget&&Q.$inlineTarget.length&&_(),Q.isViewer&&Q.$imageContainer&&Q.$imageContainer.length&&Q.$imageContainer.fsViewer("destroy"),Q.$lightbox.off(S.namespace),Q.$container.off(S.namespace),F.off(S.keyDown),G.off(S.namespace),G.off(S.namespace),Q.$overlay.remove(),Q.$lightbox.remove(),void 0!==Q.$el&&Q.$el&&Q.$el.length&&Q.$el.focus(),Q=null,F.trigger(S.close)}),Q.$lightbox.removeClass(D.open),Q.$overlay.removeClass(D.open),Q.isMobile&&(L.removeClass(D.lock),X.unlockViewport(z)))}function o(){var e=l();Q.isMobile||Q.duration,Q.isMobile?X.lockViewport(z):Q.$controls.css({marginTop:(Q.contentHeight-Q.controlHeight-Q.metaHeight+Q.thumbnailHeight)/2}),""===Q.$caption.html()?(Q.$caption.hide(),Q.$lightbox.removeClass(D.has_caption),Q.gallery.active||Q.$tools.hide()):(Q.$caption.show(),Q.$lightbox.addClass(D.has_caption)),Q.$lightbox.fsTransition({property:Q.contentHeight!==Q.oldContentHeight?"height":"width"},function(){Q.$content.fsTransition({property:"opacity"},function(){Q.$lightbox.removeClass(D.animating),Q.isAnimating=!1}),Q.$lightbox.removeClass(D.loading).addClass(D.ready),Q.visible=!0,F.trigger(S.open),Q.gallery.active&&(b(),y(),H()),Q.$lightbox.focus()}),Q.isMobile||Q.$lightbox.css({height:Q.contentHeight+Q.paddingVertical,width:Q.contentWidth+Q.paddingHorizontal,top:Q.fixed?0:e.top});var t=Q.oldContentHeight!==Q.contentHeight||Q.oldContentWidth!==Q.contentWidth;!Q.isMobile&&t||Q.$lightbox.fsTransition("resolve"),Q.oldContentHeight=Q.contentHeight,Q.oldContentWidth=Q.contentWidth,Q.isMobile&&L.addClass(D.lock)}function r(){if(Q.visible&&!Q.isMobile){var e=l();Q.$controls.css({marginTop:(Q.contentHeight-Q.controlHeight-Q.metaHeight+Q.thumbnailHeight)/2}),Q.$lightbox.css({height:Q.contentHeight+Q.paddingVertical,width:Q.contentWidth+Q.paddingHorizontal,top:Q.fixed?0:e.top}),Q.oldContentHeight=Q.contentHeight,Q.oldContentWidth=Q.contentWidth}}function s(){var e=l();Q.$lightbox.css({top:Q.fixed?0:e.top})}function l(){if(Q.isMobile)return{left:0,top:0};var e={left:(t.windowWidth-Q.contentWidth-Q.paddingHorizontal)/2,top:Q.top<=0?(t.windowHeight-Q.contentHeight-Q.paddingVertical)/2:Q.top};return!0!==Q.fixed&&(e.top+=F.scrollTop()),e}function c(e){if(X.killEvent(e),Q.captionOpen)d();else{g();var t=parseInt(Q.$metaContent.outerHeight(!0));t+=parseInt(Q.$meta.css("padding-top")),t+=parseInt(Q.$meta.css("padding-bottom")),Q.$meta.css({height:t}),Q.$lightbox.addClass(D.caption_open).find(O.caption_toggle).text(Q.labels.captionOpen),Q.captionOpen=!0}}function d(){Q.$lightbox.removeClass(D.caption_open).find(O.caption_toggle).text(Q.labels.captionClosed),Q.captionOpen=!1}function h(e){X.killEvent(e),Q.thumbnailsOpen?g():(d(),Q.$lightbox.addClass(D.thumbnails_open).find(O.thumbnail_toggle).text(Q.labels.thumbnailsOpen),Q.thumbnailsOpen=!0)}function g(){Q.$lightbox.removeClass(D.thumbnails_open).find(O.thumbnail_toggle).text(Q.labels.thumbnailsClosed),Q.thumbnailsOpen=!1}function u(t){Q.isViewer?(Q.$imageContainer=e('<div class="'+D.image_container+'"><img></div>'),Q.$image=Q.$imageContainer.find("img"),Q.$image.attr("src",t).addClass(D.image),Q.$content.prepend(Q.$imageContainer),p(),Q.$imageContainer.one("loaded.viewer",function(){o()}).fsViewer({theme:Q.theme})):(Q.$imageContainer=e('<div class="'+D.image_container+'"><img></div>'),Q.$image=Q.$imageContainer.find("img"),Q.$image.one(S.load,function(){var e=j(Q.$image);Q.naturalHeight=e.naturalHeight,Q.naturalWidth=e.naturalWidth,Q.retina&&(Q.naturalHeight/=2,Q.naturalWidth/=2),Q.$content.prepend(Q.$imageContainer),p(),o()}).on(S.error,P).attr("src",t).addClass(D.image),(Q.$image[0].complete||4===Q.$image[0].readyState)&&Q.$image.trigger(S.load))}function p(){if(Q.$image){var e=0;for(Q.windowHeight=Q.viewportHeight=t.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=Q.viewportWidth=t.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.contentHeight=1/0,Q.contentWidth=1/0,Q.imageMarginTop=0,Q.imageMarginLeft=0;Q.contentHeight>Q.viewportHeight&&e<2;)Q.imageHeight=0===e?Q.naturalHeight:Q.$image.outerHeight(),Q.imageWidth=0===e?Q.naturalWidth:Q.$image.outerWidth(),Q.metaHeight=0===e?0:Q.metaHeight,Q.spacerHeight=0===e?0:Q.spacerHeight,Q.thumbnailHeight=0===e?0:Q.thumbnailHeight,0===e&&(Q.ratioHorizontal=Q.imageHeight/Q.imageWidth,Q.ratioVertical=Q.imageWidth/Q.imageHeight,Q.isWide=Q.imageWidth>Q.imageHeight),Q.imageHeight<Q.minHeight&&(Q.minHeight=Q.imageHeight),Q.imageWidth<Q.minWidth&&(Q.minWidth=Q.imageWidth),Q.isMobile?(Q.isTouch?(Q.$controlBox.css({width:t.windowWidth}),Q.spacerHeight=Q.$controls.outerHeight(!0)):(Q.$tools.css({width:t.windowWidth}),Q.spacerHeight=Q.$tools.outerHeight(!0)),Q.contentHeight=Q.viewportHeight,
Q.contentWidth=Q.viewportWidth,Q.isTouch||Q.$content.css({height:Q.contentHeight-Q.spacerHeight}),Q.$thumbnails.length&&(Q.spacerHeight+=Q.$thumbnails.outerHeight(!0)),Q.spacerHeight+=10,m(),Q.imageMarginTop=(Q.contentHeight-Q.targetImageHeight-Q.spacerHeight)/2,Q.imageMarginLeft=(Q.contentWidth-Q.targetImageWidth)/2):(0===e&&(Q.viewportHeight-=Q.margin+Q.paddingVertical,Q.viewportWidth-=Q.margin+Q.paddingHorizontal),Q.viewportHeight-=Q.metaHeight,Q.thumbnails&&(Q.viewportHeight-=Q.thumbnailHeight),m(),Q.contentHeight=Q.targetImageHeight,Q.contentWidth=Q.targetImageWidth),Q.isMobile||Q.isTouch||Q.$meta.css({width:Q.contentWidth}),Q.$image.css({height:Q.targetImageHeight,width:Q.targetImageWidth,marginTop:Q.imageMarginTop,marginLeft:Q.imageMarginLeft}),Q.isMobile||(Q.metaHeight=Q.$meta.outerHeight(!0),Q.contentHeight+=Q.metaHeight),Q.thumbnails&&(Q.thumbnailHeight=Q.$thumbnails.outerHeight(!0),Q.contentHeight+=Q.thumbnailHeight),e++}}function m(){var e=Q.isMobile?Q.contentHeight-Q.spacerHeight:Q.viewportHeight,t=Q.isMobile?Q.contentWidth:Q.viewportWidth;Q.isWide?(Q.targetImageWidth=t,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal,Q.targetImageHeight>e&&(Q.targetImageHeight=e,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical)):(Q.targetImageHeight=e,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical,Q.targetImageWidth>t&&(Q.targetImageWidth=t,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal)),(Q.targetImageWidth>Q.imageWidth||Q.targetImageHeight>Q.imageHeight)&&(Q.targetImageHeight=Q.imageHeight,Q.targetImageWidth=Q.imageWidth),(Q.targetImageWidth<Q.minWidth||Q.targetImageHeight<Q.minHeight)&&(Q.targetImageWidth<Q.minWidth?(Q.targetImageWidth=Q.minWidth,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal):(Q.targetImageHeight=Q.minHeight,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical))}function f(t){var i=q(t),n=t.split("?");i?(n.length>=2&&(i+="?"+n.slice(1)[0].trim()),Q.$videoWrapper=e('<div class="'+D.video_wrapper+'"></div>'),Q.$video=e('<iframe class="'+D.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),Q.$video.attr("src",i).addClass(D.video).prependTo(Q.$videoWrapper),Q.$content.prepend(Q.$videoWrapper),v(),o()):P()}function v(){Q.windowHeight=Q.viewportHeight=t.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=Q.viewportWidth=t.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.videoMarginTop=0,Q.videoMarginLeft=0,Q.isMobile?(Q.isTouch?(Q.$controlBox.css({width:t.windowWidth}),Q.spacerHeight=Q.$controls.outerHeight(!0)+10):(Q.$tools.css({width:t.windowWidth}),Q.spacerHeight=Q.$tools.outerHeight(!0),Q.spacerHeight+=Q.$thumbnails.outerHeight(!0)+10),Q.viewportHeight-=Q.spacerHeight,Q.targetVideoWidth=Q.viewportWidth,Q.targetVideoHeight=Q.targetVideoWidth*Q.videoRatio,Q.targetVideoHeight>Q.viewportHeight&&(Q.targetVideoHeight=Q.viewportHeight,Q.targetVideoWidth=Q.targetVideoHeight/Q.videoRatio),Q.videoMarginTop=(Q.viewportHeight-Q.targetVideoHeight)/2,Q.videoMarginLeft=(Q.viewportWidth-Q.targetVideoWidth)/2):(Q.viewportHeight=Q.windowHeight-Q.margin,Q.viewportWidth=Q.windowWidth-Q.margin,Q.targetVideoWidth=Q.videoWidth>Q.viewportWidth?Q.viewportWidth:Q.videoWidth,Q.targetVideoWidth<Q.minWidth&&(Q.targetVideoWidth=Q.minWidth),Q.targetVideoHeight=Q.targetVideoWidth*Q.videoRatio,Q.contentHeight=Q.targetVideoHeight,Q.contentWidth=Q.targetVideoWidth),Q.isMobile||Q.isTouch||Q.$meta.css({width:Q.contentWidth}),Q.$videoWrapper.css({height:Q.targetVideoHeight,width:Q.targetVideoWidth,marginTop:Q.videoMarginTop,marginLeft:Q.videoMarginLeft}),Q.isMobile||(Q.metaHeight=Q.$meta.outerHeight(!0),Q.contentHeight+=Q.metaHeight),Q.thumbnails&&(Q.thumbnailHeight=Q.$thumbnails.outerHeight(!0),Q.contentHeight+=Q.thumbnailHeight)}function b(t){var i="";Q.gallery.index>0&&(q(i=Q.gallery.$items.eq(Q.gallery.index-1).attr("href"))||e('<img src="'+i+'">')),Q.gallery.index<Q.gallery.total&&(q(i=Q.gallery.$items.eq(Q.gallery.index+1).attr("href"))||e('<img src="'+i+'">'))}function $(t){X.killEvent(t);var i=e(t.currentTarget);Q.isAnimating||i.hasClass(D.control_disabled)||(Q.isAnimating=!0,d(),Q.gallery.index+=i.hasClass(D.control_next)?1:-1,Q.gallery.index>Q.gallery.total&&(Q.gallery.index=Q.infinite?0:Q.gallery.total),Q.gallery.index<0&&(Q.gallery.index=Q.infinite?Q.gallery.total:0),y(),Q.$lightbox.addClass(D.animating),Q.$content.fsTransition({property:"opacity"},x),Q.$lightbox.addClass(D.loading))}function w(t){X.killEvent(t);var i=e(t.currentTarget);Q.isAnimating||i.hasClass(D.active)||(Q.isAnimating=!0,d(),Q.gallery.index=Q.$thumbnailItems.index(i),y(),Q.$lightbox.addClass(D.animating),Q.$content.fsTransition({property:"opacity"},x),Q.$lightbox.addClass(D.loading))}function y(){if(Q.thumbnails){var e=Q.$thumbnailItems.eq(Q.gallery.index);Q.$thumbnailItems.removeClass(D.active),e.addClass(D.active)}}function H(){if(Q.thumbnails){var e=Q.$thumbnailItems.eq(Q.gallery.index),t=e.position().left+e.outerWidth(!1)/2-Q.$thumbnailContainer.outerWidth(!0)/2;Q.$thumbnailContainer.stop().animate({scrollLeft:t},200,"linear")}}function x(){void 0!==Q.$imageContainer&&(Q.isViewer&&Q.$imageContainer.fsViewer("destroy"),Q.$imageContainer.remove()),void 0!==Q.$videoWrapper&&Q.$videoWrapper.remove(),Q.$el=Q.gallery.$items.eq(Q.gallery.index),Q.$caption.html(Q.formatter.call(Q.$el,Q)),Q.$position.find(O.position_current).html(Q.gallery.index+1);var e=Q.$el.attr("href");q(e)?(Q.type="video",f(e)):(Q.type="image",u(e)),C()}function C(){Q.$controls.removeClass(D.control_disabled),Q.infinite||(0===Q.gallery.index&&Q.$controls.filter(O.control_previous).addClass(D.control_disabled),Q.gallery.index===Q.gallery.total&&Q.$controls.filter(O.control_next).addClass(D.control_disabled))}function W(e){!Q.gallery.active||37!==e.keyCode&&39!==e.keyCode?27===e.keyCode&&Q.$close.trigger(S.click):(X.killEvent(e),Q.$controls.filter(37===e.keyCode?O.control_previous:O.control_next).trigger(S.click))}function k(t){Q.$inlineTarget=e(t),Q.$inlineContents=Q.$inlineTarget.children().detach(),T(Q.$inlineContents)}function _(){Q.$inlineTarget.append(Q.$inlineContents.detach())}function M(t){t+=t.indexOf("?")>-1?"&"+Q.requestKey+"=true":"?"+Q.requestKey+"=true",T(e('<iframe class="'+D.iframe+'" src="'+t+'"></iframe>'))}function T(e){Q.$content.append(e),I(e),o()}function I(e){Q.windowHeight=t.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=t.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.objectHeight=e.outerHeight(!0),Q.objectWidth=e.outerWidth(!0),Q.targetHeight=Q.targetHeight||(Q.$el?Q.$el.data(z+"-height"):null),Q.targetWidth=Q.targetWidth||(Q.$el?Q.$el.data(z+"-width"):null),Q.maxHeight=Q.windowHeight<0?Q.minHeight:Q.windowHeight,Q.isIframe=e.is("iframe"),Q.objectMarginTop=0,Q.objectMarginLeft=0,Q.isMobile||(Q.windowHeight-=Q.margin,Q.windowWidth-=Q.margin),Q.contentHeight=Q.targetHeight?Q.targetHeight:Q.isIframe||Q.isMobile?Q.windowHeight:Q.objectHeight,Q.contentWidth=Q.targetWidth?Q.targetWidth:Q.isIframe||Q.isMobile?Q.windowWidth:Q.objectWidth,(Q.isIframe||Q.isObject)&&Q.isMobile?(Q.contentHeight=Q.windowHeight,Q.contentWidth=Q.windowWidth):Q.isObject&&(Q.contentHeight=Q.contentHeight>Q.windowHeight?Q.windowHeight:Q.contentHeight,Q.contentWidth=Q.contentWidth>Q.windowWidth?Q.windowWidth:Q.contentWidth),Q.isMobile||(Q.contentHeight>Q.maxHeight&&(Q.contentHeight=Q.maxHeight),Q.contentWidth>Q.maxWidth&&(Q.contentWidth=Q.maxWidth))}function P(){var t=e('<div class="'+D.error+'"><p>Error Loading Resource</p></div>');Q.type="element",Q.$tools.remove(),Q.$image.off(S.namespace),T(t),F.trigger(S.error)}function j(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}function q(e){var t,i=Q.videoFormatter;for(var n in i)if(i.hasOwnProperty(n)&&null!==(t=e.match(i[n].pattern)))return i[n].format.call(Q,t);return!1}function E(t){var i=t.target;e.contains(Q.$lightbox[0],i)||i===Q.$lightbox[0]||i===Q.$overlay[0]||(X.killEvent(t),Q.$lightbox.focus())}var V=t.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:function(){var e=this.attr("title"),t=!(void 0===e||!e)&&e.replace(/^\s+|\s+$/g,"");return t?'<p class="caption">'+t+"</p>":""},infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails",lightbox:"Lightbox {guid}"},margin:50,maxHeight:1e4,maxWidth:1e4,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:function(e){return"//www.youtube.com/embed/"+e[1]}},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:function(e){return"//player.vimeo.com/video/"+e[3]}}},videoRatio:.5625,videoWidth:800,viewer:!0},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_construct:function(e){this.on(S.click,e,i);var t=this.data(z+"-gallery");!B&&R&&t===R&&(B=!0,this.trigger(S.click))},_destruct:function(e){a(),this.off(S.namespace)},_resize:function(){Q&&n()},resize:n},utilities:{_initialize:function(t,n){t instanceof e&&i.apply(Y,[{data:e.extend(!0,{},{$object:t},A,n||{})}])},close:a}}),z=V.namespace,A=V.defaults,O=V.classes,D=O.raw,S=V.events,X=V.functions,Y=t.window,F=t.$window,G=null,L=null,R=!1,B=!1,Q=null;t.Ready(function(){G=t.$body,L=e("html, body"),R=t.window.location.hash.replace("#","")})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){$.iterate.call(v,s)}function n(){v=e(h.base),i()}function a(e){e.enabled=!0,e.$el.addClass(g.enabled),s(e)}function o(e){e.enabled=!1,e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(g.enabled),e.$stickys.removeClass([g.passed,g.stuck].join(" "))}function r(){$.iterate.call(v,c)}function s(e){if(e.enabled){if(l(e),e.$container.length){var t=e.$container.offset();e.min=t.top-e.margin,e.max=e.min+e.$container.outerHeight(!1)-e.height}else{var i,n=(i=e.stuck?e.$clone:e.$el).offset();e.min=n.top-e.margin,e.max=!1}c(e)}}function l(e){var t;t=e.stuck?e.$clone:e.$el,e.margin=parseInt(t.css("margin-top"),10),e.$container.length?e.containerMargin=parseInt(e.$container.css("margin-top"),10):e.containerMargin=0,e.height=t.outerHeight(),e.width=t.outerWidth()}function c(e){if(e.enabled){var t=m+e.offset;if(t>=e.min){e.stuck=!0,e.$stickys.addClass(g.stuck),e.stuck||(e.$el.trigger(u.stuck),l(e));var i=e.offset,n="";e.max&&t>e.max?(e.passed||e.$el.trigger(u.passed),e.passed=!0,e.$stickys.addClass(g.passed),i="",n=0):(e.passed=!1,e.$stickys.removeClass(g.passed)),e.$el.css({height:e.height,width:e.width,top:i,bottom:n,marginBottom:0})}else e.stuck=!1,e.$stickys.removeClass(g.stuck).removeClass(g.passed),e.stuck&&e.$el.trigger(u.unstuck),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}}var d=t.Plugin("sticky",{widget:!0,defaults:{maxWidth:1/0,minWidth:"0px",offset:0},classes:["enabled","sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:function(t){t.enabled=!1,t.stuck=!1,t.passed=!0,t.$clone=t.$el.clone(),t.container=t.$el.data("sticky-container"),t.$container=e(t.container),t.$el.addClass(g.base),t.$clone.removeClass(g.element).addClass(g.clone),t.$container.addClass(g.container),t.$stickys=e().add(t.$el).add(t.$clone),t.$el.after(t.$clone);var i=e().add(t.$el.find("img")).add(t.$container.find("img"));i.length&&i.on(u.load,t,s),t.maxWidth=t.maxWidth===1/0?"100000px":t.maxWidth,t.mq="(min-width:"+t.minWidth+") and (max-width:"+t.maxWidth+")",e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){a.call(t.$el,t)},leave:function(){o.call(t.$el,t)}})},_postConstruct:function(e){n(),i()},_destruct:function(e){e.$clone.remove(),e.$container.removeClass(g.container),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(g.base),n()},_resize:i,_raf:function(){(m=p.scrollTop())<0&&(m=0),m!==f&&(r(),f=m)},disable:o,enable:a,reset:s,resize:s}}),h=(d.namespace,d.classes),g=h.raw,u=d.events,$=d.functions,p=(t.window,t.$window),m=0,f=0,v=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./swap"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(e){if(!e.originalEvent){var t=e.data;t.$el.attr("aria-selected",!0).trigger(u.update,[0]),t.$mobileTab.addClass(g.active),t.$content.attr("aria-hidden",!1).addClass(g.active)}}function n(e){if(!e.originalEvent){var t=e.data;t.$el.attr("aria-selected",!1),t.$mobileTab.removeClass(g.active),t.$content.attr("aria-hidden",!0).removeClass(g.active)}}function a(e){var t=e.data;t.$el.attr("aria-controls",t.ariaContentId),t.$mobileTab.addClass(g.enabled),t.$content.attr("aria-labelledby",t.ariaId).addClass(g.enabled)}function o(e){var t=e.data;t.$el.removeAttr("aria-controls").removeAttr("aria-selected"),t.$mobileTab.removeClass(g.enabled),t.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeClass(g.enabled)}function r(e){e.data.$el.fsSwap("activate")}function s(e){e.$el.addClass(g.mobile),e.$mobileTab.addClass(g.mobile),e.$content.addClass(g.mobile)}function l(e){e.$el.removeClass(g.mobile),e.$mobileTab.removeClass(g.mobile),e.$content.removeClass(g.mobile)}var c=t.Plugin("tabs",{widget:!0,defaults:{customClass:"",maxWidth:1/0,mobileMaxWidth:"740px",theme:"fs-light"},classes:["tab","tab_mobile","mobile","content","enabled","active"],events:{update:"update"},methods:{_construct:function(r){r.mq="(max-width:"+(r.mobileMaxWidth===1/0?"100000px":r.mobileMaxWidth)+")",r.content=this.attr("href"),r.group=this.data(d+"-group"),r.elementClasses=[g.tab,r.rawGuid,r.theme,r.customClass],r.mobileTabClasses=[g.tab,g.tab_mobile,r.rawGuid,r.theme,r.customClass],r.contentClasses=[g.content,r.rawGuid,r.theme,r.customClass],r.$mobileTab=e('<button type="button" class="'+r.mobileTabClasses.join(" ")+'" aria-hidden="true">'+this.text()+"</button>"),r.$content=e(r.content).addClass(r.contentClasses.join(" ")),r.$content.before(r.$mobileTab).attr("role","tabpanel"),this.attr("role","tab"),r.id=this.attr("id"),r.id?r.ariaId=r.id:(r.ariaId=r.rawGuid,this.attr("id",r.ariaId)),r.contentId=r.$content.attr("id"),r.contentGuid=r.rawGuid+"_content",r.contentId?r.ariacontentId=r.contentId:(r.ariaContentId=r.contentGuid,r.$content.attr("id",r.ariaContentId));var s=t.window.location.hash,l=!1,c=!1;s.length&&(l=this.filter("[href*='"+s+"']").length>0,c=r.group&&e("[data-"+d+'-group="'+r.group+'"]').filter("[href*='"+s+"']").length>0),l?this.attr("data-swap-active","true"):c?this.removeAttr("data-swap-active").removeData("data-swap-active"):"true"===this.attr("data-tabs-active")&&this.attr("data-swap-active","true"),this.attr("data-swap-target",r.content).attr("data-swap-group",r.group).addClass(r.elementClasses.join(" ")).on("activate.swap"+r.dotGuid,r,i).on("deactivate.swap"+r.dotGuid,r,n).on("enable.swap"+r.dotGuid,r,a).on("disable.swap"+r.dotGuid,r,o)},_postConstruct:function(t){this.fsSwap({maxWidth:t.maxWidth,classes:{target:t.dotGuid,enabled:h.enabled,active:h.active,raw:{target:t.rawGuid,enabled:g.enabled,active:g.active}},collapse:!1}),t.$mobileTab.on("click"+t.dotGuid,t,r),e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){s.call(t.$el,t)},leave:function(){l.call(t.$el,t)}})},_destruct:function(t){e.fsMediaquery("unbind",t.rawGuid),t.$mobileTab.off(u.namespace).remove(),t.elementClasses.push(g.mobile),t.contentClasses.push(g.mobile),t.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("role").removeClass(t.contentClasses.join(" ")),t.$content.attr("id")===t.contentGuid&&t.$content.removeAttr("id"),this.removeAttr("aria-controls").removeAttr("aria-selected").removeAttr("data-swap-active").removeData("data-swap-active").removeAttr("data-swap-target").removeData("data-swap-target").removeAttr("data-swap-group").removeData("data-swap-group").removeAttr("role").removeClass(t.elementClasses.join(" ")).off(u.namespace).fsSwap("destroy"),this.attr("id")===t.rawGuid&&this.removeAttr("id")},activate:function(e){this.fsSwap("activate")},enable:function(e){this.fsSwap("enable")},disable:function(e){this.fsSwap("disable")}}}),d=c.namespace,h=c.classes,g=h.raw,u=c.events;c.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){h=e(l.element)}function n(e){if(e.data&&(e=e.data),e.enabled)for(var t,i,n,a=0;a<e.target.length;a++){t=0,i=0,(n=e.$el.find(e.target[a])).css(e.property,"");for(var o=0;o<n.length;o++)(i=n.eq(o)[e.type]())>t&&(t=i);n.css(e.property,t)}}function a(e){e.enabled&&(e.enabled=!1,r(e))}function o(e){if(!e.enabled){e.enabled=!0;var t=e.$el.find("img");t.length&&t.on(c.load,e,n),n(e)}}function r(e){for(var t=0;t<e.target.length;t++)e.$el.find(e.target[t]).css(e.property,"");e.$el.find("img").off(c.namespace)}var s=t.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:function(t){t.maxWidth=t.maxWidth===1/0?"100000px":t.maxWidth,t.mq="(min-width:"+t.minWidth+") and (max-width:"+t.maxWidth+")",t.type="height"===t.property?"outerHeight":"outerWidth",t.target?e.isArray(t.target)||(t.target=[t.target]):t.target=["> *"],i(),e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){o.call(t.$el,t)},leave:function(){a.call(t.$el,t)}})},_destruct:function(t){r(t),e.fsMediaquery("unbind",t.rawGuid),i()},_resize:function(e){d.iterate.call(h,n)},resize:n}}),l=s.classes,c=(l.raw,s.events),d=s.functions,h=[]}),$(document).ready(function(){$(".lightbox").lightbox(),$(".swap").swap(),$(".equalize").equalize({target:".equalize-child"}),$(".tab").tabs({theme:"",mobileMaxWidth:"320px"})});