function optimizer(){$optItem=$(".opt-options__item"),$optItem.on("click",function(){$optItem.removeClass("active"),$(this).addClass("active"),$("#opt-2 .button").removeClass("inactive")}),$optCheck=$(".optimizations-item input"),$optCheck.change(function(){$("#opt-4 .button").removeClass("inactive")})}function forms(){var e=!1;$(".about-form-input").each(function(){""===$(this).val()&&(e=!0)}),e?$("#opt-3 .button").addClass("inactive"):$("#opt-3 .button").removeClass("inactive")}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e,t,i,a){var n,o={raw:{}};a=a||{};for(n in a)a.hasOwnProperty(n)&&("classes"===e?(o.raw[a[n]]=t+"-"+a[n],o[a[n]]="."+t+"-"+a[n]):(o.raw[n]=a[n],o[n]=a[n]+"."+t));for(n in i)i.hasOwnProperty(n)&&("classes"===e?(o.raw[n]=i[n].replace(/{ns}/g,t),o[n]=i[n].replace(/{ns}/g,"."+t)):(o.raw[n]=i[n].replace(/.{ns}/g,""),o[n]=i[n].replace(/{ns}/g,t)));return o}function i(){g.windowWidth=g.$window.width(),g.windowHeight=g.$window.height(),v=h.startTimer(v,b,a)}function a(){for(var e in g.ResizeHandlers)g.ResizeHandlers.hasOwnProperty(e)&&g.ResizeHandlers[e].callback.call(window,g.windowWidth,g.windowHeight)}function n(){if(g.support.raf){g.window.requestAnimationFrame(n);for(var e in g.RAFHandlers)g.RAFHandlers.hasOwnProperty(e)&&g.RAFHandlers[e].callback.call(window)}}function o(e,t){return parseInt(e.priority)-parseInt(t.priority)}var s,r,l,c="undefined"!=typeof window?window:this,d=c.document,u=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=c,this.$window=e(c),this.document=d,this.$document=e(d),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},h={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(t){w[t]=!0,e.isEmptyObject(w)||y||(s.length?s.attr("content",l):s=e("head").append('<meta name="viewport" content="'+l+'">'),g.$body.on(f.gestureChange,h.killGesture).on(f.gestureStart,h.killGesture).on(f.gestureEnd,h.killGesture),y=!0)},unlockViewport:function(t){"undefined"!==e.type(w[t])&&delete w[t],e.isEmptyObject(w)&&y&&(s.length&&(r?s.attr("content",r):s.remove()),g.$body.off(f.gestureChange).off(f.gestureStart).off(f.gestureEnd),y=!1)},startTimer:function(e,t,i,a){return h.clearTimer(e),a?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=g.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},i=e.slice(e.indexOf("?")+1).split("&"),a=0;a<i.length;a++){var n=i[a].split("=");t[n[0]]=n[1]}return t}},g=new u,p=e.Deferred(),m={base:"{ns}",element:"{ns}-element"},f={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},v=null,b=20,w=[],y=!1;return u.prototype.NoConflict=function(){g.DontConflict=!0;for(var t in g.Plugins)g.Plugins.hasOwnProperty(t)&&(e[t]=g.Conflicts[t],e.fn[t]=g.Conflicts.fn[t])},u.prototype.Ready=function(e){"complete"===g.document.readyState||"loading"!==g.document.readyState&&!g.document.documentElement.doScroll?e():g.document.addEventListener("DOMContentLoaded",e)},u.prototype.Plugin=function(i,a){return g.Plugins[i]=function(i,a){function n(t){var n,o,r,c="object"===e.type(t),d=Array.prototype.slice.call(arguments,c?1:0),u=this,h=e();for(t=e.extend(!0,{},a.defaults||{},c?t:{}),o=0,r=u.length;o<r;o++)if(n=u.eq(o),!s(n)){a.guid++;var g="__"+a.guid,p=a.classes.raw.base+g,m=n.data(i+"-options"),f=e.extend(!0,{$el:n,guid:g,numGuid:a.guid,rawGuid:p,dotGuid:"."+p},t,"object"===e.type(m)?m:{});n.addClass(a.classes.raw.element).data(l,f),a.methods._construct.apply(n,[f].concat(d)),h=h.add(n)}for(o=0,r=h.length;o<r;o++)n=h.eq(o),a.methods._postConstruct.apply(n,[s(n)]);return u}function s(e){return e.data(l)}var r="fs-"+i,l="fs"+i.replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()});return a.initialized=!1,a.priority=a.priority||10,a.classes=t("classes",r,m,a.classes),a.events=t("events",i,f,a.events),a.functions=e.extend({getData:s,iterate:function(t){for(var i=this,a=Array.prototype.slice.call(arguments,1),n=0,o=i.length;n<o;n++){var r=i.eq(n),l=s(r)||{};"undefined"!==e.type(l.$el)&&t.apply(r,[l].concat(a))}return i}},h,a.functions),a.methods=e.extend(!0,{_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:function(e){a.functions.iterate.apply(this,[a.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(a.classes.raw.element).removeData(l)}},a.methods),a.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(t){a.defaults=e.extend(!0,a.defaults,t||{})}},a.utilities),a.widget&&(g.Conflicts.fn[i]=e.fn[i],e.fn[l]=function(t){if(this instanceof e){var i=a.methods[t];if("object"===e.type(t)||!t)return n.apply(this,arguments);if(i&&0!==t.indexOf("_")){var o=[i].concat(Array.prototype.slice.call(arguments,1));return a.functions.iterate.apply(this,o)}return this}},g.DontConflict||(e.fn[i]=e.fn[l])),g.Conflicts[i]=e[i],e[l]=a.utilities._delegate||function(t){var i=a.utilities[t]||a.utilities._initialize||!1;if(i){var n=Array.prototype.slice.call(arguments,"object"===e.type(t)?0:1);return i.apply(window,n)}},g.DontConflict||(e[i]=e[l]),a.namespace=i,a.namespaceClean=l,a.guid=0,a.methods._resize&&(g.ResizeHandlers.push({namespace:i,priority:a.priority,callback:a.methods._resize}),g.ResizeHandlers.sort(o)),a.methods._raf&&(g.RAFHandlers.push({namespace:i,priority:a.priority,callback:a.methods._raf}),g.RAFHandlers.sort(o)),a}(i,a),g.Plugins[i]},g.$window.on("resize.fs",i),i(),n(),g.Ready(function(){g.$body=e("body"),e("html").addClass(g.support.touch?"touchevents":"no-touchevents"),s=e('meta[name="viewport"]'),r=!!s.length&&s.attr("content"),l="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",p.resolve()}),f.clickTouchStart=f.click+" "+f.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},i=["transition","-webkit-transition"],a={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},n="transitionend",o="",s="",r=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in r.style){n=t[e],g.support.transition=!0;break}f.transitionEnd=n+".{ns}";for(e in i)if(i.hasOwnProperty(e)&&i[e]in r.style){o=i[e];break}g.transition=o;for(e in a)if(a.hasOwnProperty(e)&&a[e]in r.style){g.support.transform=!0,s=a[e];break}g.transform=s}(),window.Formstone=g,g}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(e){e.preventManipulation&&e.preventManipulation();var t=e.data,i=e.originalEvent;if(i.type.match(/(up|end|cancel)$/i))o(e);else{if(i.pointerId){var s=!1;for(var r in t.touches)t.touches[r].id===i.pointerId&&(s=!0,t.touches[r].pageX=i.pageX,t.touches[r].pageY=i.pageY);s||t.touches.push({id:i.pointerId,pageX:i.pageX,pageY:i.pageY})}else t.touches=i.touches;i.type.match(/(down|start)$/i)?a(e):i.type.match(/move$/i)&&n(e)}}function a(a){var s=a.data,r="undefined"!==e.type(s.touches)&&s.touches.length?s.touches[0]:null;r&&s.$el.off(p.mouseDown),s.touching||(s.startE=a.originalEvent,s.startX=r?r.pageX:a.pageX,s.startY=r?r.pageY:a.pageY,s.startT=(new Date).getTime(),s.scaleD=1,s.passed=!1),s.$links&&s.$links.off(p.click);var u=l(s.scale?p.scaleStart:p.panStart,a,s.startX,s.startY,s.scaleD,0,0,"","");if(s.scale&&s.touches&&s.touches.length>=2){var h=s.touches;s.pinch={startX:c(h[0].pageX,h[1].pageX),startY:c(h[0].pageY,h[1].pageY),startD:d(h[1].pageX-h[0].pageX,h[1].pageY-h[0].pageY)},u.pageX=s.startX=s.pinch.startX,u.pageY=s.startY=s.pinch.startY}s.touching||(s.touching=!0,s.pan&&!r&&f.on(p.mouseMove,s,n).on(p.mouseUp,s,o),t.support.pointer?f.on([p.pointerMove,p.pointerUp,p.pointerCancel].join(" "),s,i):f.on([p.touchMove,p.touchEnd,p.touchCancel].join(" "),s,i),s.$el.trigger(u))}function n(t){var i=t.data,a="undefined"!==e.type(i.touches)&&i.touches.length?i.touches[0]:null,n=a?a.pageX:t.pageX,s=a?a.pageY:t.pageY,r=n-i.startX,u=s-i.startY,h=r>0?"right":"left",g=u>0?"down":"up",f=Math.abs(r)>v,b=Math.abs(u)>v;if(!i.passed&&i.axis&&(i.axisX&&b||i.axisY&&f))o(t);else{!i.passed&&(!i.axis||i.axis&&i.axisX&&f||i.axisY&&b)&&(i.passed=!0),i.passed&&(m.killEvent(t),m.killEvent(i.startE));var w=!0,y=l(i.scale?p.scale:p.pan,t,n,s,i.scaleD,r,u,h,g);if(i.scale)if(i.touches&&i.touches.length>=2){var C=i.touches;i.pinch.endX=c(C[0].pageX,C[1].pageX),i.pinch.endY=c(C[0].pageY,C[1].pageY),i.pinch.endD=d(C[1].pageX-C[0].pageX,C[1].pageY-C[0].pageY),i.scaleD=i.pinch.endD/i.pinch.startD,y.pageX=i.pinch.endX,y.pageY=i.pinch.endY,y.scale=i.scaleD,y.deltaX=i.pinch.endX-i.pinch.startX,y.deltaY=i.pinch.endY-i.pinch.startY}else i.pan||(w=!1);w&&i.$el.trigger(y)}}function o(t){var i=t.data,n="undefined"!==e.type(i.touches)&&i.touches.length?i.touches[0]:null,o=n?n.pageX:t.pageX,r=n?n.pageY:t.pageY,c=o-i.startX,d=r-i.startY,u=(new Date).getTime(),h=i.scale?p.scaleEnd:p.panEnd,g=c>0?"right":"left",w=d>0?"down":"up",y=Math.abs(c)>1,C=Math.abs(d)>1;if(i.swipe&&Math.abs(c)>v&&u-i.startT<b&&(h=p.swipe),i.axis&&(i.axisX&&C||i.axisY&&y)||y||C){i.$links=i.$el.find("a");for(var x=0,H=i.$links.length;x<H;x++)s(i.$links.eq(x),i)}var W=l(h,t,o,r,i.scaleD,c,d,g,w);f.off([p.touchMove,p.touchEnd,p.touchCancel,p.mouseMove,p.mouseUp,p.pointerMove,p.pointerUp,p.pointerCancel].join(" ")),i.$el.trigger(W),i.touches=[],i.scale,n&&(i.touchTimer=m.startTimer(i.touchTimer,5,function(){i.$el.on(p.mouseDown,i,a)})),i.touching=!1}function s(t,i){t.on(p.click,i,r);var a=e._data(t[0],"events").click;a.unshift(a.pop())}function r(e){m.killEvent(e,!0),e.data.$links.off(p.click)}function l(t,i,a,n,o,s,r,l,c){return e.Event(t,{originalEvent:i,bubbles:!0,pageX:a,pageY:n,scale:o,deltaX:s,deltaY:r,directionX:l,directionY:c})}function c(e,t){return(e+t)/2}function d(e,t){return Math.sqrt(e*e+t*t)}function u(e,t){e.css({"-ms-touch-action":t,"touch-action":t})}var h=!t.window.PointerEvent,g=t.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:function(e){if(e.touches=[],e.touching=!1,this.on(p.dragStart,m.killEvent),e.swipe&&(e.pan=!0),e.scale&&(e.axis=!1),e.axisX="x"===e.axis,e.axisY="y"===e.axis,t.support.pointer){var n="";!e.axis||e.axisX&&e.axisY?n="none":(e.axisX&&(n+=" pan-y"),e.axisY&&(n+=" pan-x")),u(this,n),this.on(p.pointerDown,e,i)}else this.on(p.touchStart,e,i).on(p.mouseDown,e,a)},_destruct:function(e){this.off(p.namespace),u(this,"")}},events:{pointerDown:h?"MSPointerDown":"pointerdown",pointerUp:h?"MSPointerUp":"pointerup",pointerMove:h?"MSPointerMove":"pointermove",pointerCancel:h?"MSPointerCancel":"pointercancel"}}),p=g.events,m=g.functions,f=t.$window,v=10,b=50;p.pan="pan",p.panStart="panstart",p.panEnd="panend",p.scale="scale",p.scaleStart="scalestart",p.scaleEnd="scaleend",p.swipe="swipe"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(t){t.stopPropagation(),t.preventDefault();var i=t.data,n=t.originalEvent,o=i.target?i.$target:i.$el;i.property&&n.propertyName!==i.property||!e(n.target).is(o)||a(i)}function a(e){e.always||e.$el[r.namespaceClean]("destroy"),e.callback.apply(e.$el)}function n(e){var t=o(e.$check);s(e.styles,t)||a(e),e.styles=t}function o(t){var i,a,n,o={};if(t instanceof e&&(t=t[0]),d.getComputedStyle)for(var s=0,r=(i=d.getComputedStyle(t,null)).length;s<r;s++)a=i[s],n=i.getPropertyValue(a),o[a]=n;else if(t.currentStyle){i=t.currentStyle;for(a in i)o[a]=i[a]}return o}function s(t,i){if(e.type(t)!==e.type(i))return!1;for(var a in t){if(!t.hasOwnProperty(a))return!1;if(!t.hasOwnProperty(a)||!i.hasOwnProperty(a)||t[a]!==i[a])return!1}return!0}var r=t.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(e,a){if(a){e.$target=this.find(e.target),e.$check=e.target?e.$target:this,e.callback=a,e.styles=o(e.$check),e.timer=null;var s=e.$check.css(t.transition+"-duration"),r=parseFloat(s);t.support.transition&&s&&r?this.on(l.transitionEnd,e,i):e.timer=c.startTimer(e.timer,50,function(){n(e)},!0)}},_destruct:function(e){c.clearTimer(e.timer,!0),this.off(l.namespace)},resolve:a}}),l=r.events,c=r.functions,d=t.window}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){m.scrollDepth&&l()}function a(t){!C&&b&&b.length&&(C=!0,(m=e.extend(m,t||{})).autoEvents&&b.find("a").not("["+H+"]").each(o),m.scrollDepth&&(l(),v.on(y.scroll,s).one(y.load,i)),b.on(y.click,"*["+H+"]",c))}function n(){C&&b&&b.length&&(v.off(y.namespace),b.off(y.namespace),C=!1)}function o(){var t,i=e(this),a="undefined"!==e.type(i[0].href)?i[0].href:"",n=document.domain.split(".").reverse(),o=null!==a.match(n[1]+"."+n[0]);a.match(/^mailto\:/i)?t="Email, Click, "+a.replace(/^mailto\:/i,""):a.match(/^tel\:/i)?t="Telephone, Click, "+a.replace(/^tel\:/i,""):a.match(m.fileTypes)?t="File, Download:"+(/[.]/.exec(a)?/[^.]+$/.exec(a):void 0)[0]+", "+a.replace(/ /g,"-"):o||(t="ExternalLink, Click, "+a),t&&i.attr(H,t)}function s(e){w.startTimer(k,250,r)}function r(){for(var i,a=v.scrollTop()+t.windowHeight,n=1/m.scrollStops,o=n,s=1;s<=m.scrollStops;s++)i=Math.round(100*o).toString(),!W[_][i].passed&&a>W[_][i].edge&&(W[_][i].passed=!0,d(e.extend(m.scrollFields,{eventCategory:"ScrollDepth",eventAction:_,eventLabel:i,nonInteraction:!0}))),o+=n}function l(){var t,i=e.mediaquery("state"),a=b.outerHeight(),n={},o=1/m.scrollStops,s=o,r=0;i.minWidth&&(_="MinWidth:"+i.minWidth+"px");for(var l=1;l<=m.scrollStops;l++)r=parseInt(a*s),n[t=Math.round(100*s).toString()]={edge:"100"===t?r-10:r,passsed:!(!W[_]||!W[_][t])&&W[_][t].passed},s+=o;W[_]=n}function c(t){var i=e(this),a=i.attr("href"),n=i.data(x).split(",");m.eventCallback&&t.preventDefault();for(var o in n)n.hasOwnProperty(o)&&(n[o]=e.trim(n[o]));d({eventCategory:n[0],eventAction:n[1],eventLabel:n[2]||a,eventValue:n[3],nonInteraction:n[4]},i)}function d(t,i){f.location;var a=e.extend({hitType:"event"},t);if("undefined"!==e.type(i)&&!i.attr("data-analytics-stop")){var n="undefined"!==e.type(i[0].href)?i[0].href:"",o=!n.match(/^mailto\:/i)&&!n.match(/^tel\:/i)&&n.indexOf(":")<0?f.location.protocol+"//"+f.location.hostname+"/"+n:n;if(""!==o){var s=i.attr("target");s?f.open(o,s):m.eventCallback&&(a.hitCallback=function(){T&&(w.clearTimer(T),g(o))},T=w.startTimer(T,m.eventTimeout,a.hitCallback))}}h(a)}function u(t){h(e.extend({hitType:"pageview"},t))}function h(t){if("function"===e.type(f.ga)&&"function"===e.type(f.ga.getAll))for(var i=f.ga.getAll(),a=0,n=i.length;a<n;a++)f.ga(i[a].get("name")+".send",t)}function g(e){document.location=e}var p=t.Plugin("analytics",{methods:{_resize:i},utilities:{_delegate:function(){if(arguments.length&&"object"!==e.type(arguments[0]))if("destroy"===arguments[0])n.apply(this);else{var t=Array.prototype.slice.call(arguments,1);switch(arguments[0]){case"pageview":u.apply(this,t);break;case"event":d.apply(this,t)}}else a.apply(this,arguments);return null}}}),m={autoEvents:!1,fileTypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,eventCallback:!1,eventTimeout:1e3,scrollDepth:!1,scrollStops:5,scrollFields:{}},f=t.window,v=t.$window,b=null,w=p.functions,y=p.events,C=!1,x="analytics-event",H="data-"+x,W={},k=null,_="Site",T=null;t.Ready(function(){b=t.$body})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){h={unit:r.unit};for(var e in m)if(m.hasOwnProperty(e))for(var t in p[e])if(p[e].hasOwnProperty(t)){var i="Infinity"===t?1/0:parseInt(t,10),a=e.indexOf("max")>-1;p[e][t].matches&&(a?(!h[e]||i<h[e])&&(h[e]=i):(!h[e]||i>h[e])&&(h[e]=i))}}function a(){i(),c.trigger(l.mqChange,[h])}function n(e){var t=o(e.media),i=g[t],a=e.matches,n=a?l.enter:l.leave;if(i&&(i.active||!i.active&&a)){for(var s in i[n])i[n].hasOwnProperty(s)&&i[n][s].apply(i.mq);i.active=!0}}function o(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var s=t.Plugin("mediaquery",{utilities:{_initialize:function(t){t=t||{};for(var i in m)m.hasOwnProperty(i)&&(r[i]=t[i]?e.merge(t[i],r[i]):r[i]);(r=e.extend(r,t)).minWidth.sort(u.sortDesc),r.maxWidth.sort(u.sortAsc),r.minHeight.sort(u.sortDesc),r.maxHeight.sort(u.sortAsc);for(var n in m)if(m.hasOwnProperty(n)){p[n]={};for(var o in r[n])if(r[n].hasOwnProperty(o)){var s=window.matchMedia("("+m[n]+": "+(r[n][o]===1/0?1e5:r[n][o])+r.unit+")");s.addListener(a),p[n][r[n][o]]=s}}a()},state:function(){return h},bind:function(e,t,i){var a=d.matchMedia(t),s=o(a.media);g[s]||(g[s]={mq:a,active:!0,enter:{},leave:{}},g[s].mq.addListener(n));for(var r in i)i.hasOwnProperty(r)&&g[s].hasOwnProperty(r)&&(g[s][r][e]=i[r]);var c=g[s],u=a.matches;u&&c[l.enter].hasOwnProperty(e)?(c[l.enter][e].apply(a),c.active=!0):!u&&c[l.leave].hasOwnProperty(e)&&(c[l.leave][e].apply(a),c.active=!1)},unbind:function(e,t){if(e)if(t){var i=o(t);g[i]&&(g[i].enter[e]&&delete g[i].enter[e],g[i].leave[e]&&delete g[i].leave[e])}else for(var a in g)g.hasOwnProperty(a)&&(g[a].enter[e]&&delete g[a].enter[e],g[a].leave[e]&&delete g[a].leave[e])}},events:{mqChange:"mqchange"}}),r={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},l=e.extend(s.events,{enter:"enter",leave:"leave"}),c=t.$window,d=c[0],u=s.functions,h=null,g=[],p={},m={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(t,i){if(t.enabled&&!t.active){t.group&&!i&&e(t.group).not(t.$el).not(t.linked)[r.namespaceClean]("deactivate",!0);var a=t.group?e(t.group).index(t.$el):null;t.$swaps.addClass(t.classes.raw.active),i||t.linked&&e(t.linked).not(t.$el)[r.namespaceClean]("activate",!0),this.trigger(d.activate,[a]),t.active=!0}}function a(t,i){t.enabled&&t.active&&(t.$swaps.removeClass(t.classes.raw.active),i||t.linked&&e(t.linked).not(t.$el)[r.namespaceClean]("deactivate",!0),this.trigger(d.deactivate),t.active=!1)}function n(t,n){t.enabled||(t.enabled=!0,t.$swaps.addClass(t.classes.raw.enabled),n||e(t.linked).not(t.$el)[r.namespaceClean]("enable"),this.trigger(d.enable),t.onEnable?(t.active=!1,i.call(this,t)):(t.active=!0,a.call(this,t)))}function o(t,i){t.enabled&&(t.enabled=!1,t.$swaps.removeClass([t.classes.raw.enabled,t.classes.raw.active].join(" ")),i||e(t.linked).not(t.$el)[r.namespaceClean]("disable"),this.trigger(d.disable))}function s(e){u.killEvent(e);var t=e.data;t.active&&t.collapse?a.call(t.$el,t):i.call(t.$el,t)}var r=t.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:function(t){t.enabled=!1,t.active=!1,t.classes=e.extend(!0,{},c,t.classes),t.target=this.data(l+"-target"),t.$target=e(t.target).addClass(t.classes.raw.target),t.mq="(max-width:"+(t.maxWidth===1/0?"100000px":t.maxWidth)+")";var i=this.data(l+"-linked");t.linked=!!i&&"[data-"+l+'-linked="'+i+'"]';var a=this.data(l+"-group");t.group=!!a&&"[data-"+l+'-group="'+a+'"]',t.$swaps=e().add(this).add(t.$target),this.on(d.click+t.dotGuid,t,s)},_postConstruct:function(t){t.collapse||!t.group||e(t.group).filter("[data-"+l+"-active]").length||e(t.group).eq(0).attr("data-"+l+"-active","true"),t.onEnable=this.data(l+"-active")||!1,e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){n.call(t.$el,t,!0)},leave:function(){o.call(t.$el,t,!0)}})},_destruct:function(t){e.fsMediaquery("unbind",t.rawGuid),t.$swaps.removeClass([t.classes.raw.enabled,t.classes.raw.active].join(" ")).off(d.namespace)},activate:i,deactivate:a,enable:n,disable:o}}),l=r.namespace,c=r.classes,d=r.events,u=r.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition","./viewer"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(i){if(!Q){var a=i.data;(Q=e.extend({},{visible:!1,gallery:{active:!1},isMobile:t.isMobile||a.mobile,isTouch:t.support.touch,isAnimating:!0,isZooming:!1,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1,tapTimer:null},a)).isViewer=Q.isMobile&&a.viewer&&void 0!==e.fn.fsViewer;var o=a.$el,s=a.$object,l=o&&o[0].href?o[0].href||"":"",d=o&&o[0].hash?o[0].hash||"":"",h=(l.toLowerCase().split(".").pop().split(/\#|\?/),o?o.data(O+"-type"):""),p="image"===h||l.match(a.fileTypes)||"data:image"===l.substr(0,10),m=q(l),v="url"===h||!p&&!m&&"http"===l.substr(0,4)&&!d,b="element"===h||!p&&!m&&!v&&"#"===d.substr(0,1),y=void 0!==s;if(b&&(l=d),!(p||m||v||b||y))return void(Q=null);if(D.killEvent(i),Q.margin*=2,Q.type=p?"image":m?"video":"element",p||m){var C=o.data(O+"-gallery");C&&(Q.gallery.active=!0,Q.gallery.id=C,Q.gallery.$items=e("a[data-lightbox-gallery= "+Q.gallery.id+"], a[rel= "+Q.gallery.id+"]"),Q.gallery.index=Q.gallery.$items.index(Q.$el),Q.gallery.total=Q.gallery.$items.length-1)}Q.thumbnails&&(p||m)&&Q.gallery.active||(Q.thumbnails=!1);var x="";Q.isMobile||(x+='<div class="'+[V.overlay,Q.theme,Q.customClass].join(" ")+'"></div>');var _=[V.base,V.loading,V.animating,Q.theme,Q.customClass];if(Q.fixed&&_.push(V.fixed),Q.isMobile&&_.push(V.mobile),Q.isTouch&&_.push(V.touch),v&&_.push(V.iframed),(b||y)&&_.push(V.inline),Q.thumbnails&&_.push(V.thumbnailed),Q.labels.lightbox=Q.labels.lightbox.replace("{guid}",a.numGuid),x+='<div class="'+_.join(" ")+'" role="dialog" aria-label="'+Q.labels.lightbox+'" tabindex="-1">',x+='<button type="button" class="'+V.close+'">'+Q.labels.close+"</button>",x+='<span class="'+V.loading_icon+'"></span>',x+='<div class="'+V.container+'">',Q.gallery.active&&Q.thumbnails){x+='<div class="'+[V.thumbnails]+'">',x+='<div class="'+[V.thumbnail_container]+'">';for(var I,P,j=0,z=Q.gallery.$items.length;j<z;j++)(P=(I=Q.gallery.$items.eq(j)).data("lightbox-thumbnail"))||(P=I.find("img").attr("src")),x+='<button class="'+[V.thumbnail_item]+'">',x+='<img src="'+P+'" alt="">',x+="</button>";x+="</div></div>"}x+='<div class="'+V.content+'"></div>',(p||m)&&(x+='<div class="'+V.tools+'">',x+='<div class="'+V.controls+'">',Q.gallery.active&&(x+='<button type="button" class="'+[V.control,V.control_previous].join(" ")+'">'+Q.labels.previous+"</button>",x+='<button type="button" class="'+[V.control,V.control_next].join(" ")+'">'+Q.labels.next+"</button>"),Q.isMobile&&Q.isTouch&&(x+='<button type="button" class="'+[V.toggle,V.caption_toggle].join(" ")+'">'+Q.labels.captionClosed+"</button>",Q.gallery.active&&Q.thumbnails&&(x+='<button type="button" class="'+[V.toggle,V.thumbnail_toggle].join(" ")+'">'+Q.labels.thumbnailsClosed+"</button>")),x+="</div>",x+='<div class="'+V.meta+'">',x+='<div class="'+V.meta_content+'">',Q.gallery.active&&(x+='<p class="'+V.position+'"',Q.gallery.total<1&&(x+=' style="display: none;"'),x+=">",x+='<span class="'+V.position_current+'">'+(Q.gallery.index+1)+"</span> ",x+=Q.labels.count,x+=' <span class="'+V.position_total+'">'+(Q.gallery.total+1)+"</span>",x+="</p>"),x+='<div class="'+V.caption+'">',x+=Q.formatter.call(o,a),x+="</div></div></div>",x+="</div>"),x+="</div></div>",G.append(x),Q.$overlay=e(X.overlay),Q.$lightbox=e(X.base),Q.$close=e(X.close),Q.$container=e(X.container),Q.$content=e(X.content),Q.$tools=e(X.tools),Q.$meta=e(X.meta),Q.$metaContent=e(X.meta_content),Q.$position=e(X.position),Q.$caption=e(X.caption),Q.$controlBox=e(X.controls),Q.$controls=e(X.control),Q.$thumbnails=e(X.thumbnails),Q.$thumbnailContainer=e(X.thumbnail_container),Q.$thumbnailItems=e(X.thumbnail_item),Q.isMobile?(Q.paddingVertical=Q.$close.outerHeight(),Q.paddingHorizontal=0,Q.mobilePaddingVertical=parseInt(Q.$content.css("paddingTop"),10)+parseInt(Q.$content.css("paddingBottom"),10),Q.mobilePaddingHorizontal=parseInt(Q.$content.css("paddingLeft"),10)+parseInt(Q.$content.css("paddingRight"),10)):(Q.paddingVertical=parseInt(Q.$lightbox.css("paddingTop"),10)+parseInt(Q.$lightbox.css("paddingBottom"),10),Q.paddingHorizontal=parseInt(Q.$lightbox.css("paddingLeft"),10)+parseInt(Q.$lightbox.css("paddingRight"),10),Q.mobilePaddingVertical=0,Q.mobilePaddingHorizontal=0),Q.contentHeight=Q.$lightbox.outerHeight()-Q.paddingVertical,Q.contentWidth=Q.$lightbox.outerWidth()-Q.paddingHorizontal,Q.controlHeight=Q.$controls.outerHeight(),r(),Q.gallery.active&&(Q.$lightbox.addClass(V.has_controls),H()),Y.on(S.keyDown,W),G.on(S.click,[X.overlay,X.close].join(", "),n).on([S.focus,S.focusIn].join(" "),E),Q.gallery.active&&Q.$lightbox.on(S.click,X.control,$),Q.thumbnails&&Q.$lightbox.on(S.click,X.thumbnail_item,w),Q.isMobile&&Q.isTouch&&Q.$lightbox.on(S.click,X.caption_toggle,c).on(S.click,X.thumbnail_toggle,u),Q.$lightbox.fsTransition({property:"opacity"},function(){p?g(l):m?f(l):v?T(l):b?k(l):y&&M(Q.$object)}).addClass(V.open),Q.$overlay.addClass(V.open)}}function a(e){"object"!=typeof e&&(Q.targetHeight=arguments[0],Q.targetWidth=arguments[1]),"element"===Q.type?I(Q.$content.find("> :first-child")):"image"===Q.type?p():"video"===Q.type&&v(),s()}function n(e){D.killEvent(e),Q&&(Q.$lightbox.fsTransition("destroy"),Q.$content.fsTransition("destroy"),Q.$lightbox.addClass(V.animating).fsTransition({property:"opacity"},function(e){void 0!==Q.$inlineTarget&&Q.$inlineTarget.length&&_(),Q.isViewer&&Q.$imageContainer&&Q.$imageContainer.length&&Q.$imageContainer.fsViewer("destroy"),Q.$lightbox.off(S.namespace),Q.$container.off(S.namespace),Y.off(S.keyDown),G.off(S.namespace),G.off(S.namespace),Q.$overlay.remove(),Q.$lightbox.remove(),void 0!==Q.$el&&Q.$el&&Q.$el.length&&Q.$el.focus(),Q=null,Y.trigger(S.close)}),Q.$lightbox.removeClass(V.open),Q.$overlay.removeClass(V.open),Q.isMobile&&(F.removeClass(V.lock),D.unlockViewport(O)))}function o(){var e=l();Q.isMobile||Q.duration,Q.isMobile?D.lockViewport(O):Q.$controls.css({marginTop:(Q.contentHeight-Q.controlHeight-Q.metaHeight+Q.thumbnailHeight)/2}),""===Q.$caption.html()?(Q.$caption.hide(),Q.$lightbox.removeClass(V.has_caption),Q.gallery.active||Q.$tools.hide()):(Q.$caption.show(),Q.$lightbox.addClass(V.has_caption)),Q.$lightbox.fsTransition({property:Q.contentHeight!==Q.oldContentHeight?"height":"width"},function(){Q.$content.fsTransition({property:"opacity"},function(){Q.$lightbox.removeClass(V.animating),Q.isAnimating=!1}),Q.$lightbox.removeClass(V.loading).addClass(V.ready),Q.visible=!0,Y.trigger(S.open),Q.gallery.active&&(b(),y(),C()),Q.$lightbox.focus()}),Q.isMobile||Q.$lightbox.css({height:Q.contentHeight+Q.paddingVertical,width:Q.contentWidth+Q.paddingHorizontal,top:Q.fixed?0:e.top});var t=Q.oldContentHeight!==Q.contentHeight||Q.oldContentWidth!==Q.contentWidth;!Q.isMobile&&t||Q.$lightbox.fsTransition("resolve"),Q.oldContentHeight=Q.contentHeight,Q.oldContentWidth=Q.contentWidth,Q.isMobile&&F.addClass(V.lock)}function s(){if(Q.visible&&!Q.isMobile){var e=l();Q.$controls.css({marginTop:(Q.contentHeight-Q.controlHeight-Q.metaHeight+Q.thumbnailHeight)/2}),Q.$lightbox.css({height:Q.contentHeight+Q.paddingVertical,width:Q.contentWidth+Q.paddingHorizontal,top:Q.fixed?0:e.top}),Q.oldContentHeight=Q.contentHeight,Q.oldContentWidth=Q.contentWidth}}function r(){var e=l();Q.$lightbox.css({top:Q.fixed?0:e.top})}function l(){if(Q.isMobile)return{left:0,top:0};var e={left:(t.windowWidth-Q.contentWidth-Q.paddingHorizontal)/2,top:Q.top<=0?(t.windowHeight-Q.contentHeight-Q.paddingVertical)/2:Q.top};return!0!==Q.fixed&&(e.top+=Y.scrollTop()),e}function c(e){if(D.killEvent(e),Q.captionOpen)d();else{h();var t=parseInt(Q.$metaContent.outerHeight(!0));t+=parseInt(Q.$meta.css("padding-top")),t+=parseInt(Q.$meta.css("padding-bottom")),Q.$meta.css({height:t}),Q.$lightbox.addClass(V.caption_open).find(X.caption_toggle).text(Q.labels.captionOpen),Q.captionOpen=!0}}function d(){Q.$lightbox.removeClass(V.caption_open).find(X.caption_toggle).text(Q.labels.captionClosed),Q.captionOpen=!1}function u(e){D.killEvent(e),Q.thumbnailsOpen?h():(d(),Q.$lightbox.addClass(V.thumbnails_open).find(X.thumbnail_toggle).text(Q.labels.thumbnailsOpen),Q.thumbnailsOpen=!0)}function h(){Q.$lightbox.removeClass(V.thumbnails_open).find(X.thumbnail_toggle).text(Q.labels.thumbnailsClosed),Q.thumbnailsOpen=!1}function g(t){Q.isViewer?(Q.$imageContainer=e('<div class="'+V.image_container+'"><img></div>'),Q.$image=Q.$imageContainer.find("img"),Q.$image.attr("src",t).addClass(V.image),Q.$content.prepend(Q.$imageContainer),p(),Q.$imageContainer.one("loaded.viewer",function(){o()}).fsViewer({theme:Q.theme})):(Q.$imageContainer=e('<div class="'+V.image_container+'"><img></div>'),Q.$image=Q.$imageContainer.find("img"),Q.$image.one(S.load,function(){var e=j(Q.$image);Q.naturalHeight=e.naturalHeight,Q.naturalWidth=e.naturalWidth,Q.retina&&(Q.naturalHeight/=2,Q.naturalWidth/=2),Q.$content.prepend(Q.$imageContainer),p(),o()}).on(S.error,P).attr("src",t).addClass(V.image),(Q.$image[0].complete||4===Q.$image[0].readyState)&&Q.$image.trigger(S.load))}function p(){if(Q.$image){var e=0;for(Q.windowHeight=Q.viewportHeight=t.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=Q.viewportWidth=t.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.contentHeight=1/0,Q.contentWidth=1/0,Q.imageMarginTop=0,Q.imageMarginLeft=0;Q.contentHeight>Q.viewportHeight&&e<2;)Q.imageHeight=0===e?Q.naturalHeight:Q.$image.outerHeight(),Q.imageWidth=0===e?Q.naturalWidth:Q.$image.outerWidth(),Q.metaHeight=0===e?0:Q.metaHeight,Q.spacerHeight=0===e?0:Q.spacerHeight,Q.thumbnailHeight=0===e?0:Q.thumbnailHeight,
0===e&&(Q.ratioHorizontal=Q.imageHeight/Q.imageWidth,Q.ratioVertical=Q.imageWidth/Q.imageHeight,Q.isWide=Q.imageWidth>Q.imageHeight),Q.imageHeight<Q.minHeight&&(Q.minHeight=Q.imageHeight),Q.imageWidth<Q.minWidth&&(Q.minWidth=Q.imageWidth),Q.isMobile?(Q.isTouch?(Q.$controlBox.css({width:t.windowWidth}),Q.spacerHeight=Q.$controls.outerHeight(!0)):(Q.$tools.css({width:t.windowWidth}),Q.spacerHeight=Q.$tools.outerHeight(!0)),Q.contentHeight=Q.viewportHeight,Q.contentWidth=Q.viewportWidth,Q.isTouch||Q.$content.css({height:Q.contentHeight-Q.spacerHeight}),Q.$thumbnails.length&&(Q.spacerHeight+=Q.$thumbnails.outerHeight(!0)),Q.spacerHeight+=10,m(),Q.imageMarginTop=(Q.contentHeight-Q.targetImageHeight-Q.spacerHeight)/2,Q.imageMarginLeft=(Q.contentWidth-Q.targetImageWidth)/2):(0===e&&(Q.viewportHeight-=Q.margin+Q.paddingVertical,Q.viewportWidth-=Q.margin+Q.paddingHorizontal),Q.viewportHeight-=Q.metaHeight,Q.thumbnails&&(Q.viewportHeight-=Q.thumbnailHeight),m(),Q.contentHeight=Q.targetImageHeight,Q.contentWidth=Q.targetImageWidth),Q.isMobile||Q.isTouch||Q.$meta.css({width:Q.contentWidth}),Q.$image.css({height:Q.targetImageHeight,width:Q.targetImageWidth,marginTop:Q.imageMarginTop,marginLeft:Q.imageMarginLeft}),Q.isMobile||(Q.metaHeight=Q.$meta.outerHeight(!0),Q.contentHeight+=Q.metaHeight),Q.thumbnails&&(Q.thumbnailHeight=Q.$thumbnails.outerHeight(!0),Q.contentHeight+=Q.thumbnailHeight),e++}}function m(){var e=Q.isMobile?Q.contentHeight-Q.spacerHeight:Q.viewportHeight,t=Q.isMobile?Q.contentWidth:Q.viewportWidth;Q.isWide?(Q.targetImageWidth=t,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal,Q.targetImageHeight>e&&(Q.targetImageHeight=e,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical)):(Q.targetImageHeight=e,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical,Q.targetImageWidth>t&&(Q.targetImageWidth=t,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal)),(Q.targetImageWidth>Q.imageWidth||Q.targetImageHeight>Q.imageHeight)&&(Q.targetImageHeight=Q.imageHeight,Q.targetImageWidth=Q.imageWidth),(Q.targetImageWidth<Q.minWidth||Q.targetImageHeight<Q.minHeight)&&(Q.targetImageWidth<Q.minWidth?(Q.targetImageWidth=Q.minWidth,Q.targetImageHeight=Q.targetImageWidth*Q.ratioHorizontal):(Q.targetImageHeight=Q.minHeight,Q.targetImageWidth=Q.targetImageHeight*Q.ratioVertical))}function f(t){var i=q(t),a=t.split("?");i?(a.length>=2&&(i+="?"+a.slice(1)[0].trim()),Q.$videoWrapper=e('<div class="'+V.video_wrapper+'"></div>'),Q.$video=e('<iframe class="'+V.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),Q.$video.attr("src",i).addClass(V.video).prependTo(Q.$videoWrapper),Q.$content.prepend(Q.$videoWrapper),v(),o()):P()}function v(){Q.windowHeight=Q.viewportHeight=t.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=Q.viewportWidth=t.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.videoMarginTop=0,Q.videoMarginLeft=0,Q.isMobile?(Q.isTouch?(Q.$controlBox.css({width:t.windowWidth}),Q.spacerHeight=Q.$controls.outerHeight(!0)+10):(Q.$tools.css({width:t.windowWidth}),Q.spacerHeight=Q.$tools.outerHeight(!0),Q.spacerHeight+=Q.$thumbnails.outerHeight(!0)+10),Q.viewportHeight-=Q.spacerHeight,Q.targetVideoWidth=Q.viewportWidth,Q.targetVideoHeight=Q.targetVideoWidth*Q.videoRatio,Q.targetVideoHeight>Q.viewportHeight&&(Q.targetVideoHeight=Q.viewportHeight,Q.targetVideoWidth=Q.targetVideoHeight/Q.videoRatio),Q.videoMarginTop=(Q.viewportHeight-Q.targetVideoHeight)/2,Q.videoMarginLeft=(Q.viewportWidth-Q.targetVideoWidth)/2):(Q.viewportHeight=Q.windowHeight-Q.margin,Q.viewportWidth=Q.windowWidth-Q.margin,Q.targetVideoWidth=Q.videoWidth>Q.viewportWidth?Q.viewportWidth:Q.videoWidth,Q.targetVideoWidth<Q.minWidth&&(Q.targetVideoWidth=Q.minWidth),Q.targetVideoHeight=Q.targetVideoWidth*Q.videoRatio,Q.contentHeight=Q.targetVideoHeight,Q.contentWidth=Q.targetVideoWidth),Q.isMobile||Q.isTouch||Q.$meta.css({width:Q.contentWidth}),Q.$videoWrapper.css({height:Q.targetVideoHeight,width:Q.targetVideoWidth,marginTop:Q.videoMarginTop,marginLeft:Q.videoMarginLeft}),Q.isMobile||(Q.metaHeight=Q.$meta.outerHeight(!0),Q.contentHeight+=Q.metaHeight),Q.thumbnails&&(Q.thumbnailHeight=Q.$thumbnails.outerHeight(!0),Q.contentHeight+=Q.thumbnailHeight)}function b(t){var i="";Q.gallery.index>0&&(q(i=Q.gallery.$items.eq(Q.gallery.index-1).attr("href"))||e('<img src="'+i+'">')),Q.gallery.index<Q.gallery.total&&(q(i=Q.gallery.$items.eq(Q.gallery.index+1).attr("href"))||e('<img src="'+i+'">'))}function $(t){D.killEvent(t);var i=e(t.currentTarget);Q.isAnimating||i.hasClass(V.control_disabled)||(Q.isAnimating=!0,d(),Q.gallery.index+=i.hasClass(V.control_next)?1:-1,Q.gallery.index>Q.gallery.total&&(Q.gallery.index=Q.infinite?0:Q.gallery.total),Q.gallery.index<0&&(Q.gallery.index=Q.infinite?Q.gallery.total:0),y(),Q.$lightbox.addClass(V.animating),Q.$content.fsTransition({property:"opacity"},x),Q.$lightbox.addClass(V.loading))}function w(t){D.killEvent(t);var i=e(t.currentTarget);Q.isAnimating||i.hasClass(V.active)||(Q.isAnimating=!0,d(),Q.gallery.index=Q.$thumbnailItems.index(i),y(),Q.$lightbox.addClass(V.animating),Q.$content.fsTransition({property:"opacity"},x),Q.$lightbox.addClass(V.loading))}function y(){if(Q.thumbnails){var e=Q.$thumbnailItems.eq(Q.gallery.index);Q.$thumbnailItems.removeClass(V.active),e.addClass(V.active)}}function C(){if(Q.thumbnails){var e=Q.$thumbnailItems.eq(Q.gallery.index),t=e.position().left+e.outerWidth(!1)/2-Q.$thumbnailContainer.outerWidth(!0)/2;Q.$thumbnailContainer.stop().animate({scrollLeft:t},200,"linear")}}function x(){void 0!==Q.$imageContainer&&(Q.isViewer&&Q.$imageContainer.fsViewer("destroy"),Q.$imageContainer.remove()),void 0!==Q.$videoWrapper&&Q.$videoWrapper.remove(),Q.$el=Q.gallery.$items.eq(Q.gallery.index),Q.$caption.html(Q.formatter.call(Q.$el,Q)),Q.$position.find(X.position_current).html(Q.gallery.index+1);var e=Q.$el.attr("href");q(e)?(Q.type="video",f(e)):(Q.type="image",g(e)),H()}function H(){Q.$controls.removeClass(V.control_disabled),Q.infinite||(0===Q.gallery.index&&Q.$controls.filter(X.control_previous).addClass(V.control_disabled),Q.gallery.index===Q.gallery.total&&Q.$controls.filter(X.control_next).addClass(V.control_disabled))}function W(e){!Q.gallery.active||37!==e.keyCode&&39!==e.keyCode?27===e.keyCode&&Q.$close.trigger(S.click):(D.killEvent(e),Q.$controls.filter(37===e.keyCode?X.control_previous:X.control_next).trigger(S.click))}function k(t){Q.$inlineTarget=e(t),Q.$inlineContents=Q.$inlineTarget.children().detach(),M(Q.$inlineContents)}function _(){Q.$inlineTarget.append(Q.$inlineContents.detach())}function T(t){t+=t.indexOf("?")>-1?"&"+Q.requestKey+"=true":"?"+Q.requestKey+"=true",M(e('<iframe class="'+V.iframe+'" src="'+t+'"></iframe>'))}function M(e){Q.$content.append(e),I(e),o()}function I(e){Q.windowHeight=t.windowHeight-Q.mobilePaddingVertical-Q.paddingVertical,Q.windowWidth=t.windowWidth-Q.mobilePaddingHorizontal-Q.paddingHorizontal,Q.objectHeight=e.outerHeight(!0),Q.objectWidth=e.outerWidth(!0),Q.targetHeight=Q.targetHeight||(Q.$el?Q.$el.data(O+"-height"):null),Q.targetWidth=Q.targetWidth||(Q.$el?Q.$el.data(O+"-width"):null),Q.maxHeight=Q.windowHeight<0?Q.minHeight:Q.windowHeight,Q.isIframe=e.is("iframe"),Q.objectMarginTop=0,Q.objectMarginLeft=0,Q.isMobile||(Q.windowHeight-=Q.margin,Q.windowWidth-=Q.margin),Q.contentHeight=Q.targetHeight?Q.targetHeight:Q.isIframe||Q.isMobile?Q.windowHeight:Q.objectHeight,Q.contentWidth=Q.targetWidth?Q.targetWidth:Q.isIframe||Q.isMobile?Q.windowWidth:Q.objectWidth,(Q.isIframe||Q.isObject)&&Q.isMobile?(Q.contentHeight=Q.windowHeight,Q.contentWidth=Q.windowWidth):Q.isObject&&(Q.contentHeight=Q.contentHeight>Q.windowHeight?Q.windowHeight:Q.contentHeight,Q.contentWidth=Q.contentWidth>Q.windowWidth?Q.windowWidth:Q.contentWidth),Q.isMobile||(Q.contentHeight>Q.maxHeight&&(Q.contentHeight=Q.maxHeight),Q.contentWidth>Q.maxWidth&&(Q.contentWidth=Q.maxWidth))}function P(){var t=e('<div class="'+V.error+'"><p>Error Loading Resource</p></div>');Q.type="element",Q.$tools.remove(),Q.$image.off(S.namespace),M(t),Y.trigger(S.error)}function j(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}function q(e){var t,i=Q.videoFormatter;for(var a in i)if(i.hasOwnProperty(a)&&null!==(t=e.match(i[a].pattern)))return i[a].format.call(Q,t);return!1}function E(t){var i=t.target;e.contains(Q.$lightbox[0],i)||i===Q.$lightbox[0]||i===Q.$overlay[0]||(D.killEvent(t),Q.$lightbox.focus())}var z=t.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:function(){var e=this.attr("title"),t=!(void 0===e||!e)&&e.replace(/^\s+|\s+$/g,"");return t?'<p class="caption">'+t+"</p>":""},infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails",lightbox:"Lightbox {guid}"},margin:50,maxHeight:1e4,maxWidth:1e4,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:function(e){return"//www.youtube.com/embed/"+e[1]}},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:function(e){return"//player.vimeo.com/video/"+e[3]}}},videoRatio:.5625,videoWidth:800,viewer:!0},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_construct:function(e){this.on(S.click,e,i);var t=this.data(O+"-gallery");!N&&R&&t===R&&(N=!0,this.trigger(S.click))},_destruct:function(e){n(),this.off(S.namespace)},_resize:function(){Q&&a()},resize:a},utilities:{_initialize:function(t,a){t instanceof e&&i.apply(L,[{data:e.extend(!0,{},{$object:t},A,a||{})}])},close:n}}),O=z.namespace,A=z.defaults,X=z.classes,V=X.raw,S=z.events,D=z.functions,L=t.window,Y=t.$window,G=null,F=null,R=!1,N=!1,Q=null;t.Ready(function(){G=t.$body,F=e("html, body"),R=t.window.location.hash.replace("#","")})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){$.iterate.call(v,r)}function a(){v=e(u.base),i()}function n(e){e.enabled=!0,e.$el.addClass(h.enabled),r(e)}function o(e){e.enabled=!1,e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(h.enabled),e.$stickys.removeClass([h.passed,h.stuck].join(" "))}function s(){$.iterate.call(v,c)}function r(e){if(e.enabled){if(l(e),e.$container.length){var t=e.$container.offset();e.min=t.top-e.margin,e.max=e.min+e.$container.outerHeight(!1)-e.height}else{var i,a=(i=e.stuck?e.$clone:e.$el).offset();e.min=a.top-e.margin,e.max=!1}c(e)}}function l(e){var t;t=e.stuck?e.$clone:e.$el,e.margin=parseInt(t.css("margin-top"),10),e.$container.length?e.containerMargin=parseInt(e.$container.css("margin-top"),10):e.containerMargin=0,e.height=t.outerHeight(),e.width=t.outerWidth()}function c(e){if(e.enabled){var t=m+e.offset;if(t>=e.min){e.stuck=!0,e.$stickys.addClass(h.stuck),e.stuck||(e.$el.trigger(g.stuck),l(e));var i=e.offset,a="";e.max&&t>e.max?(e.passed||e.$el.trigger(g.passed),e.passed=!0,e.$stickys.addClass(h.passed),i="",a=0):(e.passed=!1,e.$stickys.removeClass(h.passed)),e.$el.css({height:e.height,width:e.width,top:i,bottom:a,marginBottom:0})}else e.stuck=!1,e.$stickys.removeClass(h.stuck).removeClass(h.passed),e.stuck&&e.$el.trigger(g.unstuck),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}}var d=t.Plugin("sticky",{widget:!0,defaults:{maxWidth:1/0,minWidth:"0px",offset:0},classes:["enabled","sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:function(t){t.enabled=!1,t.stuck=!1,t.passed=!0,t.$clone=t.$el.clone(),t.container=t.$el.data("sticky-container"),t.$container=e(t.container),t.$el.addClass(h.base),t.$clone.removeClass(h.element).addClass(h.clone),t.$container.addClass(h.container),t.$stickys=e().add(t.$el).add(t.$clone),t.$el.after(t.$clone);var i=e().add(t.$el.find("img")).add(t.$container.find("img"));i.length&&i.on(g.load,t,r),t.maxWidth=t.maxWidth===1/0?"100000px":t.maxWidth,t.mq="(min-width:"+t.minWidth+") and (max-width:"+t.maxWidth+")",e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){n.call(t.$el,t)},leave:function(){o.call(t.$el,t)}})},_postConstruct:function(e){a(),i()},_destruct:function(e){e.$clone.remove(),e.$container.removeClass(h.container),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(h.base),a()},_resize:i,_raf:function(){(m=p.scrollTop())<0&&(m=0),m!==f&&(s(),f=m)},disable:o,enable:n,reset:r,resize:r}}),u=(d.namespace,d.classes),h=u.raw,g=d.events,$=d.functions,p=(t.window,t.$window),m=0,f=0,v=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./swap"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(e){if(!e.originalEvent){var t=e.data;t.$el.attr("aria-selected",!0).trigger(g.update,[0]),t.$mobileTab.addClass(h.active),t.$content.attr("aria-hidden",!1).addClass(h.active)}}function a(e){if(!e.originalEvent){var t=e.data;t.$el.attr("aria-selected",!1),t.$mobileTab.removeClass(h.active),t.$content.attr("aria-hidden",!0).removeClass(h.active)}}function n(e){var t=e.data;t.$el.attr("aria-controls",t.ariaContentId),t.$mobileTab.addClass(h.enabled),t.$content.attr("aria-labelledby",t.ariaId).addClass(h.enabled)}function o(e){var t=e.data;t.$el.removeAttr("aria-controls").removeAttr("aria-selected"),t.$mobileTab.removeClass(h.enabled),t.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeClass(h.enabled)}function s(e){e.data.$el.fsSwap("activate")}function r(e){e.$el.addClass(h.mobile),e.$mobileTab.addClass(h.mobile),e.$content.addClass(h.mobile)}function l(e){e.$el.removeClass(h.mobile),e.$mobileTab.removeClass(h.mobile),e.$content.removeClass(h.mobile)}var c=t.Plugin("tabs",{widget:!0,defaults:{customClass:"",maxWidth:1/0,mobileMaxWidth:"740px",theme:"fs-light"},classes:["tab","tab_mobile","mobile","content","enabled","active"],events:{update:"update"},methods:{_construct:function(s){s.mq="(max-width:"+(s.mobileMaxWidth===1/0?"100000px":s.mobileMaxWidth)+")",s.content=this.attr("href"),s.group=this.data(d+"-group"),s.elementClasses=[h.tab,s.rawGuid,s.theme,s.customClass],s.mobileTabClasses=[h.tab,h.tab_mobile,s.rawGuid,s.theme,s.customClass],s.contentClasses=[h.content,s.rawGuid,s.theme,s.customClass],s.$mobileTab=e('<button type="button" class="'+s.mobileTabClasses.join(" ")+'" aria-hidden="true">'+this.text()+"</button>"),s.$content=e(s.content).addClass(s.contentClasses.join(" ")),s.$content.before(s.$mobileTab).attr("role","tabpanel"),this.attr("role","tab"),s.id=this.attr("id"),s.id?s.ariaId=s.id:(s.ariaId=s.rawGuid,this.attr("id",s.ariaId)),s.contentId=s.$content.attr("id"),s.contentGuid=s.rawGuid+"_content",s.contentId?s.ariacontentId=s.contentId:(s.ariaContentId=s.contentGuid,s.$content.attr("id",s.ariaContentId));var r=t.window.location.hash,l=!1,c=!1;r.length&&(l=this.filter("[href*='"+r+"']").length>0,c=s.group&&e("[data-"+d+'-group="'+s.group+'"]').filter("[href*='"+r+"']").length>0),l?this.attr("data-swap-active","true"):c?this.removeAttr("data-swap-active").removeData("data-swap-active"):"true"===this.attr("data-tabs-active")&&this.attr("data-swap-active","true"),this.attr("data-swap-target",s.content).attr("data-swap-group",s.group).addClass(s.elementClasses.join(" ")).on("activate.swap"+s.dotGuid,s,i).on("deactivate.swap"+s.dotGuid,s,a).on("enable.swap"+s.dotGuid,s,n).on("disable.swap"+s.dotGuid,s,o)},_postConstruct:function(t){this.fsSwap({maxWidth:t.maxWidth,classes:{target:t.dotGuid,enabled:u.enabled,active:u.active,raw:{target:t.rawGuid,enabled:h.enabled,active:h.active}},collapse:!1}),t.$mobileTab.on("click"+t.dotGuid,t,s),e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){r.call(t.$el,t)},leave:function(){l.call(t.$el,t)}})},_destruct:function(t){e.fsMediaquery("unbind",t.rawGuid),t.$mobileTab.off(g.namespace).remove(),t.elementClasses.push(h.mobile),t.contentClasses.push(h.mobile),t.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("role").removeClass(t.contentClasses.join(" ")),t.$content.attr("id")===t.contentGuid&&t.$content.removeAttr("id"),this.removeAttr("aria-controls").removeAttr("aria-selected").removeAttr("data-swap-active").removeData("data-swap-active").removeAttr("data-swap-target").removeData("data-swap-target").removeAttr("data-swap-group").removeData("data-swap-group").removeAttr("role").removeClass(t.elementClasses.join(" ")).off(g.namespace).fsSwap("destroy"),this.attr("id")===t.rawGuid&&this.removeAttr("id")},activate:function(e){this.fsSwap("activate")},enable:function(e){this.fsSwap("enable")},disable:function(e){this.fsSwap("disable")}}}),d=c.namespace,u=c.classes,h=u.raw,g=c.events;c.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){u=e(l.element)}function a(e){if(e.data&&(e=e.data),e.enabled)for(var t,i,a,n=0;n<e.target.length;n++){t=0,i=0,(a=e.$el.find(e.target[n])).css(e.property,"");for(var o=0;o<a.length;o++)(i=a.eq(o)[e.type]())>t&&(t=i);a.css(e.property,t)}}function n(e){e.enabled&&(e.enabled=!1,s(e))}function o(e){if(!e.enabled){e.enabled=!0;var t=e.$el.find("img");t.length&&t.on(c.load,e,a),a(e)}}function s(e){for(var t=0;t<e.target.length;t++)e.$el.find(e.target[t]).css(e.property,"");e.$el.find("img").off(c.namespace)}var r=t.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:function(t){t.maxWidth=t.maxWidth===1/0?"100000px":t.maxWidth,t.mq="(min-width:"+t.minWidth+") and (max-width:"+t.maxWidth+")",t.type="height"===t.property?"outerHeight":"outerWidth",t.target?e.isArray(t.target)||(t.target=[t.target]):t.target=["> *"],i(),e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){o.call(t.$el,t)},leave:function(){n.call(t.$el,t)}})},_destruct:function(t){s(t),e.fsMediaquery("unbind",t.rawGuid),i()},_resize:function(e){d.iterate.call(u,a)},resize:a}}),l=r.classes,c=(l.raw,r.events),d=r.functions,u=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./touch"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(){A=e(q.base)}function a(e){e.enabled&&(O.clearTimer(e.autoTimer),e.enabled=!1,e.$subordinate.off(z.update),this.removeClass([E.enabled,E.animated].join(" ")).off(z.namespace),e.$canister.fsTouch("destroy").off(z.namespace).attr("style","").css(V,"none"),e.$items.css({width:"",height:""}).removeClass([E.visible,q.item_previous,q.item_next].join(" ")),e.$images.off(z.namespace),e.$controlItems.off(z.namespace),e.$pagination.html("").off(z.namespace),f(e),e.useMargin?e.$canister.css({marginLeft:""}):e.$canister.css(X,""),e.index=0)}function n(e){e.enabled||(e.enabled=!0,this.addClass(E.enabled),e.$controlItems.on(z.click,e,g),e.$pagination.on(z.click,q.page,e,p),e.$items.on(z.click,e,W),e.$subordinate.on(z.update,e,_),_({data:e},0),e.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(z.panStart,e,w).on(z.pan,e,y).on(z.panEnd,e,C).on(z.swipe,e,x).on(z.focusIn,e,k).css(V,""),s(e),e.$images.on(z.load,e,u),e.autoAdvance&&(e.autoTimer=O.startTimer(e.autoTimer,e.autoTime,function(){h(e)},!0)),o.call(this,e))}function o(e){if(e.enabled){var t,i,a,n,o,s,r;if(e.count=e.$items.length,e.count<1)return f(e),void e.$canister.css({height:""});for(this.removeClass(E.animated),e.containerWidth=e.$container.outerWidth(!1),e.visible=b(e),e.perPage=e.paged?1:e.visible,e.itemMarginLeft=parseInt(e.$items.eq(0).css("marginLeft")),e.itemMarginRight=parseInt(e.$items.eq(0).css("marginRight")),e.itemMargin=e.itemMarginLeft+e.itemMarginRight,isNaN(e.itemMargin)&&(e.itemMargin=0),e.itemWidth=(e.containerWidth-e.itemMargin*(e.visible-1))/e.visible,e.itemHeight=0,e.pageWidth=e.paged?e.itemWidth:e.containerWidth,e.pageCount=Math.ceil(e.count/e.perPage),e.canisterWidth=e.single?e.containerWidth:(e.pageWidth+e.itemMargin)*e.pageCount,e.$canister.css({width:e.matchWidth?e.canisterWidth:1e6,height:""}),e.$items.css({width:e.matchWidth?e.itemWidth:"",height:""}).removeClass([E.visible,E.item_previous,E.item_next].join(" ")),e.pages=[],i=0,0;i<e.count;i+=e.perPage){for(o=0,s=0,(n=e.$items.slice(i,i+e.perPage)).length<e.perPage&&(n=0===i?e.$items:e.$items.slice(e.$items.length-e.perPage)),r=(e.rtl?n.eq(n.length-1):n.eq(0)).position().left,a=0;a<n.length;a++)o+=n.eq(a).outerWidth(!0),(t=n.eq(a).outerHeight())>s&&(s=t);e.pages.push({left:e.rtl?r-(e.canisterWidth-o):r,height:s,width:o,$items:n}),s>e.itemHeight&&(e.itemHeight=s)}e.paged&&(e.pageCount=e.count-e.visible+1),e.pageCount<=0&&(e.pageCount=1),e.maxMove=-e.pages[e.pageCount-1].left,e.autoHeight?e.$canister.css({height:e.pages[0].height}):e.matchHeight&&e.$items.css({height:e.itemHeight});var l="";for(i=0;i<e.pageCount;i++)l+='<button type="button" class="'+E.page+'">'+(i+1)+"</button>";e.$pagination.html(l),e.pageCount<=1?f(e):v(e),e.$paginationItems=e.$pagination.find(q.page),m(e,e.index,!1),setTimeout(function(){e.$el.addClass(E.animated)},5)}}function s(e){e.$items=e.$canister.children().not(":hidden").addClass(E.item),e.$images=e.$canister.find("img"),e.totalImages=e.$images.length}function r(e,t){e.$images.off(z.namespace),!1!==t&&e.$canister.html(t),e.index=0,s(e),o.call(this,e)}function l(e,t,i,a,n){e.enabled&&(O.clearTimer(e.autoTimer),void 0===n&&(n=!0),m(e,t-1,n,i,a))}function c(e){var t=e.index-1;e.infinite&&t<0&&(t=e.pageCount-1),m(e,t)}function d(e){var t=e.index+1;e.infinite&&t>=e.pageCount&&(t=0),m(e,t)}function u(e){var t=e.data;t.resizeTimer=O.startTimer(t.resizeTimer,1,function(){o.call(t.$el,t)})}function h(e){var t=e.index+1;console.log(e),t>=e.pageCount&&(t=0),m(e,t)}function g(t){O.killEvent(t);var i=t.data,a=i.index+(e(t.currentTarget).hasClass(E.control_next)?1:-1);O.clearTimer(i.autoTimer),m(i,a)}function p(t){O.killEvent(t);var i=t.data,a=i.$paginationItems.index(e(t.currentTarget));O.clearTimer(i.autoTimer),m(i,a)}function m(t,i,a,n,o){if(i<0&&(i=t.infinite?t.pageCount-1:0),i>=t.pageCount&&(i=t.infinite?0:t.pageCount-1),!(t.count<1)){t.pages[i]&&(t.leftPosition=-t.pages[i].left),t.leftPosition=T(t,t.leftPosition),t.useMargin?t.$canister.css({marginLeft:t.leftPosition}):!1===a?(t.$canister.css(V,"none").css(X,"translateX("+t.leftPosition+"px)"),setTimeout(function(){t.$canister.css(V,"")},5)):t.$canister.css(X,"translateX("+t.leftPosition+"px)"),t.$items.removeClass([E.visible,E.item_previous,E.item_next].join(" "));for(var s=0,r=t.pages.length;s<r;s++)s===i?t.pages[s].$items.addClass(E.visible).attr("aria-hidden","false"):t.pages[s].$items.not(t.pages[i].$items).addClass(s<i?E.item_previous:E.item_next).attr("aria-hidden","true");t.autoHeight&&t.$canister.css({height:t.pages[i].height}),!1!==a&&!0!==n&&i!==t.index&&(t.infinite||i>-1&&i<t.pageCount)&&t.$el.trigger(z.update,[i]),t.index=i,t.linked&&!0!==o&&e(t.linked).not(t.$el)[j]("jumpPage",t.index+1,!0,!0),$(t)}}function f(e){e.$controls.removeClass(E.visible),e.$controlItems.removeClass(E.visible),e.$pagination.removeClass(E.visible)}function v(e){e.$controls.addClass(E.visible),e.$controlItems.addClass(E.visible),e.$pagination.addClass(E.visible)}function $(e){e.$paginationItems.removeClass(E.active).eq(e.index).addClass(E.active),e.infinite?e.$controlItems.addClass(E.visible):e.pageCount<1?e.$controlItems.removeClass(E.visible):(e.$controlItems.addClass(E.visible),e.index<=0?e.$controlPrevious.removeClass(E.visible):(e.index>=e.pageCount-1||!e.single&&e.leftPosition===e.maxMove)&&e.$controlNext.removeClass(E.visible))}function b(i){var a=1;if(i.single)return a;if("array"===e.type(i.show))for(var n in i.show)i.show.hasOwnProperty(n)&&(t.support.matchMedia?i.show[n].mq.matches&&(a=i.show[n].count):i.show[n].width<t.fallbackWidth&&(a=i.show[n].count));else a=i.show;return i.fill&&i.count<a?i.count:a}function w(t,i){var a=t.data;if(O.clearTimer(a.autoTimer),!a.single){if(a.useMargin)a.leftPosition=parseInt(a.$canister.css("marginLeft"));else{var n=a.$canister.css(X).split(",");a.leftPosition=parseInt(n[4])}if(a.$canister.css(V,"none").css("will-change","transform"),y(t),a.linked&&!0!==i){var o=t.deltaX/a.pageWidth;a.rtl&&(o*=-1),e(a.linked).not(a.$el)[j]("panStart",o)}}a.isTouching=!0}function y(t,i){var a=t.data;if(!a.single&&(a.touchLeft=T(a,a.leftPosition+t.deltaX),a.useMargin?a.$canister.css({marginLeft:a.touchLeft}):a.$canister.css(X,"translateX("+a.touchLeft+"px)"),a.linked&&!0!==i)){var n=t.deltaX/a.pageWidth;a.rtl&&(n*=-1),e(a.linked).not(a.$el)[j]("pan",n)}}function C(t,i){var a=t.data,n=Math.abs(t.deltaX),o=M(a,t),s=!1;if(a.didPan=!1,!a.single){var r,l,c=Math.abs(a.touchLeft),d=!1,u=a.rtl?"right":"left";if(t.directionX===u)for(r=0,l=a.pages.length;r<l;r++)d=a.pages[r],c>Math.abs(d.left)+20&&(s=r+1);else for(r=a.pages.length-1,l=0;r>=l;r--)d=a.pages[r],c<Math.abs(d.left)&&(s=r-1)}!1===s&&(s=n<50?a.index:a.index+o),s!==a.index&&(a.didPan=!0),a.linked&&!0!==i&&e(a.linked).not(a.$el)[j]("panEnd",s),H(a,s)}function x(t,i){var a=t.data,n=M(a,t),o=a.index+n;a.linked&&!0!==i&&e(a.linked).not(a.$el)[j]("swipe",t.directionX),H(a,o)}function H(e,t){e.$canister.css(V,"").css("will-change",""),m(e,t),e.isTouching=!1}function W(t){var i=t.data,a=e(t.currentTarget);if(!i.didPan&&(a.trigger(z.itemClick),i.controller)){var n=i.$items.index(a);_(t,n),i.$subordinate[j]("jumpPage",n+1,!0)}}function k(t){var i=t.data;if(i.enabled&&!i.isTouching){O.clearTimer(i.autoTimer),i.$container.scrollLeft(0);var a,n=e(t.target);n.hasClass(E.item)?a=n:n.parents(q.item).length&&(a=n.parents(q.item).eq(0));for(var o=0;o<i.pageCount;o++)if(i.pages[o].$items.is(a)){m(i,o);break}}}function _(e,t){var i=e.data;if(i.controller){var a=i.$items.eq(t);i.$items.removeClass(E.active),a.addClass(E.active);for(var n=0;n<i.pageCount;n++)if(i.pages[n].$items.is(a)){m(i,n,!0,!0);break}}}function T(e,t){return isNaN(t)?t=0:e.rtl?(t>e.maxMove&&(t=e.maxMove),t<0&&(t=0)):(t<e.maxMove&&(t=e.maxMove),t>0&&(t=0)),t}function M(e,t){return e.rtl?"right"===t.directionX?1:-1:"left"===t.directionX?1:-1}var I=t.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8e3,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous",controls:"Carousel {guid} Controls",pagination:"Carousel {guid} Pagination"},matchHeight:!1,matchWidth:!0,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,rtl:!1,show:1,single:!1,theme:"fs-light",useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{itemClick:"itemClick",update:"update"},methods:{_construct:function(o){var r;o.didPan=!1,o.carouselClasses=[E.base,o.theme,o.customClass,o.rtl?E.rtl:E.ltr],o.maxWidth=o.maxWidth===1/0?"100000px":o.maxWidth,o.mq="(min-width:"+o.minWidth+") and (max-width:"+o.maxWidth+")",o.customControls="object"===e.type(o.controls)&&o.controls.previous&&o.controls.next,o.customPagination="string"===e.type(o.pagination),o.id=this.attr("id"),o.id?o.ariaId=o.id:(o.ariaId=o.rawGuid,this.attr("id",o.ariaId)),t.support.transform||(o.useMargin=!0);var l="",c="",d=[E.control,E.control_previous].join(" "),u=[E.control,E.control_next].join(" ");o.controls&&!o.customControls&&(o.labels.controls=o.labels.controls.replace("{guid}",o.numGuid),l+='<div class="'+E.controls+'" aria-label="'+o.labels.controls+'" aria-controls="'+o.ariaId+'">',l+='<button type="button" class="'+d+'" aria-label="'+o.labels.previous+'">'+o.labels.previous+"</button>",l+='<button type="button" class="'+u+'" aria-label="'+o.labels.next+'">'+o.labels.next+"</button>",l+="</div>"),o.pagination&&!o.customPagination&&(o.labels.pagination=o.labels.pagination.replace("{guid}",o.numGuid),c+='<div class="'+E.pagination+'" aria-label="'+o.labels.pagination+'" aria-controls="'+o.ariaId+'" role="navigation">',c+="</div>"),o.autoHeight&&o.carouselClasses.push(E.auto_height),o.contained&&o.carouselClasses.push(E.contained),o.single&&o.carouselClasses.push(E.single),this.addClass(o.carouselClasses.join(" ")).wrapInner('<div class="'+E.wrapper+'" aria-live="polite"><div class="'+E.container+'"><div class="'+E.canister+'"></div></div></div>').append(l).wrapInner('<div class="'+E.viewport+'"></div>').append(c),o.$viewport=this.find(q.viewport).eq(0),o.$container=this.find(q.container).eq(0),o.$canister=this.find(q.canister).eq(0),o.$pagination=this.find(q.pagination).eq(0),o.$controlPrevious=o.$controlNext=e(""),o.customControls?(o.$controls=e(o.controls.container).addClass([E.controls,E.controls_custom].join(" ")),o.$controlPrevious=e(o.controls.previous).addClass(d),o.$controlNext=e(o.controls.next).addClass(u)):(o.$controls=this.find(q.controls).eq(0),o.$controlPrevious=o.$controls.find(q.control_previous),o.$controlNext=o.$controls.find(q.control_next)),o.$controlItems=o.$controlPrevious.add(o.$controlNext),o.customPagination&&(o.$pagination=e(o.pagination).addClass([E.pagination])),o.$paginationItems=o.$pagination.find(q.page),o.index=0,o.enabled=!1,o.leftPosition=0,o.autoTimer=null,o.resizeTimer=null;var h=this.data(P+"-linked");o.linked=!!h&&"[data-"+P+'-linked="'+h+'"]',o.linked&&(o.paged=!0);var g=this.data(P+"-controller-for")||"";if(o.$subordinate=e(g),o.$subordinate.length&&(o.controller=!0),"object"===e.type(o.show)){var p=o.show,m=[],f=[];for(r in p)p.hasOwnProperty(r)&&f.push(r);f.sort(O.sortAsc);for(r in f)f.hasOwnProperty(r)&&m.push({width:parseInt(f[r]),count:p[f[r]],mq:window.matchMedia("(min-width: "+parseInt(f[r])+"px)")});o.show=m}s(o),e.fsMediaquery("bind",o.rawGuid,o.mq,{enter:function(){n.call(o.$el,o)},leave:function(){a.call(o.$el,o)}}),i(),o.carouselClasses.push(E.enabled),o.carouselClasses.push(E.animated)},_destruct:function(t){O.clearTimer(t.autoTimer),O.clearTimer(t.resizeTimer),a.call(this,t),e.fsMediaquery("unbind",t.rawGuid),t.id!==t.ariaId&&this.removeAttr("id"),t.$controlItems.removeClass([q.control,E.control_previous,q.control_next,q.visible].join(" ")).off(z.namespace),t.$images.off(z.namespace),t.$canister.fsTouch("destroy"),t.$items.removeClass([E.item,E.visible,q.item_previous,q.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),t.controls&&!t.customControls&&t.$controls.remove(),t.customControls&&t.$controls.removeClass([E.controls,E.controls_custom,E.visible].join(" ")),t.pagination&&!t.customPagination&&t.$pagination.remove(),t.customPagination&&t.$pagination.html("").removeClass([E.pagination,E.visible].join(" ")),this.removeClass(t.carouselClasses.join(" ")),i()},_resize:function(e){O.iterate.call(A,o)},disable:a,enable:n,jump:l,previous:c,next:d,jumpPage:l,previousPage:c,nextPage:d,jumpItem:function(e,t,i,a,n){if(e.enabled){O.clearTimer(e.autoTimer);var o=e.$items.eq(t-1);void 0===n&&(n=!0);for(var s=0;s<e.pageCount;s++)if(e.pages[s].$items.is(o)){m(e,s,n,i,a);break}}},reset:function(e){e.enabled&&r.call(this,e,!1)},resize:o,update:r,panStart:function(e,t){if(O.clearTimer(e.autoTimer),!e.single){
if(e.rtl&&(t*=-1),e.useMargin)e.leftPosition=parseInt(e.$canister.css("marginLeft"));else{var i=e.$canister.css(X).split(",");e.leftPosition=parseInt(i[4])}e.$canister.css(V,"none"),y({data:e,deltaX:e.pageWidth*t},!0)}e.isTouching=!0},pan:function(e,t){if(!e.single){e.rtl&&(t*=-1);var i=e.pageWidth*t;e.touchLeft=T(e,e.leftPosition+i),e.useMargin?e.$canister.css({marginLeft:e.touchLeft}):e.$canister.css(X,"translateX("+e.touchLeft+"px)")}},panEnd:function(e,t){H(e,t)},swipe:function(e,t){x({data:e,directionX:t},!0)}}}),P=I.namespace,j=I.namespaceClean,q=I.classes,E=q.raw,z=I.events,O=I.functions,A=[],X=t.transform,V=t.transition}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function i(t){t.stopPropagation();var i=t.data;e(t.target).is(i.$el)||(t.preventDefault(),i.$el.trigger("click"))}function a(e){var t=e.data,i=t.$el.is(":disabled"),a=t.$el.is(":checked");i||(t.radio?a&&n(e):a?n(e):o(e))}function n(t){t.data.radio&&e('input[name="'+t.data.group+'"]').not(t.data.$el).trigger("deselect"),t.data.$el.trigger(u.focus),t.data.$classable.addClass(d.checked)}function o(e){e.data.$el.trigger(u.focus),e.data.$classable.removeClass(d.checked)}function s(e){e.data.$classable.addClass(d.focus)}function r(e){e.data.$classable.removeClass(d.focus)}var l=t.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"},theme:"fs-light"},classes:["element_placeholder","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:function(t){var n=this.closest("label"),l=n.length?n.eq(0):e("label[for="+this.attr("id")+"]"),h=[d.base,t.theme,t.customClass].join(" "),g=[d.label,t.theme,t.customClass].join(" "),p="";t.radio="radio"===this.attr("type"),t.group=this.attr("name"),p+='<div class="'+d.marker+'" aria-hidden="true">',p+='<div class="'+d.flag+'"></div>',t.toggle&&(h+=" "+d.toggle,g+=" "+d.toggle,p+='<span class="'+[d.state,d.state_on].join(" ")+'">'+t.labels.on+"</span>",p+='<span class="'+[d.state,d.state_off].join(" ")+'">'+t.labels.off+"</span>"),t.radio&&(h+=" "+d.radio,g+=" "+d.radio),p+="</div>",t.$placeholder=e('<span class="'+d.element_placeholder+'"></span>'),this.before(t.$placeholder),t.labelParent=l.find(this).length,t.labelClass=g,l.addClass(g),t.labelParent?l.wrap('<div class="'+h+'"></div>').before(p):this.before('<div class=" '+h+'">'+p+"</div>"),t.$checkbox=t.labelParent?l.parents(c.base):this.prev(c.base),t.$marker=t.$checkbox.find(c.marker),t.$states=t.$checkbox.find(c.state),t.$label=l,t.$classable=e().add(t.$checkbox).add(t.$label),this.is(":checked")&&t.$classable.addClass(d.checked),this.is(":disabled")&&t.$classable.addClass(d.disabled),this.appendTo(t.$marker),this.on(u.focus,t,s).on(u.blur,t,r).on(u.change,t,a).on(u.click,t,i).on(u.deselect,t,o),t.$checkbox.on(u.click,t,i)},_destruct:function(e){e.$checkbox.off(u.namespace),e.$marker.remove(),e.$states.remove(),e.$label.removeClass(e.labelClass),e.labelParent?e.$label.unwrap():this.unwrap(),e.$placeholder.before(this),e.$placeholder.remove(),this.off(u.namespace)},enable:function(e){this.prop("disabled",!1),e.$classable.removeClass(d.disabled)},disable:function(e){this.prop("disabled",!0),e.$classable.addClass(d.disabled)},update:function(e){var t=e.$el.is(":disabled"),i=e.$el.is(":checked");t||(i?n({data:e}):o({data:e}))}},events:{deselect:"deselect"}}),c=l.classes,d=c.raw,u=l.events;l.functions}),$(document).ready(function(){$(".lightbox").lightbox(),$(".swap").swap(),$("input[type='checkbox'], input[type='radio']").checkbox(),$(".carousel").carousel(),$(".equalize").equalize({target:".equalize-child"}),$(".tab").tabs({theme:"",mobileMaxWidth:"320px"}),optimizer(),$(".about-form").on("change",function(){forms()})});