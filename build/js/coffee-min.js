$(document).ready(function(){function e(){coffees=t.slider("getValue"),coffeecost=parseInt($(".coffee-cost").html()),results=coffees*coffeecost*52,$(".coffee-qty").html(coffees),$(".coffee-result").html(results);var e={advertising:{age:43,turnover:.178,withLoans:.37,maxPayments:120,averageBalance:37172,averageDebtLength:236,averageRate:5.5}},o="advertising",a=e[o],r=a.turnover,n=3e4,s=5.5,l=28.5,f=coffees*coffeecost*52,c=f/12;console.log(c);var m=4.3+.14/r/2,h=12*Math.floor(m)+Math.floor(12*(m-Math.floor(m))),i={loanTermMonths:Math.floor(342),salePrice:3e4,interestRate:5.5,downPayment:"0%"},u=MortgageCalculator.calculateMortgage(i);extraPaymentMonths=h>a.maxPayments?a.maxPayments:h,i.extras=[{startMonth:1,endMonth:extraPaymentMonths,extraIntervalMonths:1,extraAmount:c}];var g=MortgageCalculator.calculateMortgage(i),M=extraPaymentMonths*c,d=Math.floor(u.totalLoanCost-g.totalLoanCost),y=M+d,v=g.loanTermMonths-g.numberOfPayments,x=Math.round(v/12),P=v,b=d.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");$(".coffee-early").html((P/12|0)+" years and "+P%12+" months"),$(".coffee-interest").html(b)}var t=$("#contribution").slider({tooltip:"always",formatter:function(e){return e}});e(),$("#contribution").slider().on("slideStop",function(){e()})});