.nav {

  background-color: @white;
  //padding: @spaced 0;

  & &-button {

    color: @purple;
    @size: 80px;

    @media @min {
      height: @size - @spaced;
      line-height: @size - @spaced;      
    }
    @media @tablet {
      height: @size;
      line-height: @size;      
    }

    text-decoration: none;
    display: inline-block;
    border-bottom: 5px solid transparent;
    transition: 200ms ease;  

    &:before {
      position: relative;
      top: .120em;
      margin-right: 8px;
    }

    &--powered {
      @media @min {
        padding-top: 14px;
        line-height: 1.4;
        .font_size(11);
      }
    }

    &-signout {
      display: none;
      padding-left: 10px;
      position: relative;
      margin-left: 10px;
      &:before {
        content: '';
        display: block;
        height: 22%;
        position: absolute;
        left: 0;
        top: 54%;
        transform: translateY(-50%);
        width: 1px;
        background-color: @purple;
      }
    }

    &-wrapper {
      &:hover {
        .nav-button-signout {
          display: inline-block;
        }
      }
    }

    &-menu {
      float: left;
    }

    &-logo {
      display: inline-block;
      width: auto;
      float: left;
      @media @min {
        height: @size - @spaced;
      }
      @media @tablet {
        height: @size;
      }
    }

    &-icon {
      position: relative;
      top: .35em;
      margin-right: 10px;
      opacity: .5;
      &:hover {
        opacity: 1;
        border-color: transparent;
      }
    }

    span {
      color: inherit;
      display: inline-block;
    }

    &.fs-swap {
      &-enabled {
        .close {
          display: none;
        }
      }
      &-active {
        .menu {
          display: none;
        }
        .close {
          display: inline-block;
        }
      }
    }

    &--em {
      font-weight: 600;
    }

    &--inactive {
      color: @gray;
    }

    &--active {
      font-weight: 600;
      border-bottom: 5px solid @purple;
    }

    &-bottom {

      @size: 60px;

      @media @min {
        height: @size - @spaced;
        line-height: @size - @spaced;      
      }
      @media @tablet {
        height: @size;
        line-height: @size;      
      }

      &:hover {
        opacity: 1;
        border-bottom: 5px solid @teal   
      }
    }

  }

}

#nav {

  position: relative;
  z-index: 9;
  border-bottom: 1px solid @lighterGray;
  &.fs-swap-active {
    //position: fixed;
    width: 100%;
    z-index: 100;
    background-color: @purple;
    border-bottom: 1px solid transparent;
    a {
      color: @white;
    }
  }
  //padding-top: @spaced;

  &-mobile {
    background-color: @purple;
    //position: fixed;
    //bottom: 0;
    z-index: 99;
    width: 100%;
    text-align: center;

    .nav-button {
      color: @white;
      height: 40px;
      line-height: 40px;
      display: inline-block;
      font-weight: bold;
      .font_size(12);
      box-shadow: 1px 0 0 @black25;
      padding: 0 15px;
      &.first {
        padding-left: 0;
      }
      &.last {
        box-shadow: none;
        padding-right: 0;
      }
    }

    @media @tablet {
      display: none;
    }
  }

  &-sub {

    padding-bottom: 0;
    background-color: @white;
    border-bottom: 1px solid @lighterGray;
    position: relative;
    z-index: 10;
    //box-shadow: 0 5px @spaced rgba(0,0,0,0.02);

    @media @min {
      display: none;
    }
    @media @tablet {
      display: block;
    }

    &-drawer {
      position: absolute;
      left: 0;
      top: 100%;
      width: 100%;
      &-wrapper {
        background-color: @purple;
        padding: 10px @spaced;
        text-align: right;
        float: right;
        color: @white;
        border-radius: 4px 0px 4px 4px;
        box-shadow: 0 15px @spaced @black25;
      }
      a {
        display: block;
        border-bottom: 1px solid rgba(255,255,255,.1);
        height: 50px;
        line-height: 50px;
        color: inherit;
        text-decoration: none;
        &:hover {
          border-bottom: 1px solid @white;
        }
        &:last-child {
          border-bottom: 0;
        }
      }
    }

  }

  &-overlay {
    .cover();
    z-index: 99;
    position: fixed;
    background-color: @purple;
    transition: 300ms ease;
    display: none;

    @media @min {
      &.fs-swap-active {
        display: block;
      }
    }
    @media @tablet {
      display: block;
      visibility: hidden;
      opacity: 0;
      &.fs-swap-active {
        visibility: visible;
        opacity: 1;
      }
    }

    &-centered {
      .center();
      width: 100%;
    }

    .menu {
      text-align: center;
      &-sub {
        text-align: center;
        &-item {
          display: inline-block;
          margin: 0 5px;
          a {
            color: @white50;
            text-decoration: none;
          }
        }
      }
      &-item {
        a {
          @media @min {
            .font_size(24);
          }
          @media @tablet {
            .font_size(48);
          }
          @media @desktop {
            .font_size(64);
          }
          font-weight: bold;
          text-decoration: none;
          color: @white;
        }
      }
    }

  }

  &-locked {
    display: none;
    &__inside {
      height: 300px;
      width: 500px;
      text-align: center;
      position: relative;
      h3 {
        color: @purple;
        font-weight: bold;
        .font_size(32);
      }
      .centered {
        .center();
      }
    }
  }

}

.fs {
  &-lightbox {
    &-overlay {
      background-color: @black25!important;
    }
    &-inline {
      box-shadow: 0 5px @spaced rgba(0,0,0,0.15)!important;
    }
  }
}

.sub {
  &-child {
    visibility: hidden;
    opacity: 0;
    transition: 300ms ease;
  }
  &-parent {
    &:hover {
      .sub-child {
        visibility: visible;
        opacity: 1;
      }
    } 
  }
}